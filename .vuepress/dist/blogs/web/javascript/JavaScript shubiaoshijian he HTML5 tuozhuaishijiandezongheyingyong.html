<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="favicon.ico"><title>JavaScript 鼠标事件 和 HTML5 拖拽事件的综合应用 | xunyublog</title><meta name="description" content="用代码将梦想照进现实">
    <link rel="modulepreload" href="/xunyu-blog/assets/app-e6acbbcc.js"><link rel="modulepreload" href="/xunyu-blog/assets/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html-f6ec0dc2.js"><link rel="modulepreload" href="/xunyu-blog/assets/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html-afce948c.js"><link rel="prefetch" href="/xunyu-blog/assets/index.html-0a05feab.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-8c2edf06.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-4b3ba946.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-06281f40.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-f0d1d354.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-47172bd3.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-ebff1241.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-8ebf0941.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-7e2fe36f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-f01b1d86.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-cb91802b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-ec10ed1d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-17c6444b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-ee5a3abc.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-2bff94e1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-671d86a4.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-7c68cf3f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-47efc587.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-80880afd.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-04bbd1d5.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-103e2208.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-652450b0.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-f9835b2a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-ce0d065c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-30015e5f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-d207aad1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-21469184.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-c10c52d6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-5d7f901a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-cfdaadf7.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-2a4bf96c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-0b0463a7.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-953f98a2.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-6599e18f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-1a88d37b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-c8e98ed0.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-800887e5.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-06f5ab5e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-5d669565.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-cda0070c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-fe378dda.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-dffdd74d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-0f53ed8c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-fce4e91d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-4eeeb806.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/erchashu.html-dadfe748.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/shuzuzifuchuan.html-06bd1210.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-1065dd3d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/meirimianshiti.html-a095cf63.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-1d33ca8a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-28d0f9d0.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JSON、Ajax、kuayuqingqiu、XHR duixiang、Axios yu Fetch.html-23fe59a2.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/qianhouduanshujujiaohu yu HTTP xieyi.html-c5812704.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/bendicunchu Cookie、localStorage、sessionStorage shijian.html-d63306bd.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JS mianxiangduixiang、fencengsheji、dongtaishujubianlizuijiashijianyuyingyong.html-a9b6bef3.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JS mianxiangduixiang，daimafencengjiagoushejishijian yu wangluoqingqiufengzhuang.html-5c8a708b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/qianhouduanfenlijiagou VS chuantongjiagou，xingyezuijiashijian.html-172091df.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/xiaochengxu npm zhichi，zhuangtaiguanli，fenbao，zidingyi tabBar.html-b3426240.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/xiaochengxujieliufangdou，gujiapinggongnen、yonghutiyanyouhuayushijian.html-f8b68c9f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/xiaochengxuxiangmujiegou、peizhiceng、shituceng、luojiceng、suzhuhuanjing.html-90705cfb.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxuyunkaifashixianzhucedenglu yu duozhongduanchangjiandenglufangshi.html-14ca5690.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxufazhanshi、kaifahuanjingzhunbei、tuanduixiezuoshangxianliucheng.html-3d1374ce.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxudeshengmingzhouqi、shengmingzhouqihanshu yu shijianyingyong.html-7f594dd4.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxuzidingyizujianfengzhuang，xiangmuzuijiashijianzongheyingyong.html-aa99b441.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxuzidingyizujian，hexinjichu he shijianyingyong.html-c621ce40.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxushitucengdezujian、shujubangding，liebiao、tiaojianxuanran.html-7171a62e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxuyemiandaohang、chuancan、shijian、API、wangluoqingqiu.html-aac75206.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS display shuxing、beijingshuxing、qitachangyongshuxing.html-1f4b3412.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS sandatexing：jicheng、cengdiexing、youxianji.html-d384b284.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS jichurenzhi he xuanzeqi.html-5746782c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS dingwei、cengdieshunxu、cengdieshangxiawen.html-41b86989.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS wenbenhezitishuxing、liebiaoshuxing.html-f6832785.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS hezimoxing.html-c68f8f7a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/margin fuzhidezuijiashijian.html-04fb9053.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/transform 2D yu 3D zhuanhuan.html-02b71b48.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/transition guodudonghuayu animation zidingyidonghua.html-6807d786.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/qianduan CSS、CSS3 hexinyangshiheshuxing.html-92d23bc4.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/yuanjiao、yinying、wenbentuxiangchuli、CSS hanshu.html-4e69ec3a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/fudong、BFC guifan、qingchufudongdezuijiashijian.html-1134247d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/fangyushibiancheng - fangyushi CSS.html-918615e6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Class leideshuxing、fangfa、jicheng、gouzaohanshujijiejuefangan.html-8f566f31.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ECMAScript、ES6 jianshi，let、const、var qubieheyingyong.html-d552e040.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 Module mokuaixitong.html-0ad5c722.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 Proxy daili yu Reflect fanshe，Vue3 xiangyingshishujuyuanli.html-13541bf2.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 shengyucanshu he zhankaiyunsuanfuzaishijikaifazhongdeyingyong.html-b4c4488e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 zifuchuan、shuzu、duixiangdexinzengfangfahechangjianyingyong.html-d21920b1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 jiantouhanshu he duixiangzimianliangzengqiang，dachangmianshizhentijiexi.html-b43e9626.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 jiegoufuzhi，hanshucanshumorenzhi，zaixiangmuzhongdeyingyongchangjing.html-f2d65469.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Generator hanshudeshijianyushijianyingyong.html-dbb76cce.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript zhongde Event Loop shijianxunhuan、weirenwuyuhongrenwu.html-e4327356.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Promise yongfa、shilifangfa、yuanliyuyibubianchengdeshijianyingyong.html-0bd1d8ef.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Set、WeakSet、Map shujujiegoudeyingyongjimianshizhentijiexi.html-1331742d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Symbol、BigInt、mobanzifuchuandeyingyongchangjinghedicengyuanli.html-9ab441e9.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/shejimoshi - diedaiqimoshihe Iterator bianliqiyu for...of xunhuan.html-118bbcf8.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/HTMLHTML5 changyongbiaoqianheshuxing.html-db99e9c6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/HTMLHTML5 biaoqianjichuyufa.html-3664e169.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/qianduan HTMLHTML5 hexinbiaoqianheshuxing.html-e4fad838.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/defineProperty fangfa，JS gongyou、siyou、jingtai，zhanheduilie.html-122c5a02.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript BOM hexin Window duixiangshuxing、fangfa、shijian.html-87d62307.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript DOM shijian，shijianliu，shijianduixiang，shijianweituo.html-5030874f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript DOM yangshi yu jiediancaozuo.html-cdce436e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript sandabaozhuanglei Number、String、Boolean.html-eb4e697b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript dingshiqi、yanshiqi、CSS3 donghuashijian，fangdoujieliu.html-8d2eb83f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript zhixingyuanli、bibao、lajihuishou、lijizhixinghanshu.html-2d674298.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript shujuleixingheleixingzhuanhuan.html-ec9b7b47.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript shuzuyingyong he suanfa.html-c6e3ea4a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript hexinjichu，jieduanceshiti.html-be8b0cbb.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript zhengzebiaodashicongrumendaoshijian，zhengzexiangguangongju.html-ec060863.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript liuchengkongzhiyuju he suanfa.html-cd8bb86c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript jianjie、hexinyufa、bianliang.html-76d92116.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript suanfa，dachangqianduanmianshizhenti.html-ce1a1f6b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript jichengde 6 zhongfangshi、yingyongchangjing，nazhigouzaohanshu.html-3cc9bb45.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript biaodashi、caozuofu、weiyunsuanfu.html-9a641544.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript cuowuchuli、LHS zuochaxun、RHS youchaxun.html-fc8aa281.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript mianxiangduixiang，yuanxingheyuanxinglian.html-1de0dd82.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JS hanshu、zuoyongyu（lian）、bianlianghanshutisheng、suanfahexin.html-3351d340.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JS de Math yu Date duixiang，shouxiehuodongdaojishi、rilizujian.html-20495e4f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/shenru JavaScript shuzuxiangguanfangfa he API.html-8cb66978.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS zhong class leixing，fanxing，leixingduanyanhexinjichu yu shijianyingyong.html-3c6db7ce.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS gongchengshijianzhongdebianyigongju，daimajianchagongju，danyuanceshi.html-c7e03fc3.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS gongchengshijian，goujiangongju，mokuaixitong，bianxieleixingshengmingwenjian.html-4a5e4fb0.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS mokuai，namespace mingmingkongjian，declare guanjianzi.html-c8f9d93a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS deleixingjianchajizhi，leixingjianrongxing、baohujizhi、gaojileixing.html-9e64c6fb.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript zhong Enum meijuleixing、interface jiekouleixing.html-1a198f0b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript hanshuleixing、symbol leixing、duixiangleixing.html-440742ff.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript kuaisurumen - hexinjichu，TS jibenshujuleixing.html-d16ffff2.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript shuzu、yuanzu，any、unknown、never leixing.html-43175d3f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript zhushizhiling，tsconfig.json，tsc minglingxingbianjiqi.html-d2cd11fc.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript leixingyunsuanfu，leixingyingshe，leixinggongju.html-fea698ef.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-b0da4c7a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Pinia quanjuzhuangtaiguanli，shenru State、Getter、Action.html-79f7b0d1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue Router daohangshouwei、guoduyugundong、lanjiazai、dongtailuyou.html-3c905286.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue Router luyouchuancan、bieming、pipeiyufa、bianchengshidaohang.html-266b3c65.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue Router luyou，qianhouduanluyouyuanli yu jutishixian.html-40cbc854.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zhong Transition he TransitionGroup zujian，shijianyingyong.html-637cb469.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zhongde Teleport nazhizujian.html-cfe0a9df.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue xiongdizujianjiantongxin、fabuyudingyue，dongtai、yibuzujian.html-51954835.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue danwenjianzujian，fuzizujianjianchuanzhi、tongxin，touchuanshuxing.html-fc307d9c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue jichu - mobanyufa、shijianchuli、jisuanshuxing、zhentingqi.html-d2004456.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue jichu - biaodan、yangshibangding，tiaojian、liebiaoxuanran、zhiling.html-ad9bed7f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue chajiankaifa，Element Plus、VantUI zujiankushijianyingyong.html-e16136eb.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue chacao Slots，zidingyidanchuang、gaojiliebiaozujian，yilaizhuru.html-286b482c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue xuanranjizhi - xuni DOM，render、h hanshu，xuanranliucheng.html-0a1645af.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue shengmingzhouqi、zidingyizhiling、mobanyinyongdeyuanliyushijian.html-1891e63e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zuheshi API - ref，tongxin API，yilaizhuru，shengmingzhouqi.html-0534c781.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zuheshi API - setup、reactive yu ref，xiangyingshigongju.html-7efe16f2.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zuheshi API - watch he watchEffect、zidingyizhiling.html-ef680d5e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-e8746971.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-1e3f3d12.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-0ec94cd6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-878e1e3d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-99e62dc7.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-253af406.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-52e93341.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-e607bef8.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-b677c9d4.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-d886c017.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-e2d9e0f1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-8417dc60.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-5eba1ef3.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-7d5d3a24.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-cc644e55.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-c921a9c6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-24dc6b8c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-f7bdec04.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-b9ed927c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-2ea3bd97.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-16961c02.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-26893b23.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-6dbda73d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-581b6ebc.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-737fff38.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-b6f3ce0f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-f4f317b2.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-7c6ba81b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-d3c47778.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-0454517d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-8aeb11a5.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-3348dca8.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-923b7ed6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-da28b259.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-4ff571d7.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-a608c8fd.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-f4d7362e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-852db63e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-4d025540.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-0d33dae7.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-267a8317.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-283e0783.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-c0546935.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-7ef14def.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-0b5e964f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-060da2ee.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/erchashu.html-a3e6c2bd.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/shuzuzifuchuan.html-43d9c252.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-499f4139.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/meirimianshiti.html-581f56a8.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-c6315699.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-1a1252e1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JSON、Ajax、kuayuqingqiu、XHR duixiang、Axios yu Fetch.html-b4246646.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/qianhouduanshujujiaohu yu HTTP xieyi.html-29100b57.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/bendicunchu Cookie、localStorage、sessionStorage shijian.html-d727c3c5.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JS mianxiangduixiang、fencengsheji、dongtaishujubianlizuijiashijianyuyingyong.html-7fba4063.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JS mianxiangduixiang，daimafencengjiagoushejishijian yu wangluoqingqiufengzhuang.html-8840916a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/qianhouduanfenlijiagou VS chuantongjiagou，xingyezuijiashijian.html-a926e57e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/xiaochengxu npm zhichi，zhuangtaiguanli，fenbao，zidingyi tabBar.html-2aa2af07.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/xiaochengxujieliufangdou，gujiapinggongnen、yonghutiyanyouhuayushijian.html-7cb84792.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/xiaochengxuxiangmujiegou、peizhiceng、shituceng、luojiceng、suzhuhuanjing.html-8240f61e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxuyunkaifashixianzhucedenglu yu duozhongduanchangjiandenglufangshi.html-9202d848.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxufazhanshi、kaifahuanjingzhunbei、tuanduixiezuoshangxianliucheng.html-c4a5db76.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxudeshengmingzhouqi、shengmingzhouqihanshu yu shijianyingyong.html-569b2ebf.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxuzidingyizujianfengzhuang，xiangmuzuijiashijianzongheyingyong.html-b887f886.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxuzidingyizujian，hexinjichu he shijianyingyong.html-268899dc.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxushitucengdezujian、shujubangding，liebiao、tiaojianxuanran.html-9420fb0b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/weixinxiaochengxuyemiandaohang、chuancan、shijian、API、wangluoqingqiu.html-11286f59.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS display shuxing、beijingshuxing、qitachangyongshuxing.html-96c4de2a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS sandatexing：jicheng、cengdiexing、youxianji.html-27f3dc1a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS jichurenzhi he xuanzeqi.html-11ab29ca.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS dingwei、cengdieshunxu、cengdieshangxiawen.html-0955e04d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS wenbenhezitishuxing、liebiaoshuxing.html-65c61620.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/CSS hezimoxing.html-4dfa76f6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/margin fuzhidezuijiashijian.html-3067b737.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/transform 2D yu 3D zhuanhuan.html-545ebdb6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/transition guodudonghuayu animation zidingyidonghua.html-343ca919.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/qianduan CSS、CSS3 hexinyangshiheshuxing.html-9f4dbbf1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/yuanjiao、yinying、wenbentuxiangchuli、CSS hanshu.html-14804a57.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/fudong、BFC guifan、qingchufudongdezuijiashijian.html-369f6d61.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/fangyushibiancheng - fangyushi CSS.html-6c8574b5.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Class leideshuxing、fangfa、jicheng、gouzaohanshujijiejuefangan.html-68cd4d47.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ECMAScript、ES6 jianshi，let、const、var qubieheyingyong.html-7aee346f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 Module mokuaixitong.html-33638b85.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 Proxy daili yu Reflect fanshe，Vue3 xiangyingshishujuyuanli.html-eefc752a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 shengyucanshu he zhankaiyunsuanfuzaishijikaifazhongdeyingyong.html-a4d13aac.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 zifuchuan、shuzu、duixiangdexinzengfangfahechangjianyingyong.html-9991e2e0.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 jiantouhanshu he duixiangzimianliangzengqiang，dachangmianshizhentijiexi.html-129f7af5.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/ES6 jiegoufuzhi，hanshucanshumorenzhi，zaixiangmuzhongdeyingyongchangjing.html-332f63b5.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Generator hanshudeshijianyushijianyingyong.html-fc19e0c0.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript zhongde Event Loop shijianxunhuan、weirenwuyuhongrenwu.html-f627bde7.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Promise yongfa、shilifangfa、yuanliyuyibubianchengdeshijianyingyong.html-5c0b81e1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Set、WeakSet、Map shujujiegoudeyingyongjimianshizhentijiexi.html-8556e39b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Symbol、BigInt、mobanzifuchuandeyingyongchangjinghedicengyuanli.html-9a3c8ee1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/shejimoshi - diedaiqimoshihe Iterator bianliqiyu for...of xunhuan.html-2a45bef7.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/HTMLHTML5 changyongbiaoqianheshuxing.html-ecf2cf35.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/HTMLHTML5 biaoqianjichuyufa.html-1d558997.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/qianduan HTMLHTML5 hexinbiaoqianheshuxing.html-59524e8c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/defineProperty fangfa，JS gongyou、siyou、jingtai，zhanheduilie.html-8925e7b2.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript BOM hexin Window duixiangshuxing、fangfa、shijian.html-41420b83.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript DOM shijian，shijianliu，shijianduixiang，shijianweituo.html-986d2e70.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript DOM yangshi yu jiediancaozuo.html-d056d7e7.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript sandabaozhuanglei Number、String、Boolean.html-5c024ded.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript dingshiqi、yanshiqi、CSS3 donghuashijian，fangdoujieliu.html-68642e13.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript zhixingyuanli、bibao、lajihuishou、lijizhixinghanshu.html-1268aacd.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript shujuleixingheleixingzhuanhuan.html-10798382.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript shuzuyingyong he suanfa.html-470b13e0.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript hexinjichu，jieduanceshiti.html-a79a04d3.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript zhengzebiaodashicongrumendaoshijian，zhengzexiangguangongju.html-2f263f75.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript liuchengkongzhiyuju he suanfa.html-5cda12b1.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript jianjie、hexinyufa、bianliang.html-5b08f053.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript suanfa，dachangqianduanmianshizhenti.html-ad5b777e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript jichengde 6 zhongfangshi、yingyongchangjing，nazhigouzaohanshu.html-6af3fe01.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript biaodashi、caozuofu、weiyunsuanfu.html-c831791b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript cuowuchuli、LHS zuochaxun、RHS youchaxun.html-2d27029d.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JavaScript mianxiangduixiang，yuanxingheyuanxinglian.html-61241526.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JS hanshu、zuoyongyu（lian）、bianlianghanshutisheng、suanfahexin.html-4a0b92c9.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/JS de Math yu Date duixiang，shouxiehuodongdaojishi、rilizujian.html-3aa1ffb6.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/shenru JavaScript shuzuxiangguanfangfa he API.html-fa8f706e.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS zhong class leixing，fanxing，leixingduanyanhexinjichu yu shijianyingyong.html-09150064.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS gongchengshijianzhongdebianyigongju，daimajianchagongju，danyuanceshi.html-0f811e55.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS gongchengshijian，goujiangongju，mokuaixitong，bianxieleixingshengmingwenjian.html-09ff99cb.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS mokuai，namespace mingmingkongjian，declare guanjianzi.html-f2fcc9b5.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TS deleixingjianchajizhi，leixingjianrongxing、baohujizhi、gaojileixing.html-cb274009.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript zhong Enum meijuleixing、interface jiekouleixing.html-8a73d646.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript hanshuleixing、symbol leixing、duixiangleixing.html-927f3d84.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript kuaisurumen - hexinjichu，TS jibenshujuleixing.html-1928f40f.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript shuzu、yuanzu，any、unknown、never leixing.html-42e3986a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript zhushizhiling，tsconfig.json，tsc minglingxingbianjiqi.html-0366c3a8.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/TypeScript leixingyunsuanfu，leixingyingshe，leixinggongju.html-b7419d8b.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index.html-096c91ba.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Pinia quanjuzhuangtaiguanli，shenru State、Getter、Action.html-5953ca56.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue Router daohangshouwei、guoduyugundong、lanjiazai、dongtailuyou.html-9918ec0a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue Router luyouchuancan、bieming、pipeiyufa、bianchengshidaohang.html-1399ac4c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue Router luyou，qianhouduanluyouyuanli yu jutishixian.html-7bf6ae10.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zhong Transition he TransitionGroup zujian，shijianyingyong.html-7694a51c.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zhongde Teleport nazhizujian.html-786e0148.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue xiongdizujianjiantongxin、fabuyudingyue，dongtai、yibuzujian.html-88948c91.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue danwenjianzujian，fuzizujianjianchuanzhi、tongxin，touchuanshuxing.html-192fb2eb.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue jichu - mobanyufa、shijianchuli、jisuanshuxing、zhentingqi.html-72db0552.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue jichu - biaodan、yangshibangding，tiaojian、liebiaoxuanran、zhiling.html-4af1c94a.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue chajiankaifa，Element Plus、VantUI zujiankushijianyingyong.html-fcae5486.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue chacao Slots，zidingyidanchuang、gaojiliebiaozujian，yilaizhuru.html-2d55ee20.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue xuanranjizhi - xuni DOM，render、h hanshu，xuanranliucheng.html-f71f23cb.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue shengmingzhouqi、zidingyizhiling、mobanyinyongdeyuanliyushijian.html-cbefcd15.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zuheshi API - ref，tongxin API，yilaizhuru，shengmingzhouqi.html-92033268.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zuheshi API - setup、reactive yu ref，xiangyingshigongju.html-03beed90.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/Vue zuheshi API - watch he watchEffect、zidingyizhiling.html-0f13c883.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/404.html-0c9309ab.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/reco-valine-a195b6e9.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/giscus-2a044aea-497f0bd4.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/xunyu-blog/assets/index-82585c84.js" as="script">
    <link rel="preload" href="/xunyu-blog/assets/style-944c878d.css" as="style"><link rel="stylesheet" href="/xunyu-blog/assets/style-944c878d.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper show-series show-catalog"><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/xunyu-blog/logo.jpg" alt="xunyublog"><a href="/xunyu-blog/" class="site-name can-hide">xunyublog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/xunyu-blog/" class="link router-link-active" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="前端学习笔记"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 2H8a2 2 0 0 0-2 2v4H4v2h2v5H4v2h2v5H4v2h2v4a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 26H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18z" fill="currentColor"></path><path d="M14 8h8v2h-8z" fill="currentColor"></path><path d="M14 15h8v2h-8z" fill="currentColor"></path><path d="M14 22h8v2h-8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端学习笔记<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="前端学习笔记"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 2H8a2 2 0 0 0-2 2v4H4v2h2v5H4v2h2v5H4v2h2v4a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 26H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18z" fill="currentColor"></path><path d="M14 8h8v2h-8z" fill="currentColor"></path><path d="M14 15h8v2h-8z" fill="currentColor"></path><path d="M14 22h8v2h-8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端学习笔记<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端基础<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/html/前端 HTMLHTML5 核心标签和属性.md" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/css/前端 CSS、CSS3 核心样式和属性.md" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/javascript/JavaScript 简介、核心语法、变量.md" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->进阶<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/ajax/前后端数据交互 与 HTTP 协议.md" class="link" aria-label="Ajax"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ajax<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/es6/ECMAScript、ES6 简史，let、const、var 区别和应用.md" class="link" aria-label="ES6"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/brower/" class="link" aria-label="浏览器原理和性能优化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->浏览器原理和性能优化<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->小程序<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/applet/微信小程序发展史、开发环境准备、团队协作上线流程.md" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->框架<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/vue/Vue 基础 - 模板语法、事件处理、计算属性、侦听器.md" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/react/" class="link" aria-label="React"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/typescript/TypeScript 快速入门 - 核心基础，TS 基本数据类型.md" class="link" aria-label="TypeScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->构建工具<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/webpack/" class="link" aria-label="Webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/vite/" class="link" aria-label="Vite"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vite<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="外部库"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.947 19a4.948 4.948 0 0 1-3.499-8.447l5.106-5.104a4.948 4.948 0 0 1 6.998 6.998l-.553.552l-1.415-1.413l.557-.557a2.95 2.95 0 0 0-.004-4.166a3.02 3.02 0 0 0-4.17 0l-5.104 5.104a2.947 2.947 0 0 0 0 4.17a3.02 3.02 0 0 0 4.17 0l1.414 1.414a4.918 4.918 0 0 1-3.5 1.449z" fill="currentColor"></path><path d="M19.947 17a4.948 4.948 0 0 1-3.499-8.447l.553-.552l1.414 1.415l-.552.552a2.948 2.948 0 0 0 0 4.169a3.02 3.02 0 0 0 4.17 0l5.105-5.105a2.951 2.951 0 0 0 0-4.168a3.02 3.02 0 0 0-4.17 0l-1.414-1.415a4.948 4.948 0 0 1 6.998 6.998l-5.104 5.103a4.92 4.92 0 0 1-3.5 1.45z" fill="currentColor"></path><path d="M24 30H4a2.002 2.002 0 0 1-2-2V8a2.002 2.002 0 0 1 2-2h4v2H4v20h20V18h2v10a2.002 2.002 0 0 1-2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="外部库"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.947 19a4.948 4.948 0 0 1-3.499-8.447l5.106-5.104a4.948 4.948 0 0 1 6.998 6.998l-.553.552l-1.415-1.413l.557-.557a2.95 2.95 0 0 0-.004-4.166a3.02 3.02 0 0 0-4.17 0l-5.104 5.104a2.947 2.947 0 0 0 0 4.17a3.02 3.02 0 0 0 4.17 0l1.414 1.414a4.918 4.918 0 0 1-3.5 1.449z" fill="currentColor"></path><path d="M19.947 17a4.948 4.948 0 0 1-3.499-8.447l.553-.552l1.414 1.415l-.552.552a2.948 2.948 0 0 0 0 4.169a3.02 3.02 0 0 0 4.17 0l5.105-5.105a2.951 2.951 0 0 0 0-4.168a3.02 3.02 0 0 0-4.17 0l-1.414-1.415a4.948 4.948 0 0 1 6.998 6.998l-5.104 5.103a4.92 4.92 0 0 1-3.5 1.45z" fill="currentColor"></path><path d="M24 30H4a2.002 2.002 0 0 1-2-2V8a2.002 2.002 0 0 1 2-2h4v2H4v20h20V18h2v10a2.002 2.002 0 0 1-2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a class="link" href="https://element.eleme.io/#/zh-CN" target="_blank" rel="noopener noreferrer" aria-label="Element Ui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Element Ui<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a class="link" href="https://www.naiveui.com/zh-CN/light/docs/introduction" target="_blank" rel="noopener noreferrer" aria-label="Naive Ui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Naive Ui<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a class="link" href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener noreferrer" aria-label="Echarts"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Echarts<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="面试题"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M28 10h-5V6a2.002 2.002 0 0 0-2-2H11a2.002 2.002 0 0 0-2 2v4H4a2.002 2.002 0 0 0-2 2v16a2.002 2.002 0 0 0 2 2h24a2.002 2.002 0 0 0 2-2V12a2.002 2.002 0 0 0-2-2zM4 28V12h5v2H7v2h2v2H7v2h2v2H7v2h2v4zm17 0H11V6h10zm7 0h-5v-4h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h5z" fill="currentColor"></path><path d="M14 8h4v2h-4z" fill="currentColor"></path><path d="M14 12h4v2h-4z" fill="currentColor"></path><path d="M14 16h4v2h-4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="面试题"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M28 10h-5V6a2.002 2.002 0 0 0-2-2H11a2.002 2.002 0 0 0-2 2v4H4a2.002 2.002 0 0 0-2 2v16a2.002 2.002 0 0 0 2 2h24a2.002 2.002 0 0 0 2-2V12a2.002 2.002 0 0 0-2-2zM4 28V12h5v2H7v2h2v2H7v2h2v2H7v2h2v4zm17 0H11V6h10zm7 0h-5v-4h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h5z" fill="currentColor"></path><path d="M14 8h4v2h-4z" fill="currentColor"></path><path d="M14 12h4v2h-4z" fill="currentColor"></path><path d="M14 16h4v2h-4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/xunyu-blog/blogs/interview/everyday/每日面试题.md" class="link" aria-label="每日面试题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->每日面试题<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/blogs/interview/html/" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/blogs/interview/css/" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/blogs/interview/javascript/" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/es6/" class="link" aria-label="ES6"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/write/" class="link" aria-label="手写面试题 "><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->手写面试题 <!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/blogs/webpack/" class="link" aria-label="webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/brower/" class="link" aria-label="浏览器网络"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->浏览器网络<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/vue/" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/react/" class="link" aria-label="React"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/algorithm/" class="link" aria-label="算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->算法<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/xunyu-blog/blogs/algorithm/二叉树.md" class="link" aria-label="算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M19 13h6v2h-6z" fill="currentColor"></path><path d="M13 21h-2v-2H9v2H7v2h2v2h2v-2h2v-2z" fill="currentColor"></path><path d="M7 9h6v2H7z" fill="currentColor"></path><path d="M19 17h6v2h-6z" fill="currentColor"></path><path d="M27 3H5a2.002 2.002 0 0 0-2 2v22a2.002 2.002 0 0 0 2 2h22a2.002 2.002 0 0 0 2-2V5a2.002 2.002 0 0 0-2-2zM15 5v10H5V5zM5 17h10v10H5zm12 10V5h10v22z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->算法<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/xunyu-blog/project/" class="link" aria-label="项目"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 17v8H6v-8h10m0-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M27 6v5H17V6h10m0-2H17a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M27 17v5h-5v-5h5m0-2h-5a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M11 6v5H6V6h5m0-2H6a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->项目<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="文件夹"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->文件夹<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="文件夹"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->文件夹<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/xunyu-blog/categories/vue/1/" class="link" aria-label="vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/categories/applet/1/" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/categories/mianshi/1/" class="link" aria-label="面试"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><header class="sub-navbar-container"><span class="nav-item"><div class="toggle-series-button" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div> Series </span></header><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/xunyu-blog/" class="link router-link-active" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="前端学习笔记"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 2H8a2 2 0 0 0-2 2v4H4v2h2v5H4v2h2v5H4v2h2v4a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 26H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18z" fill="currentColor"></path><path d="M14 8h8v2h-8z" fill="currentColor"></path><path d="M14 15h8v2h-8z" fill="currentColor"></path><path d="M14 22h8v2h-8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端学习笔记<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="前端学习笔记"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 2H8a2 2 0 0 0-2 2v4H4v2h2v5H4v2h2v5H4v2h2v4a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 26H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18z" fill="currentColor"></path><path d="M14 8h8v2h-8z" fill="currentColor"></path><path d="M14 15h8v2h-8z" fill="currentColor"></path><path d="M14 22h8v2h-8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端学习笔记<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端基础<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/html/前端 HTMLHTML5 核心标签和属性.md" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/css/前端 CSS、CSS3 核心样式和属性.md" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/javascript/JavaScript 简介、核心语法、变量.md" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->进阶<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/ajax/前后端数据交互 与 HTTP 协议.md" class="link" aria-label="Ajax"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ajax<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/es6/ECMAScript、ES6 简史，let、const、var 区别和应用.md" class="link" aria-label="ES6"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/brower/" class="link" aria-label="浏览器原理和性能优化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->浏览器原理和性能优化<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->小程序<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/applet/微信小程序发展史、开发环境准备、团队协作上线流程.md" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->框架<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/vue/Vue 基础 - 模板语法、事件处理、计算属性、侦听器.md" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/react/" class="link" aria-label="React"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/typescript/TypeScript 快速入门 - 核心基础，TS 基本数据类型.md" class="link" aria-label="TypeScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->构建工具<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/webpack/" class="link" aria-label="Webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/xunyu-blog/blogs/web/vite/" class="link" aria-label="Vite"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vite<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="外部库"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.947 19a4.948 4.948 0 0 1-3.499-8.447l5.106-5.104a4.948 4.948 0 0 1 6.998 6.998l-.553.552l-1.415-1.413l.557-.557a2.95 2.95 0 0 0-.004-4.166a3.02 3.02 0 0 0-4.17 0l-5.104 5.104a2.947 2.947 0 0 0 0 4.17a3.02 3.02 0 0 0 4.17 0l1.414 1.414a4.918 4.918 0 0 1-3.5 1.449z" fill="currentColor"></path><path d="M19.947 17a4.948 4.948 0 0 1-3.499-8.447l.553-.552l1.414 1.415l-.552.552a2.948 2.948 0 0 0 0 4.169a3.02 3.02 0 0 0 4.17 0l5.105-5.105a2.951 2.951 0 0 0 0-4.168a3.02 3.02 0 0 0-4.17 0l-1.414-1.415a4.948 4.948 0 0 1 6.998 6.998l-5.104 5.103a4.92 4.92 0 0 1-3.5 1.45z" fill="currentColor"></path><path d="M24 30H4a2.002 2.002 0 0 1-2-2V8a2.002 2.002 0 0 1 2-2h4v2H4v20h20V18h2v10a2.002 2.002 0 0 1-2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="外部库"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.947 19a4.948 4.948 0 0 1-3.499-8.447l5.106-5.104a4.948 4.948 0 0 1 6.998 6.998l-.553.552l-1.415-1.413l.557-.557a2.95 2.95 0 0 0-.004-4.166a3.02 3.02 0 0 0-4.17 0l-5.104 5.104a2.947 2.947 0 0 0 0 4.17a3.02 3.02 0 0 0 4.17 0l1.414 1.414a4.918 4.918 0 0 1-3.5 1.449z" fill="currentColor"></path><path d="M19.947 17a4.948 4.948 0 0 1-3.499-8.447l.553-.552l1.414 1.415l-.552.552a2.948 2.948 0 0 0 0 4.169a3.02 3.02 0 0 0 4.17 0l5.105-5.105a2.951 2.951 0 0 0 0-4.168a3.02 3.02 0 0 0-4.17 0l-1.414-1.415a4.948 4.948 0 0 1 6.998 6.998l-5.104 5.103a4.92 4.92 0 0 1-3.5 1.45z" fill="currentColor"></path><path d="M24 30H4a2.002 2.002 0 0 1-2-2V8a2.002 2.002 0 0 1 2-2h4v2H4v20h20V18h2v10a2.002 2.002 0 0 1-2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a class="link" href="https://element.eleme.io/#/zh-CN" target="_blank" rel="noopener noreferrer" aria-label="Element Ui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Element Ui<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a class="link" href="https://www.naiveui.com/zh-CN/light/docs/introduction" target="_blank" rel="noopener noreferrer" aria-label="Naive Ui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Naive Ui<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a class="link" href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener noreferrer" aria-label="Echarts"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Echarts<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="面试题"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M28 10h-5V6a2.002 2.002 0 0 0-2-2H11a2.002 2.002 0 0 0-2 2v4H4a2.002 2.002 0 0 0-2 2v16a2.002 2.002 0 0 0 2 2h24a2.002 2.002 0 0 0 2-2V12a2.002 2.002 0 0 0-2-2zM4 28V12h5v2H7v2h2v2H7v2h2v2H7v2h2v4zm17 0H11V6h10zm7 0h-5v-4h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h5z" fill="currentColor"></path><path d="M14 8h4v2h-4z" fill="currentColor"></path><path d="M14 12h4v2h-4z" fill="currentColor"></path><path d="M14 16h4v2h-4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="面试题"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M28 10h-5V6a2.002 2.002 0 0 0-2-2H11a2.002 2.002 0 0 0-2 2v4H4a2.002 2.002 0 0 0-2 2v16a2.002 2.002 0 0 0 2 2h24a2.002 2.002 0 0 0 2-2V12a2.002 2.002 0 0 0-2-2zM4 28V12h5v2H7v2h2v2H7v2h2v2H7v2h2v4zm17 0H11V6h10zm7 0h-5v-4h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h5z" fill="currentColor"></path><path d="M14 8h4v2h-4z" fill="currentColor"></path><path d="M14 12h4v2h-4z" fill="currentColor"></path><path d="M14 16h4v2h-4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/xunyu-blog/blogs/interview/everyday/每日面试题.md" class="link" aria-label="每日面试题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->每日面试题<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/blogs/interview/html/" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/blogs/interview/css/" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/blogs/interview/javascript/" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/es6/" class="link" aria-label="ES6"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/write/" class="link" aria-label="手写面试题 "><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->手写面试题 <!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/blogs/webpack/" class="link" aria-label="webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/brower/" class="link" aria-label="浏览器网络"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->浏览器网络<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/vue/" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/react/" class="link" aria-label="React"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/interview/algorithm/" class="link" aria-label="算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->算法<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/xunyu-blog/blogs/algorithm/二叉树.md" class="link" aria-label="算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M19 13h6v2h-6z" fill="currentColor"></path><path d="M13 21h-2v-2H9v2H7v2h2v2h2v-2h2v-2z" fill="currentColor"></path><path d="M7 9h6v2H7z" fill="currentColor"></path><path d="M19 17h6v2h-6z" fill="currentColor"></path><path d="M27 3H5a2.002 2.002 0 0 0-2 2v22a2.002 2.002 0 0 0 2 2h22a2.002 2.002 0 0 0 2-2V5a2.002 2.002 0 0 0-2-2zM15 5v10H5V5zM5 17h10v10H5zm12 10V5h10v22z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->算法<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/xunyu-blog/project/" class="link" aria-label="项目"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 17v8H6v-8h10m0-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M27 6v5H17V6h10m0-2H17a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M27 17v5h-5v-5h5m0-2h-5a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M11 6v5H6V6h5m0-2H6a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->项目<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="文件夹"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->文件夹<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="文件夹"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->文件夹<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/xunyu-blog/categories/vue/1/" class="link" aria-label="vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/categories/applet/1/" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/xunyu-blog/categories/mianshi/1/" class="link" aria-label="面试"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/xunyu-blog/logo.jpg" alt="xunyublog"><a href="/xunyu-blog/" class="site-name can-hide">xunyublog</a></div><!--[--><!--[--><section class="series-group series-item"><h5 class="series-heading">javascript核心基础<span class="arrow down"></span></h5><ul style="display:block;"><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript jianjie、hexinyufa、bianliang.html" class="link series-item" aria-label="JavaScript 简介、核心语法、变量"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 简介、核心语法、变量<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript shujuleixingheleixingzhuanhuan.html" class="link series-item" aria-label="JavaScript 数据类型和类型转换"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 数据类型和类型转换<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript biaodashi、caozuofu、weiyunsuanfu.html" class="link series-item" aria-label="JavaScript 表达式、操作符、位运算符"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 表达式、操作符、位运算符<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript liuchengkongzhiyuju he suanfa.html" class="link series-item" aria-label="JavaScript 流程控制语句 和 算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 流程控制语句 和 算法<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript shuzuyingyong he suanfa.html" class="link series-item" aria-label="JavaScript 数组应用 和 算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 数组应用 和 算法<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JS hanshu、zuoyongyu（lian）、bianlianghanshutisheng、suanfahexin.html" class="link series-item" aria-label="JS 函数、作用域（链）、变量函数提升、算法核心"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JS 函数、作用域（链）、变量函数提升、算法核心<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/shenru JavaScript shuzuxiangguanfangfa he API.html" class="link series-item" aria-label="深入 JavaScript 数组相关方法 和 API"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->深入 JavaScript 数组相关方法 和 API<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript suanfa，dachangqianduanmianshizhenti.html" class="link series-item" aria-label="JavaScript 算法，大厂前端面试真题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 算法，大厂前端面试真题<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--[--><section class="series-group series-item"><h5 class="series-heading active">javascript核心重点<span class="arrow down"></span></h5><ul style="display:block;"><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript mianxiangduixiang，yuanxingheyuanxinglian.html" class="link series-item" aria-label="JavaScript 面向对象，原型和原型链"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 面向对象，原型和原型链<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript DOM shijian，shijianliu，shijianduixiang，shijianweituo.html" class="link series-item" aria-label="JavaScript DOM 事件，事件流，事件对象，事件委托"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript DOM 事件，事件流，事件对象，事件委托<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript DOM yangshi yu jiediancaozuo.html" class="link series-item" aria-label="JavaScript DOM 样式 与 节点操作"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript DOM 样式 与 节点操作<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript dingshiqi、yanshiqi、CSS3 donghuashijian，fangdoujieliu.html" class="link series-item" aria-label="JavaScript 定时器、延时器、CSS3 动画事件，防抖节流"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 定时器、延时器、CSS3 动画事件，防抖节流<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html" class="router-link-active router-link-exact-active link router-link-active series-item active" aria-label="JavaScript 鼠标事件 和 HTML5 拖拽事件的综合应用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 鼠标事件 和 HTML5 拖拽事件的综合应用<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript BOM hexin Window duixiangshuxing、fangfa、shijian.html" class="link series-item" aria-label="JavaScript BOM 核心 Window 对象属性、方法、事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript BOM 核心 Window 对象属性、方法、事件<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/defineProperty fangfa，JS gongyou、siyou、jingtai，zhanheduilie.html" class="link series-item" aria-label="defineProperty 方法，JS 公有、私有、静态，栈和队列"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->defineProperty 方法，JS 公有、私有、静态，栈和队列<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript jichengde 6 zhongfangshi、yingyongchangjing，nazhigouzaohanshu.html" class="link series-item" aria-label="JavaScript 继承的 6 种方式、应用场景，内置构造函数"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 继承的 6 种方式、应用场景，内置构造函数<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript sandabaozhuanglei Number、String、Boolean.html" class="link series-item" aria-label="JavaScript 三大包装类 Number、String、Boolean"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 三大包装类 Number、String、Boolean<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JS de Math yu Date duixiang，shouxiehuodongdaojishi、rilizujian.html" class="link series-item" aria-label="JS 的 Math 与 Date 对象，手写活动倒计时、日历组件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JS 的 Math 与 Date 对象，手写活动倒计时、日历组件<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript zhengzebiaodashicongrumendaoshijian，zhengzexiangguangongju.html" class="link series-item" aria-label="JavaScript 正则表达式从入门到实践，正则相关工具"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 正则表达式从入门到实践，正则相关工具<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript hexinjichu，jieduanceshiti.html" class="link series-item" aria-label="JavaScript 核心基础，阶段测试题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 核心基础，阶段测试题<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--[--><section class="series-group series-item"><h5 class="series-heading">javascript底层原理<span class="arrow down"></span></h5><ul style="display:block;"><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript zhixingyuanli、bibao、lajihuishou、lijizhixinghanshu.html" class="link series-item" aria-label="JavaScript 执行原理、闭包、垃圾回收、立即执行函数"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 执行原理、闭包、垃圾回收、立即执行函数<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/xunyu-blog/blogs/web/javascript/JavaScript cuowuchuli、LHS zuochaxun、RHS youchaxun.html" class="link series-item" aria-label="JavaScript 错误处理、LHS 左查询、RHS 右查询"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript 错误处理、LHS 左查询、RHS 右查询<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--]--></aside><!--[--><main class="page-container"><h1 class="page-title">JavaScript 鼠标事件 和 HTML5 拖拽事件的综合应用</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->xunyu<!--]--></span></span><!----><!----><!----><!----></div><div class="theme-reco-default-content"><div><h1 id="javascript-鼠标事件-和-html5-拖拽事件的综合应用" tabindex="-1"><a class="header-anchor" href="#javascript-鼠标事件-和-html5-拖拽事件的综合应用" aria-hidden="true">#</a> JavaScript 鼠标事件 和 HTML5 拖拽事件的综合应用</h1><p>本节内容我们开始学习 JavaScript DOM 的鼠标事件，兼容性处理，各种滚动实践，鼠标按键，综合节流函数进行综合应用。</p><p>HTML5 拖拽事件，对象、属性、方法，兼容性处理，综合项目案例实践开发等</p><h2 id="一、鼠标滚轮事件" tabindex="-1"><a class="header-anchor" href="#一、鼠标滚轮事件" aria-hidden="true">#</a> 一、鼠标滚轮事件</h2><p>鼠标滚轮事件存在兼容性问题，不同浏览器对应的事件名不一样。</p><blockquote><p>具体有以下 3 种</p></blockquote><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">事件对象属性（判断滚动方向）</th><th style="text-align:left;">支持浏览器</th></tr></thead><tbody><tr><td style="text-align:left;">mousewheel（非标准）</td><td style="text-align:left;"><code>e.wheelDelta</code> 正值（120） <code>↑</code> 负值（-120）<code>↓</code></td><td style="text-align:left;">Webkit 和 Edge 等各大浏览器，但 Firefox 不支持</td></tr><tr><td style="text-align:left;">DOMMouseScroll（非标准）</td><td style="text-align:left;"><code>e.detail</code> 正值（3）<code>↓</code> 负值（-3）<code>↑</code></td><td style="text-align:left;">低版本 firefox，同时该事件需要通过 addEventListener 方来式绑定事件监听</td></tr><tr><td style="text-align:left;">wheel（标准）</td><td style="text-align:left;"><code>e.deltaY</code> 正值 <code>↓</code> 负值 <code>↑</code></td><td style="text-align:left;">各个厂商的高版本浏览器都支持</td></tr></tbody></table><h3 id="_1、mousewheel-事件" tabindex="-1"><a class="header-anchor" href="#_1、mousewheel-事件" aria-hidden="true">#</a> 1、mousewheel 事件</h3><ul><li>早期低版本的 webkit 和 Edge 支持</li><li>通过 <code>e.wheelDelta</code> 的值来判断鼠标滚动的方向，值为 120 向上，值为-120 向下</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;wheel&quot;</span><span class="token punctuation">,</span> eventFn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">eventFn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 负值 向下滚  正值 向上滚</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>wheelDelta<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、dommousescroll-事件" tabindex="-1"><a class="header-anchor" href="#_2、dommousescroll-事件" aria-hidden="true">#</a> 2、DOMMouseScroll 事件</h3><ul><li>低版本的 Firefox 支持</li><li>通过 <code>e.detail</code> 的值来判断鼠标滚动方向，值为 3，向下滚，值为 -3 向上滚</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;DOMMouseScroll&quot;</span><span class="token punctuation">,</span> eventFn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">eventFn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 正值 3 向下滚  负值 -3  向上滚</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>detail<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、wheel-事件" tabindex="-1"><a class="header-anchor" href="#_3、wheel-事件" aria-hidden="true">#</a> 3、wheel 事件</h3><ul><li>为了统一滚轮事件的标准，各大浏览器的高版本都支持这个事件</li><li>通过 <code>e.deltaY</code> 的值来判断鼠标滚动方向，正值向下，负值向上。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;wheel&quot;</span><span class="token punctuation">,</span> eventFn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">eventFn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 正值 向下滚  负值 向上滚</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>deltaY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、兼容型处理" tabindex="-1"><a class="header-anchor" href="#_4、兼容型处理" aria-hidden="true">#</a> 4、兼容型处理</h3><p>以下代码封装成<code>wheel.js</code>文件，供后期使用</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * addWheelListener 兼容不同版板的鼠标滚轮事件
 * element 绑定滚轮事件的元素
 * eventFn 事件处理函数
 * useCapture 在捕获还是冒泡阶段执行
 */</span>
window<span class="token punctuation">.</span><span class="token function-variable function">addWheelListener</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">element<span class="token punctuation">,</span> eventFn<span class="token punctuation">,</span> useCapture <span class="token operator">=</span> <span class="token boolean">false</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取浏览器当前支持的版本的鼠标滚轮事件名</span>
  <span class="token keyword">var</span> support <span class="token operator">=</span>
    <span class="token string">&quot;onwheel&quot;</span> <span class="token keyword">in</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span>
      <span class="token operator">?</span> <span class="token string">&quot;wheel&quot;</span> <span class="token comment">// 各个厂商的高版本浏览器都支持&quot;wheel&quot;</span>
      <span class="token operator">:</span> document<span class="token punctuation">.</span>onmousewheel <span class="token operator">!==</span> <span class="token keyword">undefined</span>
      <span class="token operator">?</span> <span class="token string">&quot;mousewheel&quot;</span> <span class="token comment">// Webkit 和 IE 一定支持&quot;mousewheel&quot;</span>
      <span class="token operator">:</span> <span class="token string">&quot;DOMMouseScroll&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 低版本 firefox</span>

  <span class="token comment">// 添加鼠标事件</span>
  element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>support<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> useCapture<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 兼容写法的事件方法</span>
  <span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> e <span class="token operator">=</span> e <span class="token operator">||</span> window<span class="token punctuation">.</span>event<span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 阻止默认行为</span>
    <span class="token comment">// 处理低版本火狐</span>
    e<span class="token punctuation">.</span>detail <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>deltaY <span class="token operator">=</span> e<span class="token punctuation">.</span>detail <span class="token operator">*</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 处理低版本 ie 和  Edge等浏览器</span>
    e<span class="token punctuation">.</span>wheelDelta <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>deltaY <span class="token operator">=</span> <span class="token operator">-</span>e<span class="token punctuation">.</span>wheelDelta<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 滚动事件要处理的事情，通过e.deltaY来判断滚动的方向，正向下，负向上</span>
    <span class="token function">eventFn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>应用</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 添加鼠标滚轮事件</span>
  <span class="token function">addWheelListener</span><span class="token punctuation">(</span>box<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 事件处理函数</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;e.deltaY&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>deltaY<span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5、案例-滚动实现元素高度变化" tabindex="-1"><a class="header-anchor" href="#_5、案例-滚动实现元素高度变化" aria-hidden="true">#</a> 5、案例：滚动实现元素高度变化</h3><p><img src="data:image/gif;base64,R0lGODlhJgEdAQAAACH5BAAoAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAJgEdAaD////w5owC/4SPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCofEovGITCqXzKbzCY1Kp9Sq9YrNarfcrvcLDovH5LL5jE6r1+y2+w2Py+f0uv2Oz+v3/L7/DxgoOEhYaHiImKi4yNjo+AgZKTmZEWB5iZmpucnZ6fkJGtpJaSNqeoqaqhpAWrP6Chsr2koja3trSzuDy9t7qivjKzy8CRxDjExsDJPc3Lv84iydC90yff1abY3N/au90h0e+g0ubs5JrnK+npmewg7P6n4Szz5PX39+b5Kvv0/Sz9w/gAHDDRxR0ODBEAm7LWTYENtDEBElTvRQ8dpFjP8ZpW3s0NHjxw0hnY0kWTLZSQ0pVa7E0BLZS5gxh828UNPmzQo5he3k2fPZzwlBhQ6NUJTXUQlJcS1F2pTaUwdRpU5lUFXWVapZYW1t0NXr1wVhs41VUHbVWbRpU61N0Nbt2wNxUc2lW9fUXQN59e7tO+svYFB7AQwmLPjwqMSKizFu3O4x5EuFJzu+a1lT5cyYNnO25PlzaM6jM5e2fHpyasirG7dW/Ppw7MGzAdfueztv7rq74/Zu+ztt8LLDwxbvejxr8qrLozZv+jxp9KLTg1bveT1n9prbY3Zv+T1l+JLjQ5bveD5j+orrIxZ+Dz++/Pn069u/jz+//v38+/u3/w9ggAIOSGCBBh6IYIIKLshggw4+CGGEEk5IYYUWXohhhhpuyGGHHn4IYogijkhiiSaeiGKKKq7IYosuvghjjDLOSGONNt6IY4467shjjz7+CGSQQg5JZJFGHolkkkouyWSTTj4JZZRSTklllVZeiWWWWm7JZZdefglmmGKOSWaZZp6JZppqrslmm26+CWeccs5JZ5123olnnnruyWeffv4JaKCCDkpooYYeimiiii7KaKOOVlMAACH5BAAKAKsALBsAhwBkAAoAoPDmjAAAAAIehI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuCzsFACH5BAAeAKsALBsAkQBkAB4AoPDmjAAAAAI5hI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJdRYAACH5BAAeAKsALBsArwBkACgAoPDmjAAAAAJDhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1Kr1is1qt1xsAQAh+QQAMgCrACwbANcAZAAoAKDw5owAAAACQ4SPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCofEovGITCqXzKbzCY1Kp9Sq9YrNardcbAEAIfkEAB4AqwAsGwDXAGQAKACg////AAAAAkOEj6nL7Q+jnLTai7PevPsPhuJIluaJpurKtu4Lx/JM1/aN5/rO9/4PDAqHxKLxiEwql8ym8wmNSqfUqvWKzWq3XGwBACH5BAAUAKsALBsArwBkACgAoP///wAAAAJDhI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKh8Si8YhMKpfMpvMJjUqn1Kr1is1qt1xsAQAh+QQACgCrACwbAKUAZAAKAKD///8AAAACHoSPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gs7BQAh+QQAFACrACwbAJsAZAAKAKD///8AAAACHoSPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gs7BQAh+QQAUACrACwbAJEAZAAKAKD///8AAAACHoSPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gs7BQAh+QQAPACrACwbAHMAZAAeAKD///8AAAACOYSPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCofEovGITCqXzKbzCXUWAAAh+QQAFACrACwbAF8AZAAUAKD///8AAAACLISPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCmcFACH5BAAUAKsALBsAVQBkAAoAoP///wAAAAIehI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuCzsFACH5BAAKAKsALBsAVQBkABQAoPDmjAAAAAIshI+py+0Po5y02ouz3rz7D4biSJbmiabqyrbuC8fyTNf2jef6zvf+DwwKZwUAIfkEABQAqwAsGwBpAGQACgCg8OaMAAAAAh6Ej6nL7Q+jnLTai7PevPsPhuJIluaJpurKtu4LOwUAIfkEAAoAqwAsGwBzAGQAFACg8OaMAAAAAiyEj6nL7Q+jnLTai7PevPsPhuJIluaJpurKtu4Lx/JM1/aN5/rO9/4PDApnBQAh+QQAUACrACwbAIcAZAAUAKDw5owAAAACLISPqcvtD6OctNqLs968+w+G4kiW5omm6sq27gvH8kzX9o3n+s73/g8MCmcFADs=" alt="GIF2022-11-280-36-53"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./wheel.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 添加滚轮事件（封装后的方法）</span>
  <span class="token function">addWheelListener</span><span class="token punctuation">(</span>box<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> deltaY <span class="token operator">=</span> e<span class="token punctuation">.</span>deltaY<span class="token punctuation">;</span>
    <span class="token keyword">var</span> speed <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>deltaY <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 向下滚</span>
      <span class="token keyword">var</span> height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">+</span> speed<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>height <span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">)</span> height <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> height <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 向上滚</span>
      <span class="token keyword">var</span> height <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">-</span> speed<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>height <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">)</span> height <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>height <span class="token operator">=</span> height <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6、案例-全屏垂直滚动轮播" tabindex="-1"><a class="header-anchor" href="#_6、案例-全屏垂直滚动轮播" aria-hidden="true">#</a> 6、案例：全屏垂直滚动轮播</h3><p>涉及知识点</p><ul><li>鼠标滚轮事件</li><li>transitionend 事件</li><li>节流操作</li><li>事件委托</li><li><code>window.resize</code> 事件</li></ul><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-2723-16-06.344f78b3.gif" alt="GIF2022-11-2723-16-06"></p><h3 id="_6-1、css-布局代码" tabindex="-1"><a class="header-anchor" href="#_6-1、css-布局代码" aria-hidden="true">#</a> 6.1、CSS 布局代码</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">html,
  body</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.wrap</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 500%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate3d</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> transform 1s ease<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.wrap .slide</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 20%<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.wrap .slide:nth-child(1)</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>248<span class="token punctuation">,</span> 224<span class="token punctuation">,</span> 179<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.wrap .slide:nth-child(2)</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>179<span class="token punctuation">,</span> 248<span class="token punctuation">,</span> 191<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.wrap .slide:nth-child(3)</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>243<span class="token punctuation">,</span> 189<span class="token punctuation">,</span> 201<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.wrap .slide:nth-child(4)</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>208<span class="token punctuation">,</span> 207<span class="token punctuation">,</span> 248<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.wrap .slide:nth-child(5)</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>247<span class="token punctuation">,</span> 207<span class="token punctuation">,</span> 204<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.pagination</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.pagination span</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.pagination span.active</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> orange<span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 0 0 2px 5px orange<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 滚动容器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第一屏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第二屏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第三屏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第四屏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>slide<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>第五屏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- 分页器 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pagination<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>active<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-2、利用-transitionend-事件-来实现节流" tabindex="-1"><a class="header-anchor" href="#_6-2、利用-transitionend-事件-来实现节流" aria-hidden="true">#</a> 6.2、利用 transitionend 事件，来实现节流</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./wheel.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 获取所有的spans</span>
  <span class="token keyword">var</span> spans <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.pagination span&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> pagination <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.pagination&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> viewHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  <span class="token keyword">var</span> wrap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.wrap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> currentindex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 保存当前的序号</span>
  <span class="token keyword">var</span> prevIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 保存前一项序号</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> spans<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 按扭个数</span>
  <span class="token keyword">var</span> lock <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// false表示当前没有锁</span>

  <span class="token comment">// 给每个元素身上添加自定义属性index，用来记录当前元素身上的序号</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> spans<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    spans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">// 给每个span标签添加一个自定义属性index，用来保存对应的序号</span>
  <span class="token punctuation">}</span>

  <span class="token function">to</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 刚开始显示那个页面</span>
  <span class="token comment">// 把span元素的点击事件要处理的事情，委托给他的父亲</span>
  pagination<span class="token punctuation">.</span>onclick <span class="token operator">=</span> fn<span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token keyword">var</span> tagName <span class="token operator">=</span> target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tagName <span class="token operator">!==</span> <span class="token string">&quot;span&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lock<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    lock <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// 如果是重复点一个span，那就要考虑解锁</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentindex <span class="token operator">===</span> prevIndex<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      lock <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 需要处理事情</span>
    <span class="token comment">// 清除前一个被点击元素的样式</span>
    spans<span class="token punctuation">[</span>prevIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentindex <span class="token operator">=</span> target<span class="token punctuation">.</span>index<span class="token punctuation">;</span>
    prevIndex <span class="token operator">=</span> currentindex<span class="token punctuation">;</span>
    spans<span class="token punctuation">[</span>currentindex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> translateY <span class="token operator">=</span> <span class="token operator">-</span>currentindex <span class="token operator">*</span> viewHeight<span class="token punctuation">;</span>
    wrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&quot;translate3d(0, &quot;</span> <span class="token operator">+</span> translateY <span class="token operator">+</span> <span class="token string">&quot;px, 0)&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 处理滚轮事件</span>
  <span class="token function">addWheelListener</span><span class="token punctuation">(</span>wrap<span class="token punctuation">,</span> wheelFn<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 做了节流操作</span>
  <span class="token keyword">function</span> <span class="token function">wheelFn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>deltaY <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 向下滚</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>lock<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      lock <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      currentindex<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>currentindex <span class="token operator">===</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        currentindex <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        lock <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 开锁</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 滚动到指定下标元素</span>
      <span class="token function">to</span><span class="token punctuation">(</span>currentindex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 向上滚</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>lock<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      lock <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      currentindex<span class="token operator">--</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>currentindex <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        currentindex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        lock <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 开锁</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 滚动到指定下标元素</span>
      <span class="token function">to</span><span class="token punctuation">(</span>currentindex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 跳转到指定的下标元素</span>
  <span class="token keyword">function</span> <span class="token function">to</span><span class="token punctuation">(</span><span class="token parameter">index</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    currentindex <span class="token operator">=</span> index<span class="token punctuation">;</span> <span class="token comment">// 保存当前下标</span>
    spans<span class="token punctuation">[</span>prevIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    prevIndex <span class="token operator">=</span> currentindex<span class="token punctuation">;</span>
    spans<span class="token punctuation">[</span>currentindex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> translateY <span class="token operator">=</span> <span class="token operator">-</span>currentindex <span class="token operator">*</span> viewHeight<span class="token punctuation">;</span>
    wrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&quot;translate3d(0, &quot;</span> <span class="token operator">+</span> translateY <span class="token operator">+</span> <span class="token string">&quot;px, 0)&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 监听wrap身上的 transitionend 事件</span>
  wrap<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;transitionend&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lock <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 解锁</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 当浏览器的高度发生改变时，那就需要重新计算veiwHeight的高度</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 同时还要重新计算，wrap 的translateY的值</span>
    viewHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
    <span class="token keyword">var</span> translateY <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>currentindex <span class="token operator">*</span> viewHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    wrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&quot;translate3d(0, &quot;</span> <span class="token operator">+</span> translateY <span class="token operator">+</span> <span class="token string">&quot;px, 0)&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6-3、利用节流函数-来实现节流" tabindex="-1"><a class="header-anchor" href="#_6-3、利用节流函数-来实现节流" aria-hidden="true">#</a> 6.3、利用节流函数，来实现节流</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./wheel.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 获取所有的spans</span>
  <span class="token keyword">var</span> spans <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.pagination span&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> pagination <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.pagination&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> viewHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
  <span class="token keyword">var</span> wrap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.wrap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> currentindex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 保存当前的序号</span>
  <span class="token keyword">var</span> prevIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 保存前一项序号</span>
  <span class="token keyword">var</span> len <span class="token operator">=</span> spans<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token comment">// 按扭个数</span>

  <span class="token comment">// 给每个元素身上添加自定义属性index，用来记录当前元素身上的序号</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> spans<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    spans<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">// 给每个span标签添加一个自定义属性index，用来保存对应的序号</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 把span元素的点击事件要处理的事情，委托给他的父亲</span>
  pagination<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token function">throttle</span><span class="token punctuation">(</span>fn<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token keyword">var</span> tagName <span class="token operator">=</span> target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>tagName <span class="token operator">!==</span> <span class="token string">&quot;span&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token comment">// 需要处理事情</span>
    <span class="token comment">// 清除前一个被点击元素的样式</span>
    spans<span class="token punctuation">[</span>prevIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentindex <span class="token operator">=</span> target<span class="token punctuation">.</span>index<span class="token punctuation">;</span> <span class="token comment">// 更新当前下标</span>
    prevIndex <span class="token operator">=</span> currentindex<span class="token punctuation">;</span> <span class="token comment">// 更新前一个下标</span>
    target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给当前元素添加样式</span>
    <span class="token comment">// 滚动的距离</span>
    <span class="token keyword">var</span> translateY <span class="token operator">=</span> <span class="token operator">-</span>currentindex <span class="token operator">*</span> viewHeight<span class="token punctuation">;</span>
    wrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&quot;translate3d(0, &quot;</span> <span class="token operator">+</span> translateY <span class="token operator">+</span> <span class="token string">&quot;px, 0)&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 处理滚轮事件</span>
  <span class="token function">addWheelListener</span><span class="token punctuation">(</span>wrap<span class="token punctuation">,</span> <span class="token function">throttle</span><span class="token punctuation">(</span>wheelFn<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 做了节流操作</span>
  <span class="token keyword">function</span> <span class="token function">wheelFn</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>deltaY <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 向下滚</span>
      currentindex<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>currentindex <span class="token operator">===</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        currentindex <span class="token operator">=</span> len <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      spans<span class="token punctuation">[</span>prevIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      prevIndex <span class="token operator">=</span> currentindex<span class="token punctuation">;</span>
      spans<span class="token punctuation">[</span>currentindex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> translateY <span class="token operator">=</span> <span class="token operator">-</span>currentindex <span class="token operator">*</span> viewHeight<span class="token punctuation">;</span>
      wrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&quot;translate3d(0, &quot;</span> <span class="token operator">+</span> translateY <span class="token operator">+</span> <span class="token string">&quot;px, 0)&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token comment">// 向上滚</span>
      currentindex<span class="token operator">--</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>currentindex <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        currentindex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      spans<span class="token punctuation">[</span>prevIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 移除前一项样式</span>
      prevIndex <span class="token operator">=</span> currentindex<span class="token punctuation">;</span>
      spans<span class="token punctuation">[</span>currentindex<span class="token punctuation">]</span><span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;active&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前项添加样式</span>
      <span class="token keyword">var</span> translateY <span class="token operator">=</span> <span class="token operator">-</span>currentindex <span class="token operator">*</span> viewHeight<span class="token punctuation">;</span> <span class="token comment">// 滚动的距离</span>
      wrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&quot;translate3d(0, &quot;</span> <span class="token operator">+</span> translateY <span class="token operator">+</span> <span class="token string">&quot;px, 0)&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 当浏览器的高度发生改变时，那就需要重新计算veiwHeight的高度</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;resize&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 同时还要重新计算，wrap 的translateY的值</span>
    viewHeight <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>clientHeight<span class="token punctuation">;</span>
    <span class="token keyword">var</span> translateY <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>currentindex <span class="token operator">*</span> viewHeight<span class="token punctuation">)</span><span class="token punctuation">;</span>
    wrap<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">&quot;translate3d(0, &quot;</span> <span class="token operator">+</span> translateY <span class="token operator">+</span> <span class="token string">&quot;px, 0)&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 节流函数</span>
  <span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay <span class="token operator">=</span> <span class="token number">20</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// null表示当前锁是打开的，没有锁，可以执行事件处理函数中的代码</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>timer<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">// 保存this 绑定事件的对象</span>
      <span class="token keyword">var</span> args <span class="token operator">=</span> arguments<span class="token punctuation">;</span> <span class="token comment">// 保存arguments 主要用来获取事件对象 e</span>
      <span class="token comment">// 定时器计时，用来开锁</span>
      timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 开锁</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 事件处理函数</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、鼠标按键" tabindex="-1"><a class="header-anchor" href="#二、鼠标按键" aria-hidden="true">#</a> 二、鼠标按键</h2><p>深入浅出鼠标按键，禁止右键菜单、禁止选中元素、判断按下的鼠标键、自定义右键菜单等实际开发中常用的方法及应用场景。</p><h3 id="_1、禁止右键菜单" tabindex="-1"><a class="header-anchor" href="#_1、禁止右键菜单" aria-hidden="true">#</a> 1、禁止右键菜单</h3><ul><li><code>contextmenu</code>事件，会在鼠标点击右键或者按下键盘上的菜单键时被触发，用于显示上下文菜单</li><li>如果我们希望在按下右键时，不要显示上下文菜单，我们可以在<code>contextmenu</code>事件中，阻止默认行为。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 在页面任意位置按下右键，都不会显示上下文菜单</span>
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;contextmenu&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 只在当前元素上按下时，不显示上下文菜单</span>
box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;contextmenu&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、禁止选中元素" tabindex="-1"><a class="header-anchor" href="#_2、禁止选中元素" aria-hidden="true">#</a> 2、禁止选中元素</h3><p><code>selectstart</code> 事件，在用户开始一个新的选择时候触发</p><blockquote><p>如果不想用户选择内容，可以在事件中阻止默认行为</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function-variable function">onselectstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、判断按下的鼠标键" tabindex="-1"><a class="header-anchor" href="#_3、判断按下的鼠标键" aria-hidden="true">#</a> 3、判断按下的鼠标键</h3><ul><li><code>MouseEvent.button</code>是只读属性，它返回一个值，代表用户按下并触发了事件的鼠标按键。</li><li>常用于在 onmouseup 事件中，判断用户按下的是鼠标左键 、中键、右键中的那个键</li></ul><table><thead><tr><th style="text-align:left;">属性值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">0</td><td style="text-align:left;">主按键，通常指鼠标左键或默认值</td></tr><tr><td style="text-align:left;">1</td><td style="text-align:left;">辅助按键，通常指鼠标滚轮中键</td></tr><tr><td style="text-align:left;">2</td><td style="text-align:left;">次按键，通常指鼠标右键</td></tr></tbody></table><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onmouseup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>button<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0 左键  1中键  2右键</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、自定义右键菜单" tabindex="-1"><a class="header-anchor" href="#_4、自定义右键菜单" aria-hidden="true">#</a> 4、自定义右键菜单</h3><p>涉及知识点</p><ul><li>禁止右键菜单</li><li>事件委托</li><li><code>e.button</code> 判断按下的鼠标键</li></ul><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-280-35-02.a7fd4f88.gif" alt="GIF2022-11-280-35-02"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">html,
  body,
  ul,
  li</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.menu</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">box-shadow</span><span class="token punctuation">:</span> 2px 2px 3px #ddd<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.menu li</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">text-indent</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.menu li:hover</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.skin</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>

    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.skin .close</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 40px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> -20px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> -20px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>更换背景图<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>新建标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>显示隐藏元素<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>其它操作<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>skin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    更换皮肤
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>close<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>X<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> menu <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.menu&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> list <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.menu li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> skin <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.skin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> close <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.skin .close&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 禁止右键菜单</span>
    document<span class="token punctuation">.</span><span class="token function-variable function">oncontextmenu</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 鼠标按下时</span>
    document<span class="token punctuation">.</span><span class="token function-variable function">onmouseup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>button <span class="token operator">===</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 表示按下了右键，显示自定义的右菜单,同时右菜单在鼠标的右下角显示</span>
        menu<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
        menu<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
        menu<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 在页面任意位置点击，即关闭自定义菜单</span>
    document<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      menu<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 为菜单选项，添加点击事件，点击后做相关操作,事件委托</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 事件委托，右键菜单的点击事件委托给父元素来处理</span>
    menu<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
      <span class="token keyword">var</span> tagName <span class="token operator">=</span> target<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>tagName <span class="token operator">!==</span> <span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> index <span class="token operator">=</span> target<span class="token punctuation">.</span>index<span class="token punctuation">;</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span>
          skin<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 显示换肤界面</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token number">3</span><span class="token operator">:</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 点击关闭按扭，关闭换肤</span>
    close<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      skin<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、html5-的拖拽事件" tabindex="-1"><a class="header-anchor" href="#三、html5-的拖拽事件" aria-hidden="true">#</a> 三、HTML5 的拖拽事件</h2><ul><li>默认情况下，网页中只有<strong>图片和文本可以拖动</strong>。其它元素默认情况下，均不允许被拖动</li><li>在图片上按下鼠标不放，然后移动鼠标就可以拖动图片。</li><li>当需要拖动文本时，只需要先选中文本，然后在选中文本上按下，最后移动鼠标，就可以实现拖动。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

我是文字，选中就能拖
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.arryblog.com/logo.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>200px<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>进入艾编程官网<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-2513-37-49.32187ec1.gif" alt="GIF2022-11-2513-37-49"></p><p>如果想要其它元素也能被拖动呢 ？</p><ul><li>在 HTML5 中为每个元素提供了一个<code>draggable</code>属性，这个属性用于标识元素是否允许使用<strong>拖放操作</strong>拖动。</li><li>我们可以在元素身上添加<code>draggabel</code>属性，同时值为字符<code>&quot;true&quot;</code>，元素就可以被拖动了</li></ul><h3 id="_1、draggable-属性" tabindex="-1"><a class="header-anchor" href="#_1、draggable-属性" aria-hidden="true">#</a> 1、draggable 属性</h3><p>draggable 属性有以下三个值，用来控制元素是否能被拖拽</p><table><thead><tr><th style="text-align:left;">属性值</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">true</td><td style="text-align:left;">表示元素可以被拖动</td></tr><tr><td style="text-align:left;">false</td><td style="text-align:left;">表示元素不可以被拖动</td></tr><tr><td style="text-align:left;">auto</td><td style="text-align:left;">默认值，表示使用浏览器定义的默认行为 默认情况下,只有已选中的文本、图片、链接可以拖动，其它元素是不可拖拽的。</td></tr></tbody></table><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>我是文字，但我不能被选中<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-2816-32-42.f8e8ac63.gif" alt="GIF2022-11-2816-32-42"></p><p>注：</p><p>当元素被设置为可拖拽时，其元素中的文本和其子元素都<strong>不能以正常的方式被选中</strong>。</p><h3 id="_2、拖拽基础概念" tabindex="-1"><a class="header-anchor" href="#_2、拖拽基础概念" aria-hidden="true">#</a> 2、拖拽基础概念</h3><ul><li>在拖放（drag and drop）操作过程中，分为<strong>拖拽元素</strong>和<strong>目标元素（可放置元素）</strong></li><li><strong>拖拽元素：</strong> 鼠标按下进行拖拽的元素为拖拽元素</li><li><strong>目标元素：</strong> 把拖拽元素放入某个元素内部，或与某个元素发生碰撞等，这些元素为目标元素（可放置元素）。</li></ul><blockquote><p>如下图：假设把 A 元素拖拽放到 B 元素中，那<code>A</code>元素为拖拽元素，<code>B</code>元素为目标元素(可放置元素)</p></blockquote><p><img src="data:image/png;base64,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" alt="image-20221125135402987"></p><blockquote><p>为了更方便实现 HTML 拖放（Drag and Drop）操作，我们来学习下拖拽相关的事件。</p></blockquote><h3 id="_3、拖拽事件" tabindex="-1"><a class="header-anchor" href="#_3、拖拽事件" aria-hidden="true">#</a> 3、拖拽事件</h3><p>元素在拖拽期间，会触发一些事件类型，其中分为</p><ul><li>拖拽元素事件：<code>dragstart</code> 、<code>drag</code>、<code>dragend</code></li><li>目标元素（放置元素）事件：<code>dragenter</code>、<code>dragover</code>、<code>dragleave</code>、<code>drop</code></li></ul><h3 id="_3-1、拖拽元素事件-drag、dragstart-、dragend" tabindex="-1"><a class="header-anchor" href="#_3-1、拖拽元素事件-drag、dragstart-、dragend" aria-hidden="true">#</a> 3.1、拖拽元素事件：drag、dragstart 、dragend</h3><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">dragstart</td><td style="text-align:left;">当按住鼠标键不放并<strong>开始移动鼠标的那一刻</strong>，被拖动元素上会触发<code>dragstart</code>事件。只会在刚开始移动时触发一次。</td></tr><tr><td style="text-align:left;">drag</td><td style="text-align:left;">只要拖拽元素在拖拽中，就会持续的触发<code>drag</code>事件，有点类似于 mousemove 事件，只要鼠标在移动就会不断触发</td></tr><tr><td style="text-align:left;">dragend</td><td style="text-align:left;"><code>dragend</code> 事件在拖放操作结束时触发（通过释放鼠标按钮或单击 escape 键），只会在结束时触发一次</td></tr></tbody></table><ul><li>通常会在<code>dragstart</code>中，设置被拖拽元素为半透明，标识元素正在被拖动。</li><li>在<code>dragend</code>中，恢复被拖拽元素为不透明。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- draggable=true 表示元素可拖拽 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 按下，刚开始拖拽事</span>
  drag<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">0.3</span><span class="token punctuation">;</span> <span class="token comment">// 设置被拖拽元素的透明度</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dragstart事件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 拖拽过程中一直会触发</span>
  drag<span class="token punctuation">.</span><span class="token function-variable function">ondrag</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;drag事件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 鼠标松开，不拖拽事触发</span>
  drag<span class="token punctuation">.</span><span class="token function-variable function">ondragend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 设置被拖拽元素的透明度</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dragend事件&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221123150253835.bf786abb.png" alt="image-20221123150253835"></p><p>温馨提示：</p><ul><li><code>dragstart</code> 事件类传于<code>mousedown</code>事件，不过是在按下后开始拖拽才触发，在 <code>drag</code>事件前触发</li><li><code>drag</code>事件类似于<code>mousemove</code>事件，会在拖动过程中频繁的触发</li><li><code>dragend</code>事件类似于 <code>mouseup</code>事件，会在鼠标弹起时（不拖拽）时触发</li></ul><p>所有子元素的拖拽事件，都会冒泡到他们的父元素身上，所以在处理拖拽事件时，可以利用事件委托</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.box2</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> box2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 给box2添加对应拖拽事件</span>
  box2<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box2-start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box2<span class="token punctuation">.</span><span class="token function-variable function">ondrag</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box2-drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box2<span class="token punctuation">.</span><span class="token function-variable function">ondragend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box2-end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 以下元素默认不能拖，但事件能被成功触发</span>
  <span class="token comment">// 是因为box2元素上对应事件触发后，会冒泡到父元素上</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box-start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">ondrag</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box-drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">ondragend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box-end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  document<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;document-start&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function-variable function">ondrag</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;document-drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  document<span class="token punctuation">.</span><span class="token function-variable function">ondragend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;document-end&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221130150423150.137afbc4.png" alt="image-20221130150423150"></p><h3 id="_3-2、dragenter、dragover、dragleave-放置元素事件" tabindex="-1"><a class="header-anchor" href="#_3-2、dragenter、dragover、dragleave-放置元素事件" aria-hidden="true">#</a> 3.2、dragenter、dragover、dragleave 放置元素事件</h3><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">dragenter</td><td style="text-align:left;">当拖动的元素或被选择的文本进入有效的放置目标时， <code>dragenter</code> 事件被触发。</td></tr><tr><td style="text-align:left;">dragover</td><td style="text-align:left;">当元素或者选择的文本被拖拽到一个有效的放置目标上时，触发 <code>dragover</code> 事件（每几百毫秒触发一次）</td></tr><tr><td style="text-align:left;">dragleave</td><td style="text-align:left;"><code>dragleave</code> 事件在拖动的元素或选中的文本离开一个有效的放置目标时被触发</td></tr></tbody></table><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
    <span class="token property">z-index</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.target</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 拖拽元素</span>
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 目标元素</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 当拖拽元素进入目标元素时触发</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondragenter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dragenter&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 当拖拽元素在有效的目标位置上时会触发</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dragover&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 当拖拽元素离开有效的目标位置上时会触发</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondragleave</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;dragleave&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-2817-22-06.243493b0.gif" alt="GIF2022-11-2817-22-06"></p><h3 id="_3-3、drop-事件" tabindex="-1"><a class="header-anchor" href="#_3-3、drop-事件" aria-hidden="true">#</a> 3.3、drop 事件</h3><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">drop</td><td style="text-align:left;"><code>drop</code> 事件在被拖拽元素或选中的文本被放置在<strong>有效的放置目标</strong>上时被触发</td></tr></tbody></table><h3 id="_3-4、默认情况-元素不允许放置" tabindex="-1"><a class="header-anchor" href="#_3-4、默认情况-元素不允许放置" aria-hidden="true">#</a> 3.4、默认情况，元素不允许放置</h3><ul><li>在网页中，默认情况下，唯一有效的放置目标元素是<strong>文本框</strong>。但默认只能放置文本、链接、图片</li><li>页面其它元素默认情况下，是不允许放置。如果把元素拖动到不允许放置的目标上，然后放下，不会触发 drop 事件。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.target</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">textarea</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.arryblog.com/logo.png<span class="token punctuation">&quot;</span></span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>100<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
我是一段文字
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>www.baidu.com<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>百度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>textarea</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">cols</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>30<span class="token punctuation">&quot;</span></span> <span class="token attr-name">rows</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>10<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>textarea</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> text <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  text<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;text - drop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;target - drop &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-2817-39-24.7ee632ca.gif" alt="GIF2022-11-2817-39-24"></p><h3 id="_3-5、如何使放置元素触发-drop-事件" tabindex="-1"><a class="header-anchor" href="#_3-5、如何使放置元素触发-drop-事件" aria-hidden="true">#</a> 3.5、如何使放置元素触发 drop 事件</h3><ul><li>如果被拖拽元素在进入放置（目标）元素时，其鼠标状态显示禁止，则表示禁止该行为，在鼠标松开时，不会触发<code>drop</code>事件。</li><li>因为默认情况，元素是不允许放置的，要使目标元素能够接收到<code>drop</code>事件，需要在<code>dragenter</code>和<code>dragover</code> 事件中阻止默认行为。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.target</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 120px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 要使放置元素的drop事件能触发，需要在dragover中禁止其默认行为</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 放置元素绑定drop事件</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;drop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-6、drop-事件兼容问题" tabindex="-1"><a class="header-anchor" href="#_3-6、drop-事件兼容问题" aria-hidden="true">#</a> 3.6、drop 事件兼容问题</h3><p>在 Firefox 浏览器中，drop 放置事件的默认行为如下：</p><ul><li>如果拖动元素是链接，则在放置（目标）元素上松开鼠标时，会导航到对应页面</li><li>如果拖动元素是图片，则在放置（目标）元素上松开鼠标标时，会导航到图片文件</li><li>如果拖动元素是文本，会导致无效的 URL 错误（或默认开启百度搜索）</li></ul><blockquote><p>所以如果拖动元素为以上三者，我们需要在 drop 放置事件中，阻止其<strong>默认行为</strong>和<strong>事件冒泡</strong></p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 阻止默认行为</span>
e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 阻止事件冒泡</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
  <span class="token punctuation">.</span>drag <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
    background<span class="token operator">-</span>color<span class="token operator">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token punctuation">.</span>target <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 200px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 200px<span class="token punctuation">;</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 2px dashed #ddd<span class="token punctuation">;</span>
    <span class="token literal-property property">position</span><span class="token operator">:</span> absolute<span class="token punctuation">;</span>
    <span class="token literal-property property">top</span><span class="token operator">:</span> 10px<span class="token punctuation">;</span>
    <span class="token literal-property property">left</span><span class="token operator">:</span> 220px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;http://www.baidu.com&quot;</span><span class="token operator">&gt;</span>我是大美人<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;https://www.arryblog.com/logo.png&quot;</span> alt<span class="token operator">=</span><span class="token string">&quot;&quot;</span> width<span class="token operator">=</span><span class="token string">&quot;100&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>br <span class="token operator">/</span><span class="token operator">&gt;</span>
我只是个文字
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;drag&quot;</span> draggable<span class="token operator">=</span><span class="token string">&quot;true&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;target&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 要使放置元还给的drop事件能触发，需要在dragover中禁止其默认行为</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 放置元素绑定drop事件</span>

  target<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;drop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 阻止默认行为</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 阻止事件冒泡</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、datatransfer-对象" tabindex="-1"><a class="header-anchor" href="#_4、datatransfer-对象" aria-hidden="true">#</a> 4、DataTransfer 对象</h3><ul><li>在事件对象 e 上有一个 dataTransfer 属性，这个属性是一个 DataTransfer 对象</li><li><code>e.dataTransfer</code> 对象用于保存拖放（drag and drop）过程中的拖拽数据，可以保存一项或多项数据，这些数据项可以是一种或者多种数据类型。</li><li><code>e.dataTransfer</code> 对象提供了相关的属性和方法实现拖放功能</li></ul><blockquote><p>具体如下：</p></blockquote><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">effectAllowed</td><td style="text-align:left;">表示对被拖动元素是否允许 dropEffect 中设置的行为，同时会影响鼠标的样式</td></tr><tr><td style="text-align:left;">dropEffect</td><td style="text-align:left;">可以告诉浏览目标元素允许哪种放置行为， 同时会影响鼠标的样式</td></tr></tbody></table><table><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">setDragImage</td><td style="text-align:left;">可以自定义一处图片元素来设置拖放图片。</td></tr><tr><td style="text-align:left;">setData</td><td style="text-align:left;">方法用来设置拖放操作的<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/DataTransfer" target="_blank" rel="noopener noreferrer"><code>drag data</code> (opens new window)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>到指定的数据和类型</td></tr><tr><td style="text-align:left;">getData</td><td style="text-align:left;">方法接受指定类型的拖放（以<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String" target="_blank" rel="noopener noreferrer"><code>DOMString</code> (opens new window)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>的形式)数据。如果拖放行为没有操作任何数据，会返回一个空字符串</td></tr><tr><td style="text-align:left;"><code>clearData()</code></td><td style="text-align:left;">删除与给定类型关联的数据,如果类型为空或未指定，则删除与所有类型关联的数据</td></tr></tbody></table><h3 id="_4-1、dropeffect-属性" tabindex="-1"><a class="header-anchor" href="#_4-1、dropeffect-属性" aria-hidden="true">#</a> 4.1、dropEffect 属性</h3><ul><li>dropEffect 属性：可以告诉浏览目标元素允许哪种放置行为，比如：复制、移动、导航等，但具体行为的动作还需要开发者自己代码实现。</li><li>当拖动元素在目标元素上放置时，只有<strong>dropEffect 允许的行为，才会触发 drop 事件</strong></li><li>dropEffect 属性值，还会会影响拖拽过程中光标的手势，这个手势 可能会预示了将要发生什么样的操作，但仅是视觉上的反馈。</li></ul><blockquote><p>这个属性有以下 4 种可能值</p></blockquote><table><thead><tr><th style="text-align:left;">属性值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">none</td><td style="text-align:left;">被拖动元素不允许被放置在目标元素，鼠标样式是禁止状态</td></tr><tr><td style="text-align:left;">move</td><td style="text-align:left;">被拖动元素<strong>应该</strong>移动到放置的目标元素中，但必需满足 dropEffect 的行为是 effectAllowed 允许的行为</td></tr><tr><td style="text-align:left;">copy</td><td style="text-align:left;">被拖动元素<strong>应该</strong>复制到放置目标元素中，但必需满足 dropEffect 的行为是 effectAllowed 允许的行为</td></tr><tr><td style="text-align:left;">link</td><td style="text-align:left;">放置目标会导航到被拖动元素（仅限它是 URL 情况）</td></tr></tbody></table><p>注意事项</p><ul><li>对于 <code>dragenter</code> 和 <code>dragover</code>事件，<code>dropEffect</code> 会根据用户的请求的行为进行初始化。具体如何初始化和浏览器平台有关。（即没有设置 dropEffect 属性值时，浏览器会自动为其赋值）</li><li>我们期望得到一个指定的行为时而不是用户的请求行为时，可以通过 <code>dragenter</code> 和 <code>dragover</code> 事件处理中修改 <code>dropEffect</code>的值。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.target</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 220px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 被拖动元素</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 目标放置元素</span>

  <span class="token comment">// 拖动元素进入目标元素那一刻</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondragenter</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 阻止默认行为，元素才能被放置，才有可能触发drop事件</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// move 允许被拖动元素移动到目标元素上 , 同时光标也会变化</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>dropEffect <span class="token operator">=</span> <span class="token string">&quot;move&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  target<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 阻止默认行为，元素才能被放置，才有可能触发drop事件</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// move 允许被拖动元素移动到目标元素上 , 同时光标也会变化</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>dropEffect <span class="token operator">=</span> <span class="token string">&quot;move&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 被动元素不允许放在这里，不会触发drop事件，光标为禁止样式</span>
    <span class="token comment">// e.dataTransfer.dropEffect = &quot;none&quot;;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  target<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;drop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-2、effectallowed-属性" tabindex="-1"><a class="header-anchor" href="#_4-2、effectallowed-属性" aria-hidden="true">#</a> 4.2、effectAllowed 属性</h3><p>effectAllowed 属性：表示对被拖动元素是否允许 dropEffect 中设置的行为</p><table><thead><tr><th style="text-align:left;">属性值</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">none</td><td style="text-align:left;">不允许 dropEffect 的任何行为</td></tr><tr><td style="text-align:left;">copy</td><td style="text-align:left;">只允许”copy&quot;这种 dropEffect 行为</td></tr><tr><td style="text-align:left;">link</td><td style="text-align:left;">只允许”link&quot;这种 dropEffect 行为</td></tr><tr><td style="text-align:left;">move</td><td style="text-align:left;">只允许”move&quot;这种 dropEffect 行为</td></tr><tr><td style="text-align:left;">copyLink</td><td style="text-align:left;">允许&quot;copy&quot; 和 “link&quot;两种 dropEffect 行为</td></tr><tr><td style="text-align:left;">copyMove</td><td style="text-align:left;">允许&quot;copy&quot; 和 “move&quot;两种 dropEffect 行为</td></tr><tr><td style="text-align:left;">linkMove</td><td style="text-align:left;">允许&quot;link&quot; 和 “move&quot;两种 dropEffect 行为</td></tr><tr><td style="text-align:left;">all</td><td style="text-align:left;">允许所有 dropEffect 行为</td></tr><tr><td style="text-align:left;">uninitialized</td><td style="text-align:left;">效果没有设置时的默认值，则等同于 <em>all</em></td></tr></tbody></table><p>注意事项</p><ul><li>应该 在<code>dragstart</code>事件处理函数中设置<code>effectAllowed</code>的属性值，以便为拖动元素设置所需的拖动效果（鼠标样式）</li><li>要看到不同属性值对应的鼠标标样式，还需要在<code>document.ondragover</code>事件中，取消默认行为。</li><li>因为默认情况下，元素是不允许被放置的，所以在拖动元素时，事件会冒泡到 document 的 ondragover 事件中，鼠标样式为禁用。（整个拖动过程中 document 默认都是被放置元素）</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.target</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  drag<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 设置被拖动元素允许的 dropEffect行为</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>effectAllowed <span class="token operator">=</span> <span class="token string">&quot;copy&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  document<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 禁止默认行为,才能看到拖动元素的光标样式与effectAllowed的值对应</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果 effectAllowed 的值，不是在 dropEffect 允许的范围，则<strong>不会触发 drop 事件</strong></li><li>同时拖动元素进入目标元素时，鼠标样式为禁止样式</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  drag<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 被拖动元素只允许copy这种dropEffect行为</span>
    <span class="token comment">// 如果dropEffect的值不是copy，则不会触发drop事件，</span>
    <span class="token comment">// 同时被拖动元素进入有效目标元素时，光禁为禁止</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>effectAllowed <span class="token operator">=</span> <span class="token string">&quot;copy&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 要看到整个拖动过程中，鼠标光标不为禁止样式</span>
  <span class="token comment">// 则需要在document.ondragover中禁止默认行为</span>
  document<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">//</span>
  target<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 阻止默认行为，target元素才能允许被放置</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 但最终哪些dropEffect行为能被放置，会触发drop事件，需要看dropEffect的值。</span>
    <span class="token comment">// 如果EffectAllowed的值不是在 dropEffect允许内，不会触发drop事件，同时光标为禁止</span>
    <span class="token comment">// 以下设置 不会触发drop事件，因为effectAllowed=“copy&quot;，同是光标为禁止样式</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>dropEffect <span class="token operator">=</span> <span class="token string">&quot;move&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 以下设置，会触发drop事件，光标为copy样式</span>
    <span class="token comment">// e.dataTransfer.dropEffect = &quot;copy&quot;;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  target<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;drop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4、setdata-、getdata-方法" tabindex="-1"><a class="header-anchor" href="#_4-4、setdata-、getdata-方法" aria-hidden="true">#</a> 4.4、setData 、getData 方法</h3><table><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">setData</td><td style="text-align:left;">方法用来设置拖放操作的<code>drag data</code>到指定的数据和类型</td></tr><tr><td style="text-align:left;">getData</td><td style="text-align:left;">方法读取指定类型的拖放（以<code>DOMString</code>的形式)数据。如果拖放行为没有操作任何数据，会返回一个空字符串</td></tr></tbody></table><p><strong>语法</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>format<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 保存数据</span>
e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取出数据</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>data 表示要存入的数据</li><li>format 表示存入的数据类型，常见的支持类型如下：</li></ul><blockquote><p>推荐的拖动数据类型参考<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/HTML_Drag_and_Drop_API/Recommended_drag_types" target="_blank" rel="noopener noreferrer">官网链接地址(opens new window)<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p></blockquote><table><thead><tr><th style="text-align:left;">数据类型</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;"><code>text/plain</code> 支持简写：text</td><td style="text-align:left;">文本类型（string）</td></tr><tr><td style="text-align:left;"><code>text/html</code></td><td style="text-align:left;">HTML 文字</td></tr><tr><td style="text-align:left;"><code>text/xml</code></td><td style="text-align:left;">XML 文字</td></tr><tr><td style="text-align:left;"><code>text/uri-list</code> 支持简写： url</td><td style="text-align:left;">链接</td></tr><tr><td style="text-align:left;"><code>application/x-moz-file</code></td><td style="text-align:left;">文件</td></tr></tbody></table><p>注意事项</p><ul><li>一般都会在 dragstart 事件中，利用<code>e.dataTransfer.setData()</code> 保存数据,可以存储一项或多项</li><li>存储在 dataTransfer 对象中的数据只能在 drop 放置事件中读取。</li><li>如果没有在 drop 事件处理函数中取得这些数据，随后 dataTransfer 对象被销毁，数据也就丢失了。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.target</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>J_drag<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  drag<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 下面这种情况保存id，在获取时得到的数据为空，因为他会把后面数据当链接处理</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  target<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  target<span class="token punctuation">.</span><span class="token function-variable function">ondrop</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> id <span class="token operator">=</span> e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token string">&quot;text&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// var id = e.dataTransfer.getData(&quot;url&quot;);</span>
    <span class="token keyword">var</span> dragElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    target<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>dragElement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/gif;base64,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" alt="GIF2022-11-2916-14-25"></p><h3 id="_4-5、cleardata" tabindex="-1"><a class="header-anchor" href="#_4-5、cleardata" aria-hidden="true">#</a> 4.5、clearData</h3><p><code>clearData()</code>方法删除给定类型的拖动操作的 <code>drag data</code>，如果给定类型的数据不存在，则此方法不执行任何操作</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 清空对应类型数据  如果不带参数，默认清空所有setData方式添加的数据</span>
e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">clearData</span><span class="token punctuation">(</span><span class="token punctuation">[</span>format<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-6、setdragimage" tabindex="-1"><a class="header-anchor" href="#_4-6、setdragimage" aria-hidden="true">#</a> 4.6、setDragImage</h3><p><code>setDragImage</code>可以自定义一个 img 类型，用来设置拖放过程中的鼠标下面的图标</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">setDragImage</span><span class="token punctuation">(</span>element<span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>element 拖拽时鼠标下面的图片，必需是一个元素节点</li><li>x 表示：图标距离鼠标指针的 x 轴方向的偏移量</li><li>y 表示：图标距离鼠标指针 y 轴方向的偏移量 移</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.target</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>J_drag<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  drag<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">&quot;./example.jpg&quot;</span><span class="token punctuation">;</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span><span class="token function">setDragImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 设置自定义图拖拽图像</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-2916-30-10.4f5d5cc0.gif" alt="GIF2022-11-2916-30-10"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.drag</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> move<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- draggable=true 表示元素可拖拽 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> drag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> offsetLeft<span class="token punctuation">;</span>
  <span class="token keyword">var</span> offsetTop<span class="token punctuation">;</span>
  <span class="token keyword">var</span> _clientX<span class="token punctuation">;</span>
  <span class="token keyword">var</span> _clientY<span class="token punctuation">;</span>

  drag<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    offsetLeft <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    offsetTop <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>

    _clientX <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>
    _clientY <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  drag<span class="token punctuation">.</span><span class="token function-variable function">ondrag</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> clientX <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>
    <span class="token keyword">var</span> clientY <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>

    <span class="token keyword">var</span> left <span class="token operator">=</span> clientX <span class="token operator">-</span> _clientX <span class="token operator">+</span> offsetLeft<span class="token punctuation">;</span>
    <span class="token keyword">var</span> top <span class="token operator">=</span> clientY <span class="token operator">-</span> _clientY <span class="token operator">+</span> offsetTop<span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> top <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;dragover&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    event<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>dropEffect <span class="token operator">=</span> <span class="token string">&quot;move&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 鼠标样式</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、html5-拖拽综合应用案例" tabindex="-1"><a class="header-anchor" href="#四、html5-拖拽综合应用案例" aria-hidden="true">#</a> 四、HTML5 拖拽综合应用案例</h2><p>结合本章节所学内容进行综合实践应用。</p><h3 id="_1、双向拖拽添加内容" tabindex="-1"><a class="header-anchor" href="#_1、双向拖拽添加内容" aria-hidden="true">#</a> 1、双向拖拽添加内容</h3><p>涉及知识点</p><ul><li>事件委托</li><li>拖拽事件（dragstart、dragend、dragover、drop）</li></ul><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-2917-21-35.f61ec376.gif" alt="GIF2022-11-2917-21-35"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">html,
  body,
  ul,
  li</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 100px auto<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> space-between<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.select-fruit,
  .like-fruit</span> <span class="token punctuation">{</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.drag-wrap</span> <span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.drag-wrap li,
  .target-wrap li</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 5px auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.drag-wrap li:hover,
  .target-wrap li:hover</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.target-wrap</span> <span class="token punctuation">{</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 2px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.target-wrap li</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--select-fruit start--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>select-fruit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>选择你喜欢的水果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>苹果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>香蕉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>梨子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>葡萄<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>芒果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!--select-fruit end--&gt;</span>

  <span class="token comment">&lt;!-- like-fruit start --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>like-fruit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>你最喜欢的水果是<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>target-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- like-fruit end --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>JS 实现</strong></p><ul><li>在这个案例中，拖动元素的容器本身也是放置目标元素。</li><li>放置目标元素中的子元素，本身也是被拖动的元素。</li><li>所有拖动元素要处理的事情，全部委托给他到们的父容器来处理。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 拖动元素的容器</span>
  <span class="token keyword">var</span> dragWrap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag-wrap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 目标元素容器</span>
  <span class="token keyword">var</span> targetWrap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.target-wrap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> currentDragEl <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 记录当前被拖动的元素</span>

  <span class="token comment">// 拖动元素  采用事件委托，所有子元素的拖拽行为委托给父元还给来处理</span>
  dragWrap<span class="token punctuation">.</span>ondragstart <span class="token operator">=</span> dragStartHandle<span class="token punctuation">;</span>
  dragWrap<span class="token punctuation">.</span>ondragend <span class="token operator">=</span> dragEndHandle<span class="token punctuation">;</span>
  dragWrap<span class="token punctuation">.</span>ondragover <span class="token operator">=</span> dragOverHandle<span class="token punctuation">;</span>
  dragWrap<span class="token punctuation">.</span>ondrop <span class="token operator">=</span> dragDropHandle<span class="token punctuation">;</span>

  <span class="token comment">// 放置元素</span>
  targetWrap<span class="token punctuation">.</span>ondragstart <span class="token operator">=</span> dragStartHandle<span class="token punctuation">;</span>
  targetWrap<span class="token punctuation">.</span>ondragend <span class="token operator">=</span> dragEndHandle<span class="token punctuation">;</span>
  targetWrap<span class="token punctuation">.</span>ondragover <span class="token operator">=</span> dragOverHandle<span class="token punctuation">;</span>
  targetWrap<span class="token punctuation">.</span>ondrop <span class="token operator">=</span> dragDropHandle<span class="token punctuation">;</span>

  <span class="token comment">// 以下代码，全部采用了事件委托来处理</span>
  <span class="token keyword">function</span> <span class="token function">dragStartHandle</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取被拖动的元素</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token comment">// 刚拖动时，元素透明度将低</span>
    target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;opacity&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 记录被拖动的元素</span>
    currentDragEl <span class="token operator">=</span> target<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">dragEndHandle</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token comment">// 刚拖动结束，还原透明度</span>
    target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;opacity&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">dragOverHandle</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 阻止默认行为，才会触发drop事件</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 设置光标样式</span>
    e<span class="token punctuation">.</span>dataTransfer<span class="token punctuation">.</span>dropEffect <span class="token operator">=</span> <span class="token string">&quot;move&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">dragDropHandle</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将拖动元素移动到当前目标元素中</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>currentDragEl<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、拖拽排序" tabindex="-1"><a class="header-anchor" href="#_2、拖拽排序" aria-hidden="true">#</a> 2、拖拽排序</h3><p>核心知识</p><ul><li>拖拽相关事件</li><li>占位思想</li><li>找出相邻兄弟中离自己最近的元素</li><li>insertAdjacentElement 方法</li><li>prepend 方法</li></ul><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-300-11-06.ef5698f7.gif" alt="GIF2022-11-300-11-06"></p><h3 id="_2-1、css-布局代码" tabindex="-1"><a class="header-anchor" href="#_2-1、css-布局代码" aria-hidden="true">#</a> 2.1、CSS 布局代码</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">html,
  body,
  ul,
  li</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.drag-wrap</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 280px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span> <span class="token comment">/* 切记设置为相对定位 */</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.drag-wrap .drag-item</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 5px 0px<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> move<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.drag-wrap .drag-item.dragcss</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* 占位元素样式 */</span>
  <span class="token selector">.drag-wrap .stance</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 5px 0px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-wrap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>苹果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>香蕉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>梨子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>葡萄<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>drag-item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">draggable</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>芒果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2、js-实现原理" tabindex="-1"><a class="header-anchor" href="#_2-2、js-实现原理" aria-hidden="true">#</a> 2.2、JS 实现原理</h3><p><strong>第一步：实现鼠标按下开始拖动时要处理的事情</strong></p><ul><li>1、为了后面 drag 事件中能获取到当前拖动的元素，还需要把拖动元素保存到全局变量中</li><li>2、把拖动元素的背景色设置为黄色</li><li>3、同时把拖动元素设置为绝对定位元素，设置好初始 left 和 top 值，同时把 margin 值为 0</li><li>4、创建一个 div 元素，作为<strong>占位元素</strong>，其宽、高、margin 和被拖动元素一样，然后把创建好的空元素插入当前元素前面。</li><li>5、为了后面拖动元素，还需要在此记录鼠标按下时与浏览器左边和上边的距离。</li></ul><blockquote><p>以上拖动元素需要处理的事情，全委托给他们的父元素来处理。</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 拖动的父容器</span>
<span class="token keyword">var</span> dragWrap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag-wrap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> dragLeft<span class="token punctuation">;</span> <span class="token comment">// 记录被拖动元素的初始left值</span>
<span class="token keyword">var</span> dragTop<span class="token punctuation">;</span> <span class="token comment">// 记录被拖动元素的初始top值</span>
<span class="token keyword">var</span> stanceELement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 用来保存占位元素</span>
<span class="token keyword">var</span> pageX<span class="token punctuation">;</span> <span class="token comment">// 记录拖动元素开始拖动时，鼠标与浏览器的水平距离</span>
<span class="token keyword">var</span> pageY<span class="token punctuation">;</span> <span class="token comment">// 记录拖动元素开始拖动时，鼠标与浏览器的垂直距离</span>
<span class="token keyword">var</span> dragElement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 记录被拖动的元素</span>

<span class="token comment">// 事件委托  拖动元素需要处理的事情，全很托给他们的父元素来处理</span>
dragWrap<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取被拖动的元素</span>
  <span class="token keyword">var</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
  <span class="token comment">// 1、记录被拖动的元素</span>
  dragElement <span class="token operator">=</span> target<span class="token punctuation">;</span>
  <span class="token comment">// 2、将被拖动的元素背景设置为黄色的</span>
  target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;dragcss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 3、设置当前被拖动元素为定位元素，相对于他的父元素定位，所以父元素一定要设置相对定位</span>
  <span class="token comment">// 获取元素相对其定位父元素的left和top值</span>
  dragLeft <span class="token operator">=</span> target<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
  dragTop <span class="token operator">=</span> target<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
  target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&quot;absolute&quot;</span><span class="token punctuation">;</span>
  target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> dragLeft <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
  target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> dragTop <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
  target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>margin <span class="token operator">=</span> <span class="token string">&quot;0px auto&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// 4、创建占位元素,将其插入当前拖动元素的后面</span>
  stanceELement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  stanceELement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;stance&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>stanceELement<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 占位元素插入拖动元素后面</span>

  <span class="token comment">// 5、记录鼠标按下开始拖动时，鼠标与浏览器左边和顶部的距离</span>
  pageX <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
  pageY <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>第二步：拖动过程中要处理的事情</strong></p><ul><li>元素能正常随着鼠标拖动</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 拖动过程中需要处理的事情</span>
dragWrap<span class="token punctuation">.</span><span class="token function-variable function">ondrag</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 获取鼠标与浏览器左边和上边距离</span>
  <span class="token keyword">var</span> _pageX <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
  <span class="token keyword">var</span> _pageY <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>

  <span class="token comment">// 记录鼠标移动的距离</span>
  <span class="token keyword">var</span> moveX <span class="token operator">=</span> _pageX <span class="token operator">-</span> pageX<span class="token punctuation">;</span>
  <span class="token keyword">var</span> moveY <span class="token operator">=</span> _pageY <span class="token operator">-</span> pageY<span class="token punctuation">;</span>

  <span class="token comment">// 动态给拖动元素赋值</span>
  dragElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> moveX <span class="token operator">+</span> dragLeft <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
  dragElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> moveY <span class="token operator">+</span> dragTop <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// 相关后面drag事件中要处理的代码，从这个位置接上</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重点提示</p><p>整个 drag 操作过程的样式要生效，必需要设置父容器为允许放置行为，即在 dragover 中取消默认行为</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>dragWrap<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>找到与当前拖动元素同时满足以下条件的兄弟元素（兄弟元素不包含占位元素）</li></ul><blockquote><p>拖动元素底部与浏览器的距离 &gt;= 兄弟元素垂直中心点与浏览器顶部的距离</p></blockquote><ul><li>封装一个函数来实现，如果有对应的兄弟元素就将元素返回，没有就返回 null</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * 寻找具有相同className的兄弟元素中，满足拖元素底部与浏览器距离 &gt; 兄弟元素中心点与浏     览器的距离的元素
 * dragEl 被拖动元素
 * className 通过className来过滤不需要兄弟元素，然后在需要的兄弟元素中找最近的
 */</span>
<span class="token keyword">function</span> <span class="token function">findNearSibling</span><span class="token punctuation">(</span><span class="token parameter">dragEl<span class="token punctuation">,</span> className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">//  获取拖动元素底部距离浏览器顶部距离</span>
  <span class="token keyword">var</span> rect <span class="token operator">=</span> dragEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> dragTop <span class="token operator">=</span> rect<span class="token punctuation">.</span>bottom<span class="token punctuation">;</span>

  <span class="token comment">// 获取拖动元素的所有兄弟元素,包括了自已,还包括了占位符</span>
  <span class="token comment">// 所以通过className名过滤占位符</span>
  <span class="token keyword">var</span> siblings <span class="token operator">=</span> dragEl<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
  <span class="token comment">// 将类数组转成数组</span>
  siblings <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>siblings<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 过滤满足条件的兄弟元素</span>
  siblings <span class="token operator">=</span> siblings<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> item<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 用来保存找到了满足条件兄弟元素</span>

  <span class="token comment">// 遍历所有过滤后满足条件的兄弟元素，要排除自身</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> siblings<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>siblings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> dragEl<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment">// 排除自身</span>
    <span class="token comment">// 获取每个元素中心与浏览器顶部的距离</span>
    <span class="token keyword">var</span> rect <span class="token operator">=</span> siblings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> center <span class="token operator">=</span> rect<span class="token punctuation">.</span>top <span class="token operator">+</span> siblings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

    <span class="token comment">// 找到离自己最近的满足 dragTop&gt;center的兄弟元素</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dragTop <span class="token operator">&gt;</span> center<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">=</span> siblings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果有满足条件的兄弟元素，就将兄弟元素的背景色变为红色，同时将占位符插入当前兄弟元素的后面。</li><li>如果没有满足条件的兄弟元素，说明当前拖动元素在第一个子元素的前面，此时可以将占位元素插入到父元素的第一个子元素的前面。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 以下代码写在drag事件中</span>
<span class="token comment">//  返回符合条件的兄弟元素</span>
<span class="token keyword">var</span> nearSibling <span class="token operator">=</span> <span class="token function">findNearSibling</span><span class="token punctuation">(</span>dragElement<span class="token punctuation">,</span> <span class="token string">&quot;drag-item&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 如果不存在满足条件兄弟元素，说明当前拖动元素在第一个子元素的最前面</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nearSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  dragWrap<span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span>stanceELement<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将占位元素插入到父元素的第一个子元素的前面</span>
<span class="token punctuation">}</span>
<span class="token comment">// 如果存在满足条件的兄弟元素,则需要做以下几件事</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>nearSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  prevNearSibling <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>prevNearSibling<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 1、将元素背景变为红色</span>
  nearSibling<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 3、记录下被(背景变红）的元素为前一个元素</span>
  prevNearSibling <span class="token operator">=</span> nearSibling<span class="token punctuation">;</span>
  <span class="token comment">// 2、将占位符元素，插入到当前元素的后面</span>
  nearSibling<span class="token punctuation">.</span><span class="token function">insertAdjacentElement</span><span class="token punctuation">(</span><span class="token string">&quot;afterend&quot;</span><span class="token punctuation">,</span> stanceELement<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>第三步：拖动结束要处理的事情</strong></p><ul><li>拖动元素的背景色还原</li><li>拖动元素要取消定位，同时恢复 margin 值</li><li>将拖动元素放入占位元素所在位置（前或后）</li><li>将占位元素从页面中移除</li><li>如果存在前一个背景变红的兄弟元素，将红色背景去掉</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 拖动结束</span>
dragWrap<span class="token punctuation">.</span><span class="token function-variable function">ondragend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 1、拖动元素颜色还原</span>
  dragElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;dragcss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 2、拖动元素取消定位，还原margin值</span>
  dragElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  dragElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>margin <span class="token operator">=</span> <span class="token string">&quot;5px auto&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 3、插入占位元素的后面</span>
  dragWrap<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>dragElement<span class="token punctuation">,</span> stanceELement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 4、移除占位元素</span>
  dragWrap<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>stanceELement<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 5、前一个元素存在，则移出样式</span>
  prevNearSibling <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>prevNearSibling<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3、js-完整源码" tabindex="-1"><a class="header-anchor" href="#_2-3、js-完整源码" aria-hidden="true">#</a> 2.3、JS 完整源码</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 拖动的父容器</span>
  <span class="token keyword">var</span> dragWrap <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.drag-wrap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> dragLeft<span class="token punctuation">;</span> <span class="token comment">// 记录被拖动元素的初始left值</span>
  <span class="token keyword">var</span> dragTop<span class="token punctuation">;</span> <span class="token comment">// 记录被拖动元素的初始top值</span>
  <span class="token keyword">var</span> stanceELement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 用来保存占位元素</span>
  <span class="token keyword">var</span> pageX<span class="token punctuation">;</span> <span class="token comment">// 记录拖动元素开始拖动时，鼠标与浏览器的水平距离</span>
  <span class="token keyword">var</span> pageY<span class="token punctuation">;</span> <span class="token comment">// 记录拖动元素开始拖动时，鼠标与浏览器的垂直距离</span>
  <span class="token keyword">var</span> dragElement <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 记录被拖动的元素</span>
  <span class="token keyword">var</span> prevNearSibling <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 前一个背景变红的元素</span>

  <span class="token comment">// 事件委托  拖动元素需要处理的事情，全很托给他们的父元素来处理</span>
  dragWrap<span class="token punctuation">.</span><span class="token function-variable function">ondragstart</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取被拖动的元素</span>
    <span class="token keyword">var</span> target <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token comment">// 1、记录被拖动的元素</span>
    dragElement <span class="token operator">=</span> target<span class="token punctuation">;</span>
    <span class="token comment">// 2、将被拖动的元素背景设置为黄色的</span>
    target<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;dragcss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 3、设置当前被拖动元素为定位元素，相对于他的父元素定位，所以父元素一定要设置相对定位</span>
    <span class="token comment">// 获取元素相对其定位父元素的left和top值</span>
    dragLeft <span class="token operator">=</span> target<span class="token punctuation">.</span>offsetLeft<span class="token punctuation">;</span>
    dragTop <span class="token operator">=</span> target<span class="token punctuation">.</span>offsetTop<span class="token punctuation">;</span>
    target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&quot;absolute&quot;</span><span class="token punctuation">;</span>
    target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> dragLeft <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> dragTop <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>margin <span class="token operator">=</span> <span class="token string">&quot;0px auto&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 4、创建占位元素,将其插入当前拖动元素的后面</span>
    stanceELement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    stanceELement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;stance&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>stanceELement<span class="token punctuation">,</span> target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 占位元素插入拖动元素后面</span>

    <span class="token comment">// 5、记录鼠标按下开始拖动时，鼠标与浏览器左边和顶部的距离</span>
    pageX <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
    pageY <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 拖动过程中需要处理的事情</span>
  dragWrap<span class="token punctuation">.</span><span class="token function-variable function">ondrag</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取鼠标与浏览器左边和上边距离</span>
    <span class="token keyword">var</span> _pageX <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
    <span class="token keyword">var</span> _pageY <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>

    <span class="token comment">// 记录鼠标移动的距离</span>
    <span class="token keyword">var</span> moveX <span class="token operator">=</span> _pageX <span class="token operator">-</span> pageX<span class="token punctuation">;</span>
    <span class="token keyword">var</span> moveY <span class="token operator">=</span> _pageY <span class="token operator">-</span> pageY<span class="token punctuation">;</span>

    <span class="token comment">// 动态给拖动元素赋值</span>
    dragElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>left <span class="token operator">=</span> moveX <span class="token operator">+</span> dragLeft <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
    dragElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>top <span class="token operator">=</span> moveY <span class="token operator">+</span> dragTop <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">//  返回符合条件的兄弟元素</span>
    <span class="token keyword">var</span> nearSibling <span class="token operator">=</span> <span class="token function">findNearSibling</span><span class="token punctuation">(</span>dragElement<span class="token punctuation">,</span> <span class="token string">&quot;drag-item&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 如果不存在满足条件兄弟元素，说明当前拖动元素在第一个子元素的最前面</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>nearSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dragWrap<span class="token punctuation">.</span><span class="token function">prepend</span><span class="token punctuation">(</span>stanceELement<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将占位元素插入到父元素的第一个子元素的前面</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 如果存在满足条件的兄弟元素,则需要做以下几件事</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>nearSibling<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      prevNearSibling <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>prevNearSibling<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 1、将元素背景变为红色</span>
      nearSibling<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 3、记录下被(背景变红）的元素为前一个元素</span>
      prevNearSibling <span class="token operator">=</span> nearSibling<span class="token punctuation">;</span>
      <span class="token comment">// 2、将占位符元素，插入到当前元素的后面</span>
      nearSibling<span class="token punctuation">.</span><span class="token function">insertAdjacentElement</span><span class="token punctuation">(</span><span class="token string">&quot;afterend&quot;</span><span class="token punctuation">,</span> stanceELement<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  dragWrap<span class="token punctuation">.</span><span class="token function-variable function">ondragover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 拖动结束</span>
  dragWrap<span class="token punctuation">.</span><span class="token function-variable function">ondragend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 1、拖动元素颜色还原</span>
    dragElement<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;dragcss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 2、拖动元素取消定位，还原margin值</span>
    dragElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    dragElement<span class="token punctuation">.</span>style<span class="token punctuation">.</span>margin <span class="token operator">=</span> <span class="token string">&quot;5px auto&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 3、插入占位元素的后面</span>
    dragWrap<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span>dragElement<span class="token punctuation">,</span> stanceELement<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 4、移除占位元素</span>
    dragWrap<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>stanceELement<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 5、前一个元素存在，则移出样式</span>
    prevNearSibling <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>prevNearSibling<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token doc-comment comment">/**
   * 寻找具有相同className的兄弟元素中，满足拖元素底部与浏览器距离 &gt; 兄弟元素中心点与浏     览器的距离的元素
   * dragEl 被拖动元素
   * className 通过className来过滤不需要兄弟元素，然后在需要的兄弟元素中找最近的
   */</span>
  <span class="token keyword">function</span> <span class="token function">findNearSibling</span><span class="token punctuation">(</span><span class="token parameter">dragEl<span class="token punctuation">,</span> className</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//  获取拖动元素底部距离浏览器顶部距离</span>
    <span class="token keyword">var</span> rect <span class="token operator">=</span> dragEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> dragTop <span class="token operator">=</span> rect<span class="token punctuation">.</span>bottom<span class="token punctuation">;</span>

    <span class="token comment">// 获取拖动元素的所有兄弟元素,包括了自已,还包括了占位符</span>
    <span class="token comment">// 所以通过className名过滤占位符</span>
    <span class="token keyword">var</span> siblings <span class="token operator">=</span> dragEl<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>children<span class="token punctuation">;</span>
    <span class="token comment">// 将类数组转成数组</span>
    siblings <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>siblings<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 过滤满足条件的兄弟元素</span>
    siblings <span class="token operator">=</span> siblings<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> item<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>className<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> result <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 用来保存找到了满足条件兄弟元素</span>

    <span class="token comment">// 遍历所有过滤后满足条件的兄弟元素，要排除自身</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> siblings<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>siblings<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> dragEl<span class="token punctuation">)</span> <span class="token keyword">continue</span><span class="token punctuation">;</span> <span class="token comment">// 排除自身</span>
      <span class="token comment">// 获取每个元素中心与浏览器顶部的距离</span>
      <span class="token keyword">var</span> rect <span class="token operator">=</span> siblings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> center <span class="token operator">=</span> rect<span class="token punctuation">.</span>top <span class="token operator">+</span> siblings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>

      <span class="token comment">// 找到离自己最近的满足 dragTop&gt;center的兄弟元素</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>dragTop <span class="token operator">&gt;</span> center<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> siblings<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、重难点总结" tabindex="-1"><a class="header-anchor" href="#五、重难点总结" aria-hidden="true">#</a> 五、重难点总结</h2><p>总结本章重难点知识，理清思路，把握重难点。并能轻松回答以下问题，说明自己就真正的掌握了。</p><p>用于故而知新，快速复习。</p><h3 id="_1、重点" tabindex="-1"><a class="header-anchor" href="#_1、重点" aria-hidden="true">#</a> 1、重点</h3><ul><li>封装处理鼠标滚轮事件的兼容性函数</li><li>掌握禁止右键菜和禁止选中元素</li><li>如何识别用户按下的是那个鼠标键</li><li>掌握 drag 拽拖事件（drag、dragstart、dragend、dragenter、dragover、dragleave、drpp)</li><li>理解 dropEffect 和 effectAllowed 属性和 setData、getData、clearData 方法</li></ul><h3 id="_2、难点" tabindex="-1"><a class="header-anchor" href="#_2、难点" aria-hidden="true">#</a> 2、难点</h3><p>手写以下三个案例</p><ul><li>全屏垂直滚动轮播</li><li>双向拖拽添加内容</li><li>拖拽排序</li></ul></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->修改此页面<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->最后一次修改 2024/1/12 17:31:47<!--]--></span></span></div></footer><nav class="page-nav"><p class="hasPrev hasNext inner"><span class="page-nav-item prev"> ← JavaScript 定时器、延时器、CSS3 动画事件，防抖节流</span><span class="page-nav-item next">JavaScript BOM 核心 Window 对象属性、方法、事件 → </span></p></nav><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#一、鼠标滚轮事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="一、鼠标滚轮事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->一、鼠标滚轮事件<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_1、mousewheel-事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1、mousewheel 事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1、mousewheel 事件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_2、dommousescroll-事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2、DOMMouseScroll 事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2、DOMMouseScroll 事件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3、wheel-事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3、wheel 事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3、wheel 事件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_4、兼容型处理" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4、兼容型处理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4、兼容型处理<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_5、案例-滚动实现元素高度变化" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="5、案例：滚动实现元素高度变化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->5、案例：滚动实现元素高度变化<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_6、案例-全屏垂直滚动轮播" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="6、案例：全屏垂直滚动轮播"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->6、案例：全屏垂直滚动轮播<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_6-1、css-布局代码" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="6.1、CSS 布局代码"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->6.1、CSS 布局代码<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_6-2、利用-transitionend-事件-来实现节流" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="6.2、利用 transitionend 事件，来实现节流"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->6.2、利用 transitionend 事件，来实现节流<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_6-3、利用节流函数-来实现节流" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="6.3、利用节流函数，来实现节流"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->6.3、利用节流函数，来实现节流<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#二、鼠标按键" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="二、鼠标按键"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->二、鼠标按键<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_1、禁止右键菜单" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1、禁止右键菜单"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1、禁止右键菜单<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_2、禁止选中元素" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2、禁止选中元素"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2、禁止选中元素<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3、判断按下的鼠标键" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3、判断按下的鼠标键"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3、判断按下的鼠标键<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_4、自定义右键菜单" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4、自定义右键菜单"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4、自定义右键菜单<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#三、html5-的拖拽事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="三、HTML5 的拖拽事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->三、HTML5 的拖拽事件<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_1、draggable-属性" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1、draggable 属性"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1、draggable 属性<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_2、拖拽基础概念" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2、拖拽基础概念"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2、拖拽基础概念<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3、拖拽事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3、拖拽事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3、拖拽事件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3-1、拖拽元素事件-drag、dragstart-、dragend" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3.1、拖拽元素事件：drag、dragstart 、dragend"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.1、拖拽元素事件：drag、dragstart 、dragend<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3-2、dragenter、dragover、dragleave-放置元素事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3.2、dragenter、dragover、dragleave 放置元素事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.2、dragenter、dragover、dragleave 放置元素事件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3-3、drop-事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3.3、drop 事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.3、drop 事件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3-4、默认情况-元素不允许放置" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3.4、默认情况，元素不允许放置"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.4、默认情况，元素不允许放置<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3-5、如何使放置元素触发-drop-事件" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3.5、如何使放置元素触发 drop 事件"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.5、如何使放置元素触发 drop 事件<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_3-6、drop-事件兼容问题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="3.6、drop 事件兼容问题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->3.6、drop 事件兼容问题<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_4、datatransfer-对象" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4、DataTransfer 对象"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4、DataTransfer 对象<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_4-1、dropeffect-属性" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4.1、dropEffect 属性"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4.1、dropEffect 属性<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_4-2、effectallowed-属性" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4.2、effectAllowed 属性"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4.2、effectAllowed 属性<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_4-4、setdata-、getdata-方法" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4.4、setData 、getData 方法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4.4、setData 、getData 方法<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_4-5、cleardata" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4.5、clearData"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4.5、clearData<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_4-6、setdragimage" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="4.6、setDragImage"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->4.6、setDragImage<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#四、html5-拖拽综合应用案例" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="四、HTML5 拖拽综合应用案例"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->四、HTML5 拖拽综合应用案例<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_1、双向拖拽添加内容" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1、双向拖拽添加内容"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1、双向拖拽添加内容<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_2、拖拽排序" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2、拖拽排序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2、拖拽排序<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_2-1、css-布局代码" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2.1、CSS 布局代码"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2.1、CSS 布局代码<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_2-2、js-实现原理" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2.2、JS 实现原理"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2.2、JS 实现原理<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_2-3、js-完整源码" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2.3、JS 完整源码"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2.3、JS 完整源码<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#五、重难点总结" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="五、重难点总结"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->五、重难点总结<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_1、重点" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="1、重点"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->1、重点<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/xunyu-blog/blogs/web/javascript/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html#_2、难点" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="2、难点"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->2、难点<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/xunyu-blog/assets/app-e6acbbcc.js" defer></script>
  </body>
</html>
