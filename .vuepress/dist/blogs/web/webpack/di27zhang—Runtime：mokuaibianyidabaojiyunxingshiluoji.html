<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <link rel="icon" href="favicon.ico"><title>xunyublog</title><meta name="description" content="用代码将梦想照进现实">
    <link rel="modulepreload" href="/./assets/app-48690364.js"><link rel="modulepreload" href="/./assets/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html-f636e824.js"><link rel="modulepreload" href="/./assets/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html-d351d5b6.js"><link rel="prefetch" href="/./assets/index.html-0a05feab.js" as="script"><link rel="prefetch" href="/./assets/index.html-8c2edf06.js" as="script"><link rel="prefetch" href="/./assets/index.html-4b3ba946.js" as="script"><link rel="prefetch" href="/./assets/index.html-06281f40.js" as="script"><link rel="prefetch" href="/./assets/index.html-f0d1d354.js" as="script"><link rel="prefetch" href="/./assets/index.html-ebff1241.js" as="script"><link rel="prefetch" href="/./assets/index.html-8ebf0941.js" as="script"><link rel="prefetch" href="/./assets/index.html-7e2fe36f.js" as="script"><link rel="prefetch" href="/./assets/index.html-f01b1d86.js" as="script"><link rel="prefetch" href="/./assets/index.html-cb91802b.js" as="script"><link rel="prefetch" href="/./assets/index.html-ec10ed1d.js" as="script"><link rel="prefetch" href="/./assets/index.html-47172bd3.js" as="script"><link rel="prefetch" href="/./assets/index.html-17c6444b.js" as="script"><link rel="prefetch" href="/./assets/index.html-ee5a3abc.js" as="script"><link rel="prefetch" href="/./assets/index.html-2bff94e1.js" as="script"><link rel="prefetch" href="/./assets/index.html-671d86a4.js" as="script"><link rel="prefetch" href="/./assets/index.html-47efc587.js" as="script"><link rel="prefetch" href="/./assets/index.html-80880afd.js" as="script"><link rel="prefetch" href="/./assets/index.html-04bbd1d5.js" as="script"><link rel="prefetch" href="/./assets/index.html-103e2208.js" as="script"><link rel="prefetch" href="/./assets/index.html-652450b0.js" as="script"><link rel="prefetch" href="/./assets/index.html-30015e5f.js" as="script"><link rel="prefetch" href="/./assets/index.html-d207aad1.js" as="script"><link rel="prefetch" href="/./assets/index.html-21469184.js" as="script"><link rel="prefetch" href="/./assets/index.html-f9835b2a.js" as="script"><link rel="prefetch" href="/./assets/index.html-7c68cf3f.js" as="script"><link rel="prefetch" href="/./assets/index.html-ce0d065c.js" as="script"><link rel="prefetch" href="/./assets/index.html-c10c52d6.js" as="script"><link rel="prefetch" href="/./assets/index.html-5d7f901a.js" as="script"><link rel="prefetch" href="/./assets/index.html-cfdaadf7.js" as="script"><link rel="prefetch" href="/./assets/index.html-2a4bf96c.js" as="script"><link rel="prefetch" href="/./assets/index.html-0b0463a7.js" as="script"><link rel="prefetch" href="/./assets/index.html-953f98a2.js" as="script"><link rel="prefetch" href="/./assets/index.html-6599e18f.js" as="script"><link rel="prefetch" href="/./assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/./assets/index.html-1a88d37b.js" as="script"><link rel="prefetch" href="/./assets/index.html-c8e98ed0.js" as="script"><link rel="prefetch" href="/./assets/index.html-800887e5.js" as="script"><link rel="prefetch" href="/./assets/index.html-06f5ab5e.js" as="script"><link rel="prefetch" href="/./assets/index.html-5d669565.js" as="script"><link rel="prefetch" href="/./assets/index.html-cda0070c.js" as="script"><link rel="prefetch" href="/./assets/index.html-fe378dda.js" as="script"><link rel="prefetch" href="/./assets/index.html-dffdd74d.js" as="script"><link rel="prefetch" href="/./assets/index.html-0f53ed8c.js" as="script"><link rel="prefetch" href="/./assets/index.html-fce4e91d.js" as="script"><link rel="prefetch" href="/./assets/index.html-ced746e2.js" as="script"><link rel="prefetch" href="/./assets/erchashu.html-dadfe748.js" as="script"><link rel="prefetch" href="/./assets/shuzuzifuchuan.html-06bd1210.js" as="script"><link rel="prefetch" href="/./assets/meirimianshiti.html-a095cf63.js" as="script"><link rel="prefetch" href="/./assets/index.html-1d33ca8a.js" as="script"><link rel="prefetch" href="/./assets/index.html-1065dd3d.js" as="script"><link rel="prefetch" href="/./assets/index.html-28d0f9d0.js" as="script"><link rel="prefetch" href="/./assets/JSON、Ajax、kuayuqingqiu、XHR duixiang、Axios yu Fetch.html-696d8990.js" as="script"><link rel="prefetch" href="/./assets/qianhouduanshujujiaohu yu HTTP xieyi.html-24406a0c.js" as="script"><link rel="prefetch" href="/./assets/bendicunchu Cookie、localStorage、sessionStorage shijian.html-70d79555.js" as="script"><link rel="prefetch" href="/./assets/JS mianxiangduixiang、fencengsheji、dongtaishujubianlizuijiashijianyuyingyong.html-d49567a8.js" as="script"><link rel="prefetch" href="/./assets/JS mianxiangduixiang，daimafencengjiagoushejishijian yu wangluoqingqiufengzhuang.html-55f2ddb1.js" as="script"><link rel="prefetch" href="/./assets/qianhouduanfenlijiagou VS chuantongjiagou，xingyezuijiashijian.html-c92df241.js" as="script"><link rel="prefetch" href="/./assets/xiaochengxu npm zhichi，zhuangtaiguanli，fenbao，zidingyi tabBar.html-335cab65.js" as="script"><link rel="prefetch" href="/./assets/xiaochengxujieliufangdou，gujiapinggongnen、yonghutiyanyouhuayushijian.html-86bf8654.js" as="script"><link rel="prefetch" href="/./assets/xiaochengxuxiangmujiegou、peizhiceng、shituceng、luojiceng、suzhuhuanjing.html-ca086659.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxuyunkaifashixianzhucedenglu yu duozhongduanchangjiandenglufangshi.html-d577e889.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxufazhanshi、kaifahuanjingzhunbei、tuanduixiezuoshangxianliucheng.html-4f4709f2.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxudeshengmingzhouqi、shengmingzhouqihanshu yu shijianyingyong.html-1fc372b9.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxuzidingyizujianfengzhuang，xiangmuzuijiashijianzongheyingyong.html-63f1a84f.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxuzidingyizujian，hexinjichu he shijianyingyong.html-cebf20f6.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxushitucengdezujian、shujubangding，liebiao、tiaojianxuanran.html-2b7b2fed.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxuyemiandaohang、chuancan、shijian、API、wangluoqingqiu.html-452f2c63.js" as="script"><link rel="prefetch" href="/./assets/Class leideshuxing、fangfa、jicheng、gouzaohanshujijiejuefangan.html-6778f5fd.js" as="script"><link rel="prefetch" href="/./assets/ECMAScript、ES6 jianshi，let、const、var qubieheyingyong.html-d552e040.js" as="script"><link rel="prefetch" href="/./assets/ES6 Module mokuaixitong.html-67a33acf.js" as="script"><link rel="prefetch" href="/./assets/ES6 Proxy daili yu Reflect fanshe，Vue3 xiangyingshishujuyuanli.html-bdfa37c4.js" as="script"><link rel="prefetch" href="/./assets/ES6 shengyucanshu he zhankaiyunsuanfuzaishijikaifazhongdeyingyong.html-1edf355a.js" as="script"><link rel="prefetch" href="/./assets/ES6 zifuchuan、shuzu、duixiangdexinzengfangfahechangjianyingyong.html-51ccce32.js" as="script"><link rel="prefetch" href="/./assets/ES6 jiantouhanshu he duixiangzimianliangzengqiang，dachangmianshizhentijiexi.html-e63434da.js" as="script"><link rel="prefetch" href="/./assets/ES6 jiegoufuzhi，hanshucanshumorenzhi，zaixiangmuzhongdeyingyongchangjing.html-1eeccd7d.js" as="script"><link rel="prefetch" href="/./assets/Generator hanshudeshijianyushijianyingyong.html-ec02b58d.js" as="script"><link rel="prefetch" href="/./assets/JavaScript zhongde Event Loop shijianxunhuan、weirenwuyuhongrenwu.html-2db76d63.js" as="script"><link rel="prefetch" href="/./assets/Promise yongfa、shilifangfa、yuanliyuyibubianchengdeshijianyingyong.html-54affdcb.js" as="script"><link rel="prefetch" href="/./assets/Set、WeakSet、Map shujujiegoudeyingyongjimianshizhentijiexi.html-ec31d908.js" as="script"><link rel="prefetch" href="/./assets/Symbol、BigInt、mobanzifuchuandeyingyongchangjinghedicengyuanli.html-9ab441e9.js" as="script"><link rel="prefetch" href="/./assets/shejimoshi - diedaiqimoshihe Iterator bianliqiyu for...of xunhuan.html-a770f02c.js" as="script"><link rel="prefetch" href="/./assets/HTMLHTML5 changyongbiaoqianheshuxing.html-c1672c5e.js" as="script"><link rel="prefetch" href="/./assets/HTMLHTML5 biaoqianjichuyufa.html-3e4ab371.js" as="script"><link rel="prefetch" href="/./assets/qianduan HTMLHTML5 hexinbiaoqianheshuxing.html-63fbe902.js" as="script"><link rel="prefetch" href="/./assets/TS zhong class leixing，fanxing，leixingduanyanhexinjichu yu shijianyingyong.html-1990fc36.js" as="script"><link rel="prefetch" href="/./assets/TS gongchengshijianzhongdebianyigongju，daimajianchagongju，danyuanceshi.html-9dd1ebe7.js" as="script"><link rel="prefetch" href="/./assets/TS gongchengshijian，goujiangongju，mokuaixitong，bianxieleixingshengmingwenjian.html-0625a761.js" as="script"><link rel="prefetch" href="/./assets/TS mokuai，namespace mingmingkongjian，declare guanjianzi.html-43c413d9.js" as="script"><link rel="prefetch" href="/./assets/TS deleixingjianchajizhi，leixingjianrongxing、baohujizhi、gaojileixing.html-6161873c.js" as="script"><link rel="prefetch" href="/./assets/TypeScript zhong Enum meijuleixing、interface jiekouleixing.html-f73f6db2.js" as="script"><link rel="prefetch" href="/./assets/TypeScript hanshuleixing、symbol leixing、duixiangleixing.html-35cc2c6f.js" as="script"><link rel="prefetch" href="/./assets/TypeScript kuaisurumen - hexinjichu，TS jibenshujuleixing.html-1b89d705.js" as="script"><link rel="prefetch" href="/./assets/TypeScript shuzu、yuanzu，any、unknown、never leixing.html-7db03d54.js" as="script"><link rel="prefetch" href="/./assets/TypeScript zhushizhiling，tsconfig.json，tsc minglingxingbianjiqi.html-d8a12624.js" as="script"><link rel="prefetch" href="/./assets/TypeScript leixingyunsuanfu，leixingyingshe，leixinggongju.html-54f764fe.js" as="script"><link rel="prefetch" href="/./assets/JS hanshu、zuoyongyu（lian）、bianlianghanshutisheng、suanfahexin.html-ddbbabc0.js" as="script"><link rel="prefetch" href="/./assets/JS de Math yu Date duixiang，shouxiehuodongdaojishi、rilizujian.html-8c393a35.js" as="script"><link rel="prefetch" href="/./assets/JavaScript BOM hexin Window duixiangshuxing、fangfa、shijian.html-c886d59c.js" as="script"><link rel="prefetch" href="/./assets/JavaScript DOM shijian，shijianliu，shijianduixiang，shijianweituo.html-871388f4.js" as="script"><link rel="prefetch" href="/./assets/JavaScript DOM yangshi yu jiediancaozuo.html-c577ba6c.js" as="script"><link rel="prefetch" href="/./assets/JavaScript sandabaozhuanglei Number、String、Boolean.html-63344d1e.js" as="script"><link rel="prefetch" href="/./assets/JavaScript dingshiqi、yanshiqi、CSS3 donghuashijian，fangdoujieliu.html-31ef438b.js" as="script"><link rel="prefetch" href="/./assets/JavaScript zhixingyuanli、bibao、lajihuishou、lijizhixinghanshu.html-1abe8b05.js" as="script"><link rel="prefetch" href="/./assets/JavaScript shujuleixingheleixingzhuanhuan.html-8148f70b.js" as="script"><link rel="prefetch" href="/./assets/JavaScript shuzuyingyong he suanfa.html-b858eec3.js" as="script"><link rel="prefetch" href="/./assets/JavaScript hexinjichu，jieduanceshiti.html-7155fa55.js" as="script"><link rel="prefetch" href="/./assets/JavaScript zhengzebiaodashicongrumendaoshijian，zhengzexiangguangongju.html-5d230b34.js" as="script"><link rel="prefetch" href="/./assets/JavaScript liuchengkongzhiyuju he suanfa.html-be5784d4.js" as="script"><link rel="prefetch" href="/./assets/JavaScript jianjie、hexinyufa、bianliang.html-700794d2.js" as="script"><link rel="prefetch" href="/./assets/JavaScript suanfa，dachangqianduanmianshizhenti.html-11901a7e.js" as="script"><link rel="prefetch" href="/./assets/JavaScript jichengde 6 zhongfangshi、yingyongchangjing，nazhigouzaohanshu.html-3bd991f7.js" as="script"><link rel="prefetch" href="/./assets/JavaScript biaodashi、caozuofu、weiyunsuanfu.html-dfd6b028.js" as="script"><link rel="prefetch" href="/./assets/JavaScript cuowuchuli、LHS zuochaxun、RHS youchaxun.html-f5137b18.js" as="script"><link rel="prefetch" href="/./assets/JavaScript mianxiangduixiang，yuanxingheyuanxinglian.html-ac993dfc.js" as="script"><link rel="prefetch" href="/./assets/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html-06a0811e.js" as="script"><link rel="prefetch" href="/./assets/defineProperty fangfa，JS gongyou、siyou、jingtai，zhanheduilie.html-6ae8717f.js" as="script"><link rel="prefetch" href="/./assets/shenru JavaScript shuzuxiangguanfangfa he API.html-3ba2a327.js" as="script"><link rel="prefetch" href="/./assets/index.html-b0da4c7a.js" as="script"><link rel="prefetch" href="/./assets/di01zhang—kaipian：rangVitezhulinideqianduangongchenghuazhilu.html-a1c4c524.js" as="script"><link rel="prefetch" href="/./assets/di02zhang—mokuaibiaozhun：weishimeESMshiqianduanmokuaihuadeweilai.html-ae17ef9e.js" as="script"><link rel="prefetch" href="/./assets/di03zhang—kuaisushangshou：ruheyongViteconglingdajianqianduanxiangmu.html-dc9efeda.js" as="script"><link rel="prefetch" href="/./assets/di04zhang—yangshifangan：zaiVitezhongjieruxiandaihuadeCSSgongchenghuafangan.html-a3469987.js" as="script"><link rel="prefetch" href="/./assets/di05zhang—daimaguifan：ruheliyongLintgongjulianlaibaozhengdaimafenggehezhiliang.html-27e41322.js" as="script"><link rel="prefetch" href="/./assets/di06zhang—jingtaiziyuan：ruhezaiVitezhongchuligezhongjingtaiziyuan.html-436914dd.js" as="script"><link rel="prefetch" href="/./assets/di07zhang—yugoujian：ruhewanzhuanmiaojiyilaiyugoujiandenenli.html-c17e0a65.js" as="script"><link rel="prefetch" href="/./assets/di08zhang—shuangyinqingjiagou：Viteshiruhezhanzaijurendejianbangshangshixiande.html-a38c9c01.js" as="script"><link rel="prefetch" href="/./assets/di09zhang—delidexingnentuishou：Esbuildgongnenshiyongyuchajiankaifashizhan.html-14232e9b.js" as="script"><link rel="prefetch" href="/./assets/di10zhang—Vitegoujianjishi(shang)——Rollupdabaojibengainianjishiyong.html-da18bccc.js" as="script"><link rel="prefetch" href="/./assets/di11zhang—Vitegoujianjishi(xia)——shenrulijieRollupdechajianjizhi.html-9be35d06.js" as="script"><link rel="prefetch" href="/./assets/di12zhang—chajiankaifayushizhan：ruhekaifayigewanzhengdeVitechajian.html-5b9381c5.js" as="script"><link rel="prefetch" href="/./assets/di13zhang—HMRAPIjiyuanli：daimagaidonghou，ruhejinxinghaomiaojibiedejubugengxin.html-e8a796a9.js" as="script"><link rel="prefetch" href="/./assets/di14zhang—daimafenge：dabaowanchanwutijitaida，zenmechaibao.html-40ba06be.js" as="script"><link rel="prefetch" href="/./assets/di15zhang—yufajiangjiyuPolyfill：lianheqianduanbianyigongjulian，xiaomiedibanbenliulanqijianrongwenti.html-8dd499b4.js" as="script"><link rel="prefetch" href="/./assets/di16zhang—yuxuanran：ruhejiezhuVitedajiangaokeyongdefuwuduanxuanran(SSR)gongcheng.html-14dcfda7.js" as="script"><link rel="prefetch" href="/./assets/di17zhang—mokuailianbang：ruheshixianyouyadekuayingyongdaimagongxiang.html-dff6faa8.js" as="script"><link rel="prefetch" href="/./assets/di18zhang—zaitanESM：gaojietexing_PureESMshidai.html-246f2c1f.js" as="script"><link rel="prefetch" href="/./assets/di19zhang—xingnenyouhua：ruhetixihuadiduiVitexiangmujinxingxingnenyouhua.html-97b7840e.js" as="script"><link rel="prefetch" href="/./assets/di20zhang—peizhijiexifuwu：peizhiwenjianzaiVitenabubeizhuanhuanchengshimeyangziliao.html-b74cc62f.js" as="script"><link rel="prefetch" href="/./assets/di21zhang—yilaiyugoujian：EsbuilddabaogongnenruhebeiVitewanchuhualai.html-03bb1a79.js" as="script"><link rel="prefetch" href="/./assets/di22zhang—chajianliushuixian：congzhengtidaojubu，lijieVitedehexinbianyinenli.html-109ac7e4.js" as="script"><link rel="prefetch" href="/./assets/di23zhang—regengxin：jiyuESMdehaomiaojiHMRdeshixianjiemi.html-7a145315.js" as="script"><link rel="prefetch" href="/./assets/di24zhang—shouxieVite：shixianno-bundlekaifafuwu(shang).html-4fa9d821.js" as="script"><link rel="prefetch" href="/./assets/di25zhang—shouxieVite：shixianno-bundlekaifafuwu(xia).html-13fe2520.js" as="script"><link rel="prefetch" href="/./assets/di26zhang—shouxieBundler：shixianJavaScriptASTjiexiqi——cifafenxi、yuyifenxi.html-36a82c4c.js" as="script"><link rel="prefetch" href="/./assets/di27zhang—shouxieBundler：shixiandaimadabao、TreeShaking.html-cab5cbe9.js" as="script"><link rel="prefetch" href="/./assets/di28zhang—jiacan：Vite3.0hexingengxinpandianyufenxi.html-b15cfe0a.js" as="script"><link rel="prefetch" href="/./assets/CSS display shuxing、beijingshuxing、qitachangyongshuxing.html-14744bb0.js" as="script"><link rel="prefetch" href="/./assets/CSS sandatexing：jicheng、cengdiexing、youxianji.html-7b3c41f1.js" as="script"><link rel="prefetch" href="/./assets/CSS jichurenzhi he xuanzeqi.html-1b251e40.js" as="script"><link rel="prefetch" href="/./assets/CSS dingwei、cengdieshunxu、cengdieshangxiawen.html-c2fe81ed.js" as="script"><link rel="prefetch" href="/./assets/CSS wenbenhezitishuxing、liebiaoshuxing.html-6ee15c51.js" as="script"><link rel="prefetch" href="/./assets/CSS hezimoxing.html-5916b24b.js" as="script"><link rel="prefetch" href="/./assets/margin fuzhidezuijiashijian.html-dbe1412c.js" as="script"><link rel="prefetch" href="/./assets/transform 2D yu 3D zhuanhuan.html-c7b1cc81.js" as="script"><link rel="prefetch" href="/./assets/transition guodudonghuayu animation zidingyidonghua.html-49ede034.js" as="script"><link rel="prefetch" href="/./assets/qianduan CSS、CSS3 hexinyangshiheshuxing.html-33f68081.js" as="script"><link rel="prefetch" href="/./assets/yuanjiao、yinying、wenbentuxiangchuli、CSS hanshu.html-ef26d150.js" as="script"><link rel="prefetch" href="/./assets/fudong、BFC guifan、qingchufudongdezuijiashijian.html-7228d040.js" as="script"><link rel="prefetch" href="/./assets/fangyushibiancheng - fangyushi CSS.html-df6eb8cf.js" as="script"><link rel="prefetch" href="/./assets/1 kaipianci：Vue3heVue2.html-cf3fedd7.js" as="script"><link rel="prefetch" href="/./assets/10 xiangyingshiyuanli：computed hanshuheputonghanshuyoushimebutong？.html-d2c93b79.js" as="script"><link rel="prefetch" href="/./assets/11 xiangyingshiyuanli：yilaizhurushixiankuajizujianshujugongxiang.html-d471ed2c.js" as="script"><link rel="prefetch" href="/./assets/12 bianyiqi：mobanshiruhebeibianyicheng AST de？.html-6b129fc5.js" as="script"><link rel="prefetch" href="/./assets/13 bianyiqi：AST shiruhebeizhuanhuancheng JS AST de？.html-3d8c9193.js" as="script"><link rel="prefetch" href="/./assets/14 bianyiqi：JS AST shiruheshengchengxuanranhanshude？.html-8fe3c9e5.js" as="script"><link rel="prefetch" href="/./assets/15 bianyiqi：bianyiguochengzhongdeyouhuaxijie.html-267eb52b.js" as="script"><link rel="prefetch" href="/./assets/16 nazhizujian：Transition shiruheshixiande？.html-9743af4d.js" as="script"><link rel="prefetch" href="/./assets/17 nazhizujian：KeepAlive baohuodeyuanli.html-95ca6c78.js" as="script"><link rel="prefetch" href="/./assets/18 nazhizujian：Teleport shiruheshixianxuanzexingguazaide？.html-88f93daf.js" as="script"><link rel="prefetch" href="/./assets/19 nazhizujian：Suspense yuanliyuyibu.html-ae4e4efe.js" as="script"><link rel="prefetch" href="/./assets/2 xuanranqi：zujianshiruhebeixuanrancheng DOM de？.html-d4062a0c.js" as="script"><link rel="prefetch" href="/./assets/20 teshuyuansu_zhiling：shuangxiangbangdingshiruheshixiande？.html-9b911ae6.js" as="script"><link rel="prefetch" href="/./assets/21 teshuyuansu_zhiling：slot chacaoyuansushiruheshixiande？.html-8752d79a.js" as="script"><link rel="prefetch" href="/./assets/22 jieyu：zaihuishou，zongguan Vue 3 shixian.html-83fb6b85.js" as="script"><link rel="prefetch" href="/./assets/3 xuanranqi：shujufangwenshiruhebeidailide？.html-212f49d6.js" as="script"><link rel="prefetch" href="/./assets/4 xuanranqi：zujianshiruhewanchenggengxinde？.html-1fca175e.js" as="script"><link rel="prefetch" href="/./assets/5 xuanranqi：shuzuzijiediande diff suanfa.html-86a573fb.js" as="script"><link rel="prefetch" href="/./assets/6 xiangyingshiyuanli：jiyu Proxy dexiangyingshishishimeyangde？.html-9645cfca.js" as="script"><link rel="prefetch" href="/./assets/7 xiangyingshiyuanli：fuzuoyonghanshutanmi.html-191c89de.js" as="script"><link rel="prefetch" href="/./assets/8 xiangyingshiyuanli：Vue 3 de nextTick ？.html-fa703f1b.js" as="script"><link rel="prefetch" href="/./assets/9 xiangyingshiyuanli：watch hanshudeshixianyuanli.html-0763492b.js" as="script"><link rel="prefetch" href="/./assets/Pinia quanjuzhuangtaiguanli，shenru State、Getter、Action.html-79f7b0d1.js" as="script"><link rel="prefetch" href="/./assets/Vue Router daohangshouwei、guoduyugundong、lanjiazai、dongtailuyou.html-3c905286.js" as="script"><link rel="prefetch" href="/./assets/Vue Router luyouchuancan、bieming、pipeiyufa、bianchengshidaohang.html-266b3c65.js" as="script"><link rel="prefetch" href="/./assets/Vue Router luyou，qianhouduanluyouyuanli yu jutishixian.html-40cbc854.js" as="script"><link rel="prefetch" href="/./assets/Vue zhong Transition he TransitionGroup zujian，shijianyingyong.html-637cb469.js" as="script"><link rel="prefetch" href="/./assets/Vue zhongde Teleport nazhizujian.html-cfe0a9df.js" as="script"><link rel="prefetch" href="/./assets/Vue xiongdizujianjiantongxin、fabuyudingyue，dongtai、yibuzujian.html-51954835.js" as="script"><link rel="prefetch" href="/./assets/Vue danwenjianzujian，fuzizujianjianchuanzhi、tongxin，touchuanshuxing.html-fc307d9c.js" as="script"><link rel="prefetch" href="/./assets/Vue jichu - mobanyufa、shijianchuli、jisuanshuxing、zhentingqi.html-d2004456.js" as="script"><link rel="prefetch" href="/./assets/Vue jichu - biaodan、yangshibangding，tiaojian、liebiaoxuanran、zhiling.html-ad9bed7f.js" as="script"><link rel="prefetch" href="/./assets/Vue chajiankaifa，Element Plus、VantUI zujiankushijianyingyong.html-e16136eb.js" as="script"><link rel="prefetch" href="/./assets/Vue chacao Slots，zidingyidanchuang、gaojiliebiaozujian，yilaizhuru.html-286b482c.js" as="script"><link rel="prefetch" href="/./assets/Vue xuanranjizhi - xuni DOM，render、h hanshu，xuanranliucheng.html-0a1645af.js" as="script"><link rel="prefetch" href="/./assets/Vue shengmingzhouqi、zidingyizhiling、mobanyinyongdeyuanliyushijian.html-1891e63e.js" as="script"><link rel="prefetch" href="/./assets/Vue zuheshi API - ref，tongxin API，yilaizhuru，shengmingzhouqi.html-0534c781.js" as="script"><link rel="prefetch" href="/./assets/Vue zuheshi API - setup、reactive yu ref，xiangyingshigongju.html-7efe16f2.js" as="script"><link rel="prefetch" href="/./assets/Vue zuheshi API - watch he watchEffect、zidingyizhiling.html-ef680d5e.js" as="script"><link rel="prefetch" href="/./assets/di01zhang—zhongxinrenshiWebpack：jiushidaidepojuzhe.html-e532221d.js" as="script"><link rel="prefetch" href="/./assets/di02zhang—ruhelijieWebpackpeizhidicengjiegouluoji.html-024489ec.js" as="script"><link rel="prefetch" href="/./assets/di03zhang—ruhejiezhuBabel_TS_ESLintgoujianxiandaiJSgongchenghuanjing.html-2f8597de.js" as="script"><link rel="prefetch" href="/./assets/di04zhang—ruhejiezhuyuchuliqi、PostCSSdenggoujianxiandaiCSSgongchenghuanjing.html-0e40efb8.js" as="script"><link rel="prefetch" href="/./assets/di05zhang—ruhedajianVuequanzhankaifahuanjing.html-1d25335e.js" as="script"><link rel="prefetch" href="/./assets/di06zhang—ruhedajianReactquanzhankaifahuanjing.html-34d7edde.js" as="script"><link rel="prefetch" href="/./assets/di07zhang—shiyongWebpackgoujianNPMLibrarydezhengquefangshi.html-3a4cc78a.js" as="script"><link rel="prefetch" href="/./assets/di08zhang—shiyongWebpackgoujianweiqianduanyingyong.html-bedb8059.js" as="script"><link rel="prefetch" href="/./assets/di09zhang—ruhejiezhuWebpackkaifaPWA、Node、Electronyingyong.html-97ed0c51.js" as="script"><link rel="prefetch" href="/./assets/di10zhang—shenrulijietuxiangjiazaiyuanliyuzuijiashijian.html-f50bbfbe.js" as="script"><link rel="prefetch" href="/./assets/di11zhang—shenrulijieWebpackhexinpeizhijiegou.html-3b417909.js" as="script"><link rel="prefetch" href="/./assets/di12zhang—goujianxingnen：fenxiang7kuanchangyongdexingnenfenxigongju.html-e0c1513c.js" as="script"><link rel="prefetch" href="/./assets/di13zhang—ruheshiyongWebpackchijiuhuahuancundafutishenggoujianxingnen.html-48f806f9.js" as="script"><link rel="prefetch" href="/./assets/di14zhang—Webpackduyounaxieshixianbingxinggoujiandefangfa.html-2dbd3e53.js" as="script"><link rel="prefetch" href="/./assets/di15zhang—younaxiezhidexuexidegoujianxingnenjizhiyouhuajiqiao.html-69307947.js" as="script"><link rel="prefetch" href="/./assets/di16zhang—ruhezhengqueshiyongSplitChunkstishengyingyongxingnen.html-762120e2.js" as="script"><link rel="prefetch" href="/./assets/di17zhang—buzhiTerser：jiemidaimayasuodemenmendaodao.html-5130e15e.js" as="script"><link rel="prefetch" href="/./assets/di18zhang—huaiyounaxiezhidexuexideyingyongxingnenjizhiyouhuajiqiao.html-04400f19.js" as="script"><link rel="prefetch" href="/./assets/di19zhang—Loaderkaifajichu：congkaiyuanxiangmuxuedaodeLoaderkaifajiqiao.html-e96e61f5.js" as="script"><link rel="prefetch" href="/./assets/di20zhang—Loaderkaifajinjie：ruheyonghaoLoaderkuozhankaifagongju.html-7e992218.js" as="script"><link rel="prefetch" href="/./assets/di21zhang—chajiankaifajichu：shilipouxichajianjibenxingtaiyujiagouluoji.html-d512c61d.js" as="script"><link rel="prefetch" href="/./assets/di22zhang—chajiankaifajinjie：ruhetishengchajianjianzhuangxing.html-f0b7bfa9.js" as="script"><link rel="prefetch" href="/./assets/di23zhang—chajianjiagou：HooktixishiruheyingxiangWebpackjiagoude.html-a768a0f4.js" as="script"><link rel="prefetch" href="/./assets/di24zhang—Init、Make、Seal：zhenzhengdudongWebpackhexinliucheng.html-63dccb02.js" as="script"><link rel="prefetch" href="/./assets/di25zhang—DependencyGraph：ruheguanlimokuaijianyilai.html-e2b61dee.js" as="script"><link rel="prefetch" href="/./assets/di26zhang—Chunk：sanzhongchanwudedabaoluoji.html-5e4964b0.js" as="script"><link rel="prefetch" href="/./assets/di28zhang—Tree-shaking：ruheshanchuwuyongmokuaidaochu.html-7eac3168.js" as="script"><link rel="prefetch" href="/./assets/di29zhang—Sourcemap：yuanmayingsheyuanliyuyingyongjiqiao.html-09c56ad9.js" as="script"><link rel="prefetch" href="/./assets/di30zhang—HMR：ruhedongtaitihuanyemiandaima.html-eb22a306.js" as="script"><link rel="prefetch" href="/./assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/./assets/index.html-c3eac93c.js" as="script"><link rel="prefetch" href="/./assets/index.html-3d25321c.js" as="script"><link rel="prefetch" href="/./assets/index.html-4a8391bf.js" as="script"><link rel="prefetch" href="/./assets/index.html-caee385e.js" as="script"><link rel="prefetch" href="/./assets/index.html-f82eaa76.js" as="script"><link rel="prefetch" href="/./assets/index.html-029ee9d3.js" as="script"><link rel="prefetch" href="/./assets/index.html-026d049b.js" as="script"><link rel="prefetch" href="/./assets/index.html-940a7b8f.js" as="script"><link rel="prefetch" href="/./assets/index.html-1545a486.js" as="script"><link rel="prefetch" href="/./assets/index.html-0647191e.js" as="script"><link rel="prefetch" href="/./assets/index.html-3ec5056a.js" as="script"><link rel="prefetch" href="/./assets/index.html-effc4a11.js" as="script"><link rel="prefetch" href="/./assets/index.html-73dfbd00.js" as="script"><link rel="prefetch" href="/./assets/index.html-19d33ca6.js" as="script"><link rel="prefetch" href="/./assets/index.html-18cbdd04.js" as="script"><link rel="prefetch" href="/./assets/index.html-a77f979d.js" as="script"><link rel="prefetch" href="/./assets/index.html-b9ac0840.js" as="script"><link rel="prefetch" href="/./assets/index.html-c147af46.js" as="script"><link rel="prefetch" href="/./assets/index.html-bca40bc8.js" as="script"><link rel="prefetch" href="/./assets/index.html-b59e3221.js" as="script"><link rel="prefetch" href="/./assets/index.html-d99d83ca.js" as="script"><link rel="prefetch" href="/./assets/index.html-8c2f17ea.js" as="script"><link rel="prefetch" href="/./assets/index.html-c278dd15.js" as="script"><link rel="prefetch" href="/./assets/index.html-c4dda637.js" as="script"><link rel="prefetch" href="/./assets/index.html-3dda9aa8.js" as="script"><link rel="prefetch" href="/./assets/index.html-60a2bf02.js" as="script"><link rel="prefetch" href="/./assets/index.html-51e34d32.js" as="script"><link rel="prefetch" href="/./assets/index.html-3f26ee17.js" as="script"><link rel="prefetch" href="/./assets/index.html-7725d06a.js" as="script"><link rel="prefetch" href="/./assets/index.html-46fd75eb.js" as="script"><link rel="prefetch" href="/./assets/index.html-3dd9cce7.js" as="script"><link rel="prefetch" href="/./assets/index.html-36858ac2.js" as="script"><link rel="prefetch" href="/./assets/index.html-4857c66c.js" as="script"><link rel="prefetch" href="/./assets/index.html-287a1e7a.js" as="script"><link rel="prefetch" href="/./assets/index.html-25c96ddb.js" as="script"><link rel="prefetch" href="/./assets/index.html-c7e5945b.js" as="script"><link rel="prefetch" href="/./assets/index.html-8025d6f7.js" as="script"><link rel="prefetch" href="/./assets/index.html-e0ec84a0.js" as="script"><link rel="prefetch" href="/./assets/index.html-3a6c7214.js" as="script"><link rel="prefetch" href="/./assets/index.html-8334cb55.js" as="script"><link rel="prefetch" href="/./assets/index.html-f0cc28ef.js" as="script"><link rel="prefetch" href="/./assets/index.html-3d4fa6b2.js" as="script"><link rel="prefetch" href="/./assets/index.html-4fa52393.js" as="script"><link rel="prefetch" href="/./assets/index.html-ff867703.js" as="script"><link rel="prefetch" href="/./assets/index.html-a22a06ea.js" as="script"><link rel="prefetch" href="/./assets/index.html-b2763c4c.js" as="script"><link rel="prefetch" href="/./assets/erchashu.html-8564fb9d.js" as="script"><link rel="prefetch" href="/./assets/shuzuzifuchuan.html-8f9734d3.js" as="script"><link rel="prefetch" href="/./assets/meirimianshiti.html-7625a2e6.js" as="script"><link rel="prefetch" href="/./assets/index.html-e4c39fda.js" as="script"><link rel="prefetch" href="/./assets/index.html-88d827d4.js" as="script"><link rel="prefetch" href="/./assets/index.html-10a2ed23.js" as="script"><link rel="prefetch" href="/./assets/JSON、Ajax、kuayuqingqiu、XHR duixiang、Axios yu Fetch.html-d59a3fcd.js" as="script"><link rel="prefetch" href="/./assets/qianhouduanshujujiaohu yu HTTP xieyi.html-154caaea.js" as="script"><link rel="prefetch" href="/./assets/bendicunchu Cookie、localStorage、sessionStorage shijian.html-597e404f.js" as="script"><link rel="prefetch" href="/./assets/JS mianxiangduixiang、fencengsheji、dongtaishujubianlizuijiashijianyuyingyong.html-f4a3aa87.js" as="script"><link rel="prefetch" href="/./assets/JS mianxiangduixiang，daimafencengjiagoushejishijian yu wangluoqingqiufengzhuang.html-bd79c2f8.js" as="script"><link rel="prefetch" href="/./assets/qianhouduanfenlijiagou VS chuantongjiagou，xingyezuijiashijian.html-7992cbf0.js" as="script"><link rel="prefetch" href="/./assets/xiaochengxu npm zhichi，zhuangtaiguanli，fenbao，zidingyi tabBar.html-1fbfaaea.js" as="script"><link rel="prefetch" href="/./assets/xiaochengxujieliufangdou，gujiapinggongnen、yonghutiyanyouhuayushijian.html-ab4baae6.js" as="script"><link rel="prefetch" href="/./assets/xiaochengxuxiangmujiegou、peizhiceng、shituceng、luojiceng、suzhuhuanjing.html-0f3368e2.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxuyunkaifashixianzhucedenglu yu duozhongduanchangjiandenglufangshi.html-d6dccb2d.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxufazhanshi、kaifahuanjingzhunbei、tuanduixiezuoshangxianliucheng.html-f319e847.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxudeshengmingzhouqi、shengmingzhouqihanshu yu shijianyingyong.html-74454bab.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxuzidingyizujianfengzhuang，xiangmuzuijiashijianzongheyingyong.html-d843b83d.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxuzidingyizujian，hexinjichu he shijianyingyong.html-db0504fc.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxushitucengdezujian、shujubangding，liebiao、tiaojianxuanran.html-cde89188.js" as="script"><link rel="prefetch" href="/./assets/weixinxiaochengxuyemiandaohang、chuancan、shijian、API、wangluoqingqiu.html-046081a8.js" as="script"><link rel="prefetch" href="/./assets/Class leideshuxing、fangfa、jicheng、gouzaohanshujijiejuefangan.html-7788543b.js" as="script"><link rel="prefetch" href="/./assets/ECMAScript、ES6 jianshi，let、const、var qubieheyingyong.html-e75a7831.js" as="script"><link rel="prefetch" href="/./assets/ES6 Module mokuaixitong.html-7ff49231.js" as="script"><link rel="prefetch" href="/./assets/ES6 Proxy daili yu Reflect fanshe，Vue3 xiangyingshishujuyuanli.html-b2c35333.js" as="script"><link rel="prefetch" href="/./assets/ES6 shengyucanshu he zhankaiyunsuanfuzaishijikaifazhongdeyingyong.html-488d1fa6.js" as="script"><link rel="prefetch" href="/./assets/ES6 zifuchuan、shuzu、duixiangdexinzengfangfahechangjianyingyong.html-d885d3a4.js" as="script"><link rel="prefetch" href="/./assets/ES6 jiantouhanshu he duixiangzimianliangzengqiang，dachangmianshizhentijiexi.html-c32bc8ff.js" as="script"><link rel="prefetch" href="/./assets/ES6 jiegoufuzhi，hanshucanshumorenzhi，zaixiangmuzhongdeyingyongchangjing.html-5dbf8348.js" as="script"><link rel="prefetch" href="/./assets/Generator hanshudeshijianyushijianyingyong.html-0ac7d78d.js" as="script"><link rel="prefetch" href="/./assets/JavaScript zhongde Event Loop shijianxunhuan、weirenwuyuhongrenwu.html-12d28661.js" as="script"><link rel="prefetch" href="/./assets/Promise yongfa、shilifangfa、yuanliyuyibubianchengdeshijianyingyong.html-d33a940f.js" as="script"><link rel="prefetch" href="/./assets/Set、WeakSet、Map shujujiegoudeyingyongjimianshizhentijiexi.html-9ed4d5bf.js" as="script"><link rel="prefetch" href="/./assets/Symbol、BigInt、mobanzifuchuandeyingyongchangjinghedicengyuanli.html-6d8fe281.js" as="script"><link rel="prefetch" href="/./assets/shejimoshi - diedaiqimoshihe Iterator bianliqiyu for...of xunhuan.html-9c0a3d50.js" as="script"><link rel="prefetch" href="/./assets/HTMLHTML5 changyongbiaoqianheshuxing.html-a71e6d98.js" as="script"><link rel="prefetch" href="/./assets/HTMLHTML5 biaoqianjichuyufa.html-3e1387e3.js" as="script"><link rel="prefetch" href="/./assets/qianduan HTMLHTML5 hexinbiaoqianheshuxing.html-5cc6d092.js" as="script"><link rel="prefetch" href="/./assets/TS zhong class leixing，fanxing，leixingduanyanhexinjichu yu shijianyingyong.html-381279ae.js" as="script"><link rel="prefetch" href="/./assets/TS gongchengshijianzhongdebianyigongju，daimajianchagongju，danyuanceshi.html-019e96ba.js" as="script"><link rel="prefetch" href="/./assets/TS gongchengshijian，goujiangongju，mokuaixitong，bianxieleixingshengmingwenjian.html-a313f0e2.js" as="script"><link rel="prefetch" href="/./assets/TS mokuai，namespace mingmingkongjian，declare guanjianzi.html-05378317.js" as="script"><link rel="prefetch" href="/./assets/TS deleixingjianchajizhi，leixingjianrongxing、baohujizhi、gaojileixing.html-49c654a9.js" as="script"><link rel="prefetch" href="/./assets/TypeScript zhong Enum meijuleixing、interface jiekouleixing.html-6f607cd6.js" as="script"><link rel="prefetch" href="/./assets/TypeScript hanshuleixing、symbol leixing、duixiangleixing.html-efec6dff.js" as="script"><link rel="prefetch" href="/./assets/TypeScript kuaisurumen - hexinjichu，TS jibenshujuleixing.html-56b6284b.js" as="script"><link rel="prefetch" href="/./assets/TypeScript shuzu、yuanzu，any、unknown、never leixing.html-7d5da03c.js" as="script"><link rel="prefetch" href="/./assets/TypeScript zhushizhiling，tsconfig.json，tsc minglingxingbianjiqi.html-15249f73.js" as="script"><link rel="prefetch" href="/./assets/TypeScript leixingyunsuanfu，leixingyingshe，leixinggongju.html-451358fd.js" as="script"><link rel="prefetch" href="/./assets/JS hanshu、zuoyongyu（lian）、bianlianghanshutisheng、suanfahexin.html-7d531737.js" as="script"><link rel="prefetch" href="/./assets/JS de Math yu Date duixiang，shouxiehuodongdaojishi、rilizujian.html-02629f23.js" as="script"><link rel="prefetch" href="/./assets/JavaScript BOM hexin Window duixiangshuxing、fangfa、shijian.html-22a9c7f2.js" as="script"><link rel="prefetch" href="/./assets/JavaScript DOM shijian，shijianliu，shijianduixiang，shijianweituo.html-b2ba146b.js" as="script"><link rel="prefetch" href="/./assets/JavaScript DOM yangshi yu jiediancaozuo.html-6d1de854.js" as="script"><link rel="prefetch" href="/./assets/JavaScript sandabaozhuanglei Number、String、Boolean.html-5fe212c9.js" as="script"><link rel="prefetch" href="/./assets/JavaScript dingshiqi、yanshiqi、CSS3 donghuashijian，fangdoujieliu.html-dea94af0.js" as="script"><link rel="prefetch" href="/./assets/JavaScript zhixingyuanli、bibao、lajihuishou、lijizhixinghanshu.html-c5211f8c.js" as="script"><link rel="prefetch" href="/./assets/JavaScript shujuleixingheleixingzhuanhuan.html-fa1775b0.js" as="script"><link rel="prefetch" href="/./assets/JavaScript shuzuyingyong he suanfa.html-5b4e114d.js" as="script"><link rel="prefetch" href="/./assets/JavaScript hexinjichu，jieduanceshiti.html-fe0af5aa.js" as="script"><link rel="prefetch" href="/./assets/JavaScript zhengzebiaodashicongrumendaoshijian，zhengzexiangguangongju.html-9f1b46d7.js" as="script"><link rel="prefetch" href="/./assets/JavaScript liuchengkongzhiyuju he suanfa.html-a9b59739.js" as="script"><link rel="prefetch" href="/./assets/JavaScript jianjie、hexinyufa、bianliang.html-89742afa.js" as="script"><link rel="prefetch" href="/./assets/JavaScript suanfa，dachangqianduanmianshizhenti.html-b6030ac2.js" as="script"><link rel="prefetch" href="/./assets/JavaScript jichengde 6 zhongfangshi、yingyongchangjing，nazhigouzaohanshu.html-ff5adc9d.js" as="script"><link rel="prefetch" href="/./assets/JavaScript biaodashi、caozuofu、weiyunsuanfu.html-2c1cb903.js" as="script"><link rel="prefetch" href="/./assets/JavaScript cuowuchuli、LHS zuochaxun、RHS youchaxun.html-b4d88ee5.js" as="script"><link rel="prefetch" href="/./assets/JavaScript mianxiangduixiang，yuanxingheyuanxinglian.html-8ecb28db.js" as="script"><link rel="prefetch" href="/./assets/JavaScript shubiaoshijian he HTML5 tuozhuaishijiandezongheyingyong.html-a7c84035.js" as="script"><link rel="prefetch" href="/./assets/defineProperty fangfa，JS gongyou、siyou、jingtai，zhanheduilie.html-6b7dd2fd.js" as="script"><link rel="prefetch" href="/./assets/shenru JavaScript shuzuxiangguanfangfa he API.html-df6ec21d.js" as="script"><link rel="prefetch" href="/./assets/index.html-ad8cd40b.js" as="script"><link rel="prefetch" href="/./assets/di01zhang—kaipian：rangVitezhulinideqianduangongchenghuazhilu.html-6bbab343.js" as="script"><link rel="prefetch" href="/./assets/di02zhang—mokuaibiaozhun：weishimeESMshiqianduanmokuaihuadeweilai.html-71de02e1.js" as="script"><link rel="prefetch" href="/./assets/di03zhang—kuaisushangshou：ruheyongViteconglingdajianqianduanxiangmu.html-73722c61.js" as="script"><link rel="prefetch" href="/./assets/di04zhang—yangshifangan：zaiVitezhongjieruxiandaihuadeCSSgongchenghuafangan.html-914dc854.js" as="script"><link rel="prefetch" href="/./assets/di05zhang—daimaguifan：ruheliyongLintgongjulianlaibaozhengdaimafenggehezhiliang.html-45054e41.js" as="script"><link rel="prefetch" href="/./assets/di06zhang—jingtaiziyuan：ruhezaiVitezhongchuligezhongjingtaiziyuan.html-28ad132c.js" as="script"><link rel="prefetch" href="/./assets/di07zhang—yugoujian：ruhewanzhuanmiaojiyilaiyugoujiandenenli.html-cd1370f3.js" as="script"><link rel="prefetch" href="/./assets/di08zhang—shuangyinqingjiagou：Viteshiruhezhanzaijurendejianbangshangshixiande.html-27719b8c.js" as="script"><link rel="prefetch" href="/./assets/di09zhang—delidexingnentuishou：Esbuildgongnenshiyongyuchajiankaifashizhan.html-bf554f14.js" as="script"><link rel="prefetch" href="/./assets/di10zhang—Vitegoujianjishi(shang)——Rollupdabaojibengainianjishiyong.html-28871140.js" as="script"><link rel="prefetch" href="/./assets/di11zhang—Vitegoujianjishi(xia)——shenrulijieRollupdechajianjizhi.html-a1a6b8e0.js" as="script"><link rel="prefetch" href="/./assets/di12zhang—chajiankaifayushizhan：ruhekaifayigewanzhengdeVitechajian.html-25d61085.js" as="script"><link rel="prefetch" href="/./assets/di13zhang—HMRAPIjiyuanli：daimagaidonghou，ruhejinxinghaomiaojibiedejubugengxin.html-78003a4c.js" as="script"><link rel="prefetch" href="/./assets/di14zhang—daimafenge：dabaowanchanwutijitaida，zenmechaibao.html-c5b9bc6f.js" as="script"><link rel="prefetch" href="/./assets/di15zhang—yufajiangjiyuPolyfill：lianheqianduanbianyigongjulian，xiaomiedibanbenliulanqijianrongwenti.html-074c9134.js" as="script"><link rel="prefetch" href="/./assets/di16zhang—yuxuanran：ruhejiezhuVitedajiangaokeyongdefuwuduanxuanran(SSR)gongcheng.html-063a6261.js" as="script"><link rel="prefetch" href="/./assets/di17zhang—mokuailianbang：ruheshixianyouyadekuayingyongdaimagongxiang.html-04914021.js" as="script"><link rel="prefetch" href="/./assets/di18zhang—zaitanESM：gaojietexing_PureESMshidai.html-ea82c392.js" as="script"><link rel="prefetch" href="/./assets/di19zhang—xingnenyouhua：ruhetixihuadiduiVitexiangmujinxingxingnenyouhua.html-560da8c0.js" as="script"><link rel="prefetch" href="/./assets/di20zhang—peizhijiexifuwu：peizhiwenjianzaiVitenabubeizhuanhuanchengshimeyangziliao.html-d0816276.js" as="script"><link rel="prefetch" href="/./assets/di21zhang—yilaiyugoujian：EsbuilddabaogongnenruhebeiVitewanchuhualai.html-42d7e854.js" as="script"><link rel="prefetch" href="/./assets/di22zhang—chajianliushuixian：congzhengtidaojubu，lijieVitedehexinbianyinenli.html-3a93cde6.js" as="script"><link rel="prefetch" href="/./assets/di23zhang—regengxin：jiyuESMdehaomiaojiHMRdeshixianjiemi.html-7a5745a7.js" as="script"><link rel="prefetch" href="/./assets/di24zhang—shouxieVite：shixianno-bundlekaifafuwu(shang).html-f32fb92c.js" as="script"><link rel="prefetch" href="/./assets/di25zhang—shouxieVite：shixianno-bundlekaifafuwu(xia).html-7ce270f2.js" as="script"><link rel="prefetch" href="/./assets/di26zhang—shouxieBundler：shixianJavaScriptASTjiexiqi——cifafenxi、yuyifenxi.html-87f059b7.js" as="script"><link rel="prefetch" href="/./assets/di27zhang—shouxieBundler：shixiandaimadabao、TreeShaking.html-c53e7afd.js" as="script"><link rel="prefetch" href="/./assets/di28zhang—jiacan：Vite3.0hexingengxinpandianyufenxi.html-66ee412e.js" as="script"><link rel="prefetch" href="/./assets/CSS display shuxing、beijingshuxing、qitachangyongshuxing.html-b301b572.js" as="script"><link rel="prefetch" href="/./assets/CSS sandatexing：jicheng、cengdiexing、youxianji.html-eb345ba8.js" as="script"><link rel="prefetch" href="/./assets/CSS jichurenzhi he xuanzeqi.html-c15276b4.js" as="script"><link rel="prefetch" href="/./assets/CSS dingwei、cengdieshunxu、cengdieshangxiawen.html-f05cd9ff.js" as="script"><link rel="prefetch" href="/./assets/CSS wenbenhezitishuxing、liebiaoshuxing.html-caddf5c7.js" as="script"><link rel="prefetch" href="/./assets/CSS hezimoxing.html-b7bf4b9f.js" as="script"><link rel="prefetch" href="/./assets/margin fuzhidezuijiashijian.html-a38286b2.js" as="script"><link rel="prefetch" href="/./assets/transform 2D yu 3D zhuanhuan.html-8d823348.js" as="script"><link rel="prefetch" href="/./assets/transition guodudonghuayu animation zidingyidonghua.html-1cd34d45.js" as="script"><link rel="prefetch" href="/./assets/qianduan CSS、CSS3 hexinyangshiheshuxing.html-3048fbab.js" as="script"><link rel="prefetch" href="/./assets/yuanjiao、yinying、wenbentuxiangchuli、CSS hanshu.html-ed03c145.js" as="script"><link rel="prefetch" href="/./assets/fudong、BFC guifan、qingchufudongdezuijiashijian.html-2294c048.js" as="script"><link rel="prefetch" href="/./assets/fangyushibiancheng - fangyushi CSS.html-2215fa10.js" as="script"><link rel="prefetch" href="/./assets/1 kaipianci：Vue3heVue2.html-00a88556.js" as="script"><link rel="prefetch" href="/./assets/10 xiangyingshiyuanli：computed hanshuheputonghanshuyoushimebutong？.html-f556eaea.js" as="script"><link rel="prefetch" href="/./assets/11 xiangyingshiyuanli：yilaizhurushixiankuajizujianshujugongxiang.html-ef26c095.js" as="script"><link rel="prefetch" href="/./assets/12 bianyiqi：mobanshiruhebeibianyicheng AST de？.html-7e148e06.js" as="script"><link rel="prefetch" href="/./assets/13 bianyiqi：AST shiruhebeizhuanhuancheng JS AST de？.html-d1eebd56.js" as="script"><link rel="prefetch" href="/./assets/14 bianyiqi：JS AST shiruheshengchengxuanranhanshude？.html-37657c57.js" as="script"><link rel="prefetch" href="/./assets/15 bianyiqi：bianyiguochengzhongdeyouhuaxijie.html-89ea3bf0.js" as="script"><link rel="prefetch" href="/./assets/16 nazhizujian：Transition shiruheshixiande？.html-d76ab7d3.js" as="script"><link rel="prefetch" href="/./assets/17 nazhizujian：KeepAlive baohuodeyuanli.html-ca0abfee.js" as="script"><link rel="prefetch" href="/./assets/18 nazhizujian：Teleport shiruheshixianxuanzexingguazaide？.html-a47cda47.js" as="script"><link rel="prefetch" href="/./assets/19 nazhizujian：Suspense yuanliyuyibu.html-2dca8fa5.js" as="script"><link rel="prefetch" href="/./assets/2 xuanranqi：zujianshiruhebeixuanrancheng DOM de？.html-a506e917.js" as="script"><link rel="prefetch" href="/./assets/20 teshuyuansu_zhiling：shuangxiangbangdingshiruheshixiande？.html-5819a947.js" as="script"><link rel="prefetch" href="/./assets/21 teshuyuansu_zhiling：slot chacaoyuansushiruheshixiande？.html-cc33ddea.js" as="script"><link rel="prefetch" href="/./assets/22 jieyu：zaihuishou，zongguan Vue 3 shixian.html-8e30f925.js" as="script"><link rel="prefetch" href="/./assets/3 xuanranqi：shujufangwenshiruhebeidailide？.html-4210c534.js" as="script"><link rel="prefetch" href="/./assets/4 xuanranqi：zujianshiruhewanchenggengxinde？.html-57903d3f.js" as="script"><link rel="prefetch" href="/./assets/5 xuanranqi：shuzuzijiediande diff suanfa.html-beb1a4d8.js" as="script"><link rel="prefetch" href="/./assets/6 xiangyingshiyuanli：jiyu Proxy dexiangyingshishishimeyangde？.html-581c39b9.js" as="script"><link rel="prefetch" href="/./assets/7 xiangyingshiyuanli：fuzuoyonghanshutanmi.html-6229d0b4.js" as="script"><link rel="prefetch" href="/./assets/8 xiangyingshiyuanli：Vue 3 de nextTick ？.html-d330929e.js" as="script"><link rel="prefetch" href="/./assets/9 xiangyingshiyuanli：watch hanshudeshixianyuanli.html-f8032b9a.js" as="script"><link rel="prefetch" href="/./assets/Pinia quanjuzhuangtaiguanli，shenru State、Getter、Action.html-265596fe.js" as="script"><link rel="prefetch" href="/./assets/Vue Router daohangshouwei、guoduyugundong、lanjiazai、dongtailuyou.html-60ac9fad.js" as="script"><link rel="prefetch" href="/./assets/Vue Router luyouchuancan、bieming、pipeiyufa、bianchengshidaohang.html-d6123834.js" as="script"><link rel="prefetch" href="/./assets/Vue Router luyou，qianhouduanluyouyuanli yu jutishixian.html-387c1e50.js" as="script"><link rel="prefetch" href="/./assets/Vue zhong Transition he TransitionGroup zujian，shijianyingyong.html-27ed42b9.js" as="script"><link rel="prefetch" href="/./assets/Vue zhongde Teleport nazhizujian.html-a9d79ff2.js" as="script"><link rel="prefetch" href="/./assets/Vue xiongdizujianjiantongxin、fabuyudingyue，dongtai、yibuzujian.html-dd975cea.js" as="script"><link rel="prefetch" href="/./assets/Vue danwenjianzujian，fuzizujianjianchuanzhi、tongxin，touchuanshuxing.html-4f6422fc.js" as="script"><link rel="prefetch" href="/./assets/Vue jichu - mobanyufa、shijianchuli、jisuanshuxing、zhentingqi.html-71508618.js" as="script"><link rel="prefetch" href="/./assets/Vue jichu - biaodan、yangshibangding，tiaojian、liebiaoxuanran、zhiling.html-7aebcabe.js" as="script"><link rel="prefetch" href="/./assets/Vue chajiankaifa，Element Plus、VantUI zujiankushijianyingyong.html-7b9f178a.js" as="script"><link rel="prefetch" href="/./assets/Vue chacao Slots，zidingyidanchuang、gaojiliebiaozujian，yilaizhuru.html-e5173d13.js" as="script"><link rel="prefetch" href="/./assets/Vue xuanranjizhi - xuni DOM，render、h hanshu，xuanranliucheng.html-b8f8fd7e.js" as="script"><link rel="prefetch" href="/./assets/Vue shengmingzhouqi、zidingyizhiling、mobanyinyongdeyuanliyushijian.html-b7a8556c.js" as="script"><link rel="prefetch" href="/./assets/Vue zuheshi API - ref，tongxin API，yilaizhuru，shengmingzhouqi.html-9147b6c1.js" as="script"><link rel="prefetch" href="/./assets/Vue zuheshi API - setup、reactive yu ref，xiangyingshigongju.html-8e9ec59c.js" as="script"><link rel="prefetch" href="/./assets/Vue zuheshi API - watch he watchEffect、zidingyizhiling.html-98e3e060.js" as="script"><link rel="prefetch" href="/./assets/di01zhang—zhongxinrenshiWebpack：jiushidaidepojuzhe.html-877a6c4b.js" as="script"><link rel="prefetch" href="/./assets/di02zhang—ruhelijieWebpackpeizhidicengjiegouluoji.html-3667facd.js" as="script"><link rel="prefetch" href="/./assets/di03zhang—ruhejiezhuBabel_TS_ESLintgoujianxiandaiJSgongchenghuanjing.html-61a2c4c2.js" as="script"><link rel="prefetch" href="/./assets/di04zhang—ruhejiezhuyuchuliqi、PostCSSdenggoujianxiandaiCSSgongchenghuanjing.html-f83e38f7.js" as="script"><link rel="prefetch" href="/./assets/di05zhang—ruhedajianVuequanzhankaifahuanjing.html-ac070243.js" as="script"><link rel="prefetch" href="/./assets/di06zhang—ruhedajianReactquanzhankaifahuanjing.html-9ee8400c.js" as="script"><link rel="prefetch" href="/./assets/di07zhang—shiyongWebpackgoujianNPMLibrarydezhengquefangshi.html-9d4f405a.js" as="script"><link rel="prefetch" href="/./assets/di08zhang—shiyongWebpackgoujianweiqianduanyingyong.html-c7628d5b.js" as="script"><link rel="prefetch" href="/./assets/di09zhang—ruhejiezhuWebpackkaifaPWA、Node、Electronyingyong.html-b2383eeb.js" as="script"><link rel="prefetch" href="/./assets/di10zhang—shenrulijietuxiangjiazaiyuanliyuzuijiashijian.html-ba94a258.js" as="script"><link rel="prefetch" href="/./assets/di11zhang—shenrulijieWebpackhexinpeizhijiegou.html-5468a6d0.js" as="script"><link rel="prefetch" href="/./assets/di12zhang—goujianxingnen：fenxiang7kuanchangyongdexingnenfenxigongju.html-6b3c0ed8.js" as="script"><link rel="prefetch" href="/./assets/di13zhang—ruheshiyongWebpackchijiuhuahuancundafutishenggoujianxingnen.html-9ed485f7.js" as="script"><link rel="prefetch" href="/./assets/di14zhang—Webpackduyounaxieshixianbingxinggoujiandefangfa.html-870e2601.js" as="script"><link rel="prefetch" href="/./assets/di15zhang—younaxiezhidexuexidegoujianxingnenjizhiyouhuajiqiao.html-218e0d23.js" as="script"><link rel="prefetch" href="/./assets/di16zhang—ruhezhengqueshiyongSplitChunkstishengyingyongxingnen.html-0b271c90.js" as="script"><link rel="prefetch" href="/./assets/di17zhang—buzhiTerser：jiemidaimayasuodemenmendaodao.html-e0f2dbcd.js" as="script"><link rel="prefetch" href="/./assets/di18zhang—huaiyounaxiezhidexuexideyingyongxingnenjizhiyouhuajiqiao.html-b4d54c28.js" as="script"><link rel="prefetch" href="/./assets/di19zhang—Loaderkaifajichu：congkaiyuanxiangmuxuedaodeLoaderkaifajiqiao.html-1a64c1a4.js" as="script"><link rel="prefetch" href="/./assets/di20zhang—Loaderkaifajinjie：ruheyonghaoLoaderkuozhankaifagongju.html-6fa352ef.js" as="script"><link rel="prefetch" href="/./assets/di21zhang—chajiankaifajichu：shilipouxichajianjibenxingtaiyujiagouluoji.html-07e6dcea.js" as="script"><link rel="prefetch" href="/./assets/di22zhang—chajiankaifajinjie：ruhetishengchajianjianzhuangxing.html-a3ebeab8.js" as="script"><link rel="prefetch" href="/./assets/di23zhang—chajianjiagou：HooktixishiruheyingxiangWebpackjiagoude.html-37646b90.js" as="script"><link rel="prefetch" href="/./assets/di24zhang—Init、Make、Seal：zhenzhengdudongWebpackhexinliucheng.html-45a733a3.js" as="script"><link rel="prefetch" href="/./assets/di25zhang—DependencyGraph：ruheguanlimokuaijianyilai.html-9dffc256.js" as="script"><link rel="prefetch" href="/./assets/di26zhang—Chunk：sanzhongchanwudedabaoluoji.html-cfd11e0b.js" as="script"><link rel="prefetch" href="/./assets/di28zhang—Tree-shaking：ruheshanchuwuyongmokuaidaochu.html-0edd8c4f.js" as="script"><link rel="prefetch" href="/./assets/di29zhang—Sourcemap：yuanmayingsheyuanliyuyingyongjiqiao.html-749b8cc1.js" as="script"><link rel="prefetch" href="/./assets/di30zhang—HMR：ruhedongtaitihuanyemiandaima.html-79a91950.js" as="script"><link rel="prefetch" href="/./assets/404.html-26349a12.js" as="script"><link rel="prefetch" href="/./assets/reco-valine-a195b6e9.js" as="script"><link rel="prefetch" href="/./assets/giscus-2a044aea-497f0bd4.js" as="script"><link rel="prefetch" href="/./assets/style-e9220a04.js" as="script"><link rel="prefetch" href="/./assets/docsearch-1d421ddb.js" as="script"><link rel="prefetch" href="/./assets/index-82585c84.js" as="script">
    <link rel="preload" href="/./assets/style-8cd0e545.css" as="style"><link rel="stylesheet" href="/./assets/style-8cd0e545.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper show-series show-catalog"><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/./logo.jpg" alt="xunyublog"><a href="/./" class="site-name can-hide">xunyublog</a></div><div class="nav-item navbar-links-wrapper" style=""><div><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/./" class="link router-link-active" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="前端学习笔记"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 2H8a2 2 0 0 0-2 2v4H4v2h2v5H4v2h2v5H4v2h2v4a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 26H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18z" fill="currentColor"></path><path d="M14 8h8v2h-8z" fill="currentColor"></path><path d="M14 15h8v2h-8z" fill="currentColor"></path><path d="M14 22h8v2h-8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端学习笔记<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="前端学习笔记"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 2H8a2 2 0 0 0-2 2v4H4v2h2v5H4v2h2v5H4v2h2v4a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 26H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18z" fill="currentColor"></path><path d="M14 8h8v2h-8z" fill="currentColor"></path><path d="M14 15h8v2h-8z" fill="currentColor"></path><path d="M14 22h8v2h-8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端学习笔记<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端基础<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/html/前端 HTMLHTML5 核心标签和属性.md" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/css/前端 CSS、CSS3 核心样式和属性.md" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/javascript/JavaScript 简介、核心语法、变量.md" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->进阶<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/ajax/前后端数据交互 与 HTTP 协议.md" class="link" aria-label="Ajax"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ajax<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/es6/ECMAScript、ES6 简史，let、const、var 区别和应用.md" class="link" aria-label="ES6"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/brower/" class="link" aria-label="浏览器原理和性能优化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->浏览器原理和性能优化<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->小程序<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/applet/微信小程序发展史、开发环境准备、团队协作上线流程.md" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->框架<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/vue/Vue 基础 - 模板语法、事件处理、计算属性、侦听器.md" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/react/" class="link" aria-label="React"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/typescript/TypeScript 快速入门 - 核心基础，TS 基本数据类型.md" class="link" aria-label="TypeScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->构建工具<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/webpack/第01章—重新认识Webpack：旧时代的破局者.md" class="link" aria-label="Webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/vite/README.md" class="link" aria-label="Vite"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vite<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="外部库"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.947 19a4.948 4.948 0 0 1-3.499-8.447l5.106-5.104a4.948 4.948 0 0 1 6.998 6.998l-.553.552l-1.415-1.413l.557-.557a2.95 2.95 0 0 0-.004-4.166a3.02 3.02 0 0 0-4.17 0l-5.104 5.104a2.947 2.947 0 0 0 0 4.17a3.02 3.02 0 0 0 4.17 0l1.414 1.414a4.918 4.918 0 0 1-3.5 1.449z" fill="currentColor"></path><path d="M19.947 17a4.948 4.948 0 0 1-3.499-8.447l.553-.552l1.414 1.415l-.552.552a2.948 2.948 0 0 0 0 4.169a3.02 3.02 0 0 0 4.17 0l5.105-5.105a2.951 2.951 0 0 0 0-4.168a3.02 3.02 0 0 0-4.17 0l-1.414-1.415a4.948 4.948 0 0 1 6.998 6.998l-5.104 5.103a4.92 4.92 0 0 1-3.5 1.45z" fill="currentColor"></path><path d="M24 30H4a2.002 2.002 0 0 1-2-2V8a2.002 2.002 0 0 1 2-2h4v2H4v20h20V18h2v10a2.002 2.002 0 0 1-2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="外部库"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.947 19a4.948 4.948 0 0 1-3.499-8.447l5.106-5.104a4.948 4.948 0 0 1 6.998 6.998l-.553.552l-1.415-1.413l.557-.557a2.95 2.95 0 0 0-.004-4.166a3.02 3.02 0 0 0-4.17 0l-5.104 5.104a2.947 2.947 0 0 0 0 4.17a3.02 3.02 0 0 0 4.17 0l1.414 1.414a4.918 4.918 0 0 1-3.5 1.449z" fill="currentColor"></path><path d="M19.947 17a4.948 4.948 0 0 1-3.499-8.447l.553-.552l1.414 1.415l-.552.552a2.948 2.948 0 0 0 0 4.169a3.02 3.02 0 0 0 4.17 0l5.105-5.105a2.951 2.951 0 0 0 0-4.168a3.02 3.02 0 0 0-4.17 0l-1.414-1.415a4.948 4.948 0 0 1 6.998 6.998l-5.104 5.103a4.92 4.92 0 0 1-3.5 1.45z" fill="currentColor"></path><path d="M24 30H4a2.002 2.002 0 0 1-2-2V8a2.002 2.002 0 0 1 2-2h4v2H4v20h20V18h2v10a2.002 2.002 0 0 1-2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a class="link" href="https://element.eleme.io/#/zh-CN" target="_blank" rel="noopener noreferrer" aria-label="Element Ui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Element Ui<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a class="link" href="https://www.naiveui.com/zh-CN/light/docs/introduction" target="_blank" rel="noopener noreferrer" aria-label="Naive Ui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Naive Ui<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a class="link" href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener noreferrer" aria-label="Echarts"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Echarts<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="面试题"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M28 10h-5V6a2.002 2.002 0 0 0-2-2H11a2.002 2.002 0 0 0-2 2v4H4a2.002 2.002 0 0 0-2 2v16a2.002 2.002 0 0 0 2 2h24a2.002 2.002 0 0 0 2-2V12a2.002 2.002 0 0 0-2-2zM4 28V12h5v2H7v2h2v2H7v2h2v2H7v2h2v4zm17 0H11V6h10zm7 0h-5v-4h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h5z" fill="currentColor"></path><path d="M14 8h4v2h-4z" fill="currentColor"></path><path d="M14 12h4v2h-4z" fill="currentColor"></path><path d="M14 16h4v2h-4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="面试题"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M28 10h-5V6a2.002 2.002 0 0 0-2-2H11a2.002 2.002 0 0 0-2 2v4H4a2.002 2.002 0 0 0-2 2v16a2.002 2.002 0 0 0 2 2h24a2.002 2.002 0 0 0 2-2V12a2.002 2.002 0 0 0-2-2zM4 28V12h5v2H7v2h2v2H7v2h2v2H7v2h2v4zm17 0H11V6h10zm7 0h-5v-4h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h5z" fill="currentColor"></path><path d="M14 8h4v2h-4z" fill="currentColor"></path><path d="M14 12h4v2h-4z" fill="currentColor"></path><path d="M14 16h4v2h-4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/./blogs/interview/everyday/每日面试题.md" class="link" aria-label="每日面试题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->每日面试题<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./blogs/interview/html/" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./blogs/interview/css/" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./blogs/interview/javascript/" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/es6/" class="link" aria-label="ES6"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/write/" class="link" aria-label="手写面试题 "><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->手写面试题 <!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/blogs/webpack/" class="link" aria-label="webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/brower/" class="link" aria-label="浏览器网络"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->浏览器网络<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/vue/" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/react/" class="link" aria-label="React"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/algorithm/" class="link" aria-label="算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->算法<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/./blogs/algorithm/二叉树.md" class="link" aria-label="算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M19 13h6v2h-6z" fill="currentColor"></path><path d="M13 21h-2v-2H9v2H7v2h2v2h2v-2h2v-2z" fill="currentColor"></path><path d="M7 9h6v2H7z" fill="currentColor"></path><path d="M19 17h6v2h-6z" fill="currentColor"></path><path d="M27 3H5a2.002 2.002 0 0 0-2 2v22a2.002 2.002 0 0 0 2 2h22a2.002 2.002 0 0 0 2-2V5a2.002 2.002 0 0 0-2-2zM15 5v10H5V5zM5 17h10v10H5zm12 10V5h10v22z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->算法<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/./project/" class="link" aria-label="项目"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 17v8H6v-8h10m0-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M27 6v5H17V6h10m0-2H17a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M27 17v5h-5v-5h5m0-2h-5a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M11 6v5H6V6h5m0-2H6a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->项目<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="文件夹"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->文件夹<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="文件夹"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->文件夹<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/./categories/vue/1/" class="link" aria-label="vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./categories/applet/1/" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./categories/mianshi/1/" class="link" aria-label="面试"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><header class="sub-navbar-container"><span class="nav-item"><div class="toggle-series-button" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div> Series </span></header><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/./" class="link router-link-active" aria-label="主页"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16.612 2.214a1.01 1.01 0 0 0-1.242 0L1 13.419l1.243 1.572L4 13.621V26a2.004 2.004 0 0 0 2 2h20a2.004 2.004 0 0 0 2-2V13.63L29.757 15L31 13.428zM18 26h-4v-8h4zm2 0v-8a2.002 2.002 0 0 0-2-2h-4a2.002 2.002 0 0 0-2 2v8H6V12.062l10-7.79l10 7.8V26z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->主页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="前端学习笔记"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 2H8a2 2 0 0 0-2 2v4H4v2h2v5H4v2h2v5H4v2h2v4a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 26H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18z" fill="currentColor"></path><path d="M14 8h8v2h-8z" fill="currentColor"></path><path d="M14 15h8v2h-8z" fill="currentColor"></path><path d="M14 22h8v2h-8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端学习笔记<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="前端学习笔记"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M26 2H8a2 2 0 0 0-2 2v4H4v2h2v5H4v2h2v5H4v2h2v4a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2zm0 26H8v-4h2v-2H8v-5h2v-2H8v-5h2V8H8V4h18z" fill="currentColor"></path><path d="M14 8h8v2h-8z" fill="currentColor"></path><path d="M14 15h8v2h-8z" fill="currentColor"></path><path d="M14 22h8v2h-8z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端学习笔记<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->前端基础<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/html/前端 HTMLHTML5 核心标签和属性.md" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/css/前端 CSS、CSS3 核心样式和属性.md" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/javascript/JavaScript 简介、核心语法、变量.md" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->进阶<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/ajax/前后端数据交互 与 HTTP 协议.md" class="link" aria-label="Ajax"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ajax<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/es6/ECMAScript、ES6 简史，let、const、var 区别和应用.md" class="link" aria-label="ES6"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/brower/" class="link" aria-label="浏览器原理和性能优化"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->浏览器原理和性能优化<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->小程序<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/applet/微信小程序发展史、开发环境准备、团队协作上线流程.md" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->框架<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/vue/Vue 基础 - 模板语法、事件处理、计算属性、侦听器.md" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/react/" class="link" aria-label="React"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/typescript/TypeScript 快速入门 - 核心基础，TS 基本数据类型.md" class="link" aria-label="TypeScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->TypeScript<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->构建工具<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a href="/./blogs/web/webpack/第01章—重新认识Webpack：旧时代的破局者.md" class="link" aria-label="Webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a href="/./blogs/web/vite/README.md" class="link" aria-label="Vite"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vite<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="外部库"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.947 19a4.948 4.948 0 0 1-3.499-8.447l5.106-5.104a4.948 4.948 0 0 1 6.998 6.998l-.553.552l-1.415-1.413l.557-.557a2.95 2.95 0 0 0-.004-4.166a3.02 3.02 0 0 0-4.17 0l-5.104 5.104a2.947 2.947 0 0 0 0 4.17a3.02 3.02 0 0 0 4.17 0l1.414 1.414a4.918 4.918 0 0 1-3.5 1.449z" fill="currentColor"></path><path d="M19.947 17a4.948 4.948 0 0 1-3.499-8.447l.553-.552l1.414 1.415l-.552.552a2.948 2.948 0 0 0 0 4.169a3.02 3.02 0 0 0 4.17 0l5.105-5.105a2.951 2.951 0 0 0 0-4.168a3.02 3.02 0 0 0-4.17 0l-1.414-1.415a4.948 4.948 0 0 1 6.998 6.998l-5.104 5.103a4.92 4.92 0 0 1-3.5 1.45z" fill="currentColor"></path><path d="M24 30H4a2.002 2.002 0 0 1-2-2V8a2.002 2.002 0 0 1 2-2h4v2H4v20h20V18h2v10a2.002 2.002 0 0 1-2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="外部库"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.947 19a4.948 4.948 0 0 1-3.499-8.447l5.106-5.104a4.948 4.948 0 0 1 6.998 6.998l-.553.552l-1.415-1.413l.557-.557a2.95 2.95 0 0 0-.004-4.166a3.02 3.02 0 0 0-4.17 0l-5.104 5.104a2.947 2.947 0 0 0 0 4.17a3.02 3.02 0 0 0 4.17 0l1.414 1.414a4.918 4.918 0 0 1-3.5 1.449z" fill="currentColor"></path><path d="M19.947 17a4.948 4.948 0 0 1-3.499-8.447l.553-.552l1.414 1.415l-.552.552a2.948 2.948 0 0 0 0 4.169a3.02 3.02 0 0 0 4.17 0l5.105-5.105a2.951 2.951 0 0 0 0-4.168a3.02 3.02 0 0 0-4.17 0l-1.414-1.415a4.948 4.948 0 0 1 6.998 6.998l-5.104 5.103a4.92 4.92 0 0 1-3.5 1.45z" fill="currentColor"></path><path d="M24 30H4a2.002 2.002 0 0 1-2-2V8a2.002 2.002 0 0 1 2-2h4v2H4v20h20V18h2v10a2.002 2.002 0 0 1-2 2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><!--[--><h5 class="dropdown-link__subtitle"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->外部库<!--]--></span></span></h5><ul class="dropdown-link__subcontainer"><!--[--><li class="dropdown-link__subitem"><a class="link" href="https://element.eleme.io/#/zh-CN" target="_blank" rel="noopener noreferrer" aria-label="Element Ui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Element Ui<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a class="link" href="https://www.naiveui.com/zh-CN/light/docs/introduction" target="_blank" rel="noopener noreferrer" aria-label="Naive Ui"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Naive Ui<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__subitem"><a class="link" href="https://echarts.apache.org/zh/index.html" target="_blank" rel="noopener noreferrer" aria-label="Echarts"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Echarts<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="面试题"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M28 10h-5V6a2.002 2.002 0 0 0-2-2H11a2.002 2.002 0 0 0-2 2v4H4a2.002 2.002 0 0 0-2 2v16a2.002 2.002 0 0 0 2 2h24a2.002 2.002 0 0 0 2-2V12a2.002 2.002 0 0 0-2-2zM4 28V12h5v2H7v2h2v2H7v2h2v2H7v2h2v4zm17 0H11V6h10zm7 0h-5v-4h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h5z" fill="currentColor"></path><path d="M14 8h4v2h-4z" fill="currentColor"></path><path d="M14 12h4v2h-4z" fill="currentColor"></path><path d="M14 16h4v2h-4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="面试题"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M28 10h-5V6a2.002 2.002 0 0 0-2-2H11a2.002 2.002 0 0 0-2 2v4H4a2.002 2.002 0 0 0-2 2v16a2.002 2.002 0 0 0 2 2h24a2.002 2.002 0 0 0 2-2V12a2.002 2.002 0 0 0-2-2zM4 28V12h5v2H7v2h2v2H7v2h2v2H7v2h2v4zm17 0H11V6h10zm7 0h-5v-4h2v-2h-2v-2h2v-2h-2v-2h2v-2h-2v-2h5z" fill="currentColor"></path><path d="M14 8h4v2h-4z" fill="currentColor"></path><path d="M14 12h4v2h-4z" fill="currentColor"></path><path d="M14 16h4v2h-4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试题<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/./blogs/interview/everyday/每日面试题.md" class="link" aria-label="每日面试题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->每日面试题<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./blogs/interview/html/" class="link" aria-label="HTML"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->HTML<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./blogs/interview/css/" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./blogs/interview/javascript/" class="link" aria-label="JavaScript"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JavaScript<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/es6/" class="link" aria-label="ES6"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ES6<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/write/" class="link" aria-label="手写面试题 "><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->手写面试题 <!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/blogs/webpack/" class="link" aria-label="webpack"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->webpack<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/brower/" class="link" aria-label="浏览器网络"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->浏览器网络<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/vue/" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/react/" class="link" aria-label="React"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->React<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./interview/algorithm/" class="link" aria-label="算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->算法<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/./blogs/algorithm/二叉树.md" class="link" aria-label="算法"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M19 13h6v2h-6z" fill="currentColor"></path><path d="M13 21h-2v-2H9v2H7v2h2v2h2v-2h2v-2z" fill="currentColor"></path><path d="M7 9h6v2H7z" fill="currentColor"></path><path d="M19 17h6v2h-6z" fill="currentColor"></path><path d="M27 3H5a2.002 2.002 0 0 0-2 2v22a2.002 2.002 0 0 0 2 2h22a2.002 2.002 0 0 0 2-2V5a2.002 2.002 0 0 0-2-2zM15 5v10H5V5zM5 17h10v10H5zm12 10V5h10v22z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->算法<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/./project/" class="link" aria-label="项目"><!--[--><!--]--><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 17v8H6v-8h10m0-2H6a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-8a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M27 6v5H17V6h10m0-2H17a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M27 17v5h-5v-5h5m0-2h-5a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-5a2 2 0 0 0-2-2z" fill="currentColor"></path><path d="M11 6v5H6V6h5m0-2H6a2 2 0 0 0-2 2v5a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->项目<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="文件夹"><span class="xicon-container left title"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->文件夹<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="文件夹"><span class="title"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->文件夹<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/./categories/vue/1/" class="link" aria-label="vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./categories/applet/1/" class="link" aria-label="微信小程序"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->微信小程序<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/./categories/mianshi/1/" class="link" aria-label="面试"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->面试<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/./logo.jpg" alt="xunyublog"><a href="/./" class="site-name can-hide">xunyublog</a></div><!--[--><!--[--><section class="series-group series-item"><h5 class="series-heading active">webpack核心原理应用实践<span class="arrow down"></span></h5><ul style="display:block;"><li><!--[--><a href="/./blogs/web/webpack/di01zhang—zhongxinrenshiWebpack：jiushidaidepojuzhe.html" class="link series-item" aria-label="第01章—重新认识Webpack：旧时代的破局者.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第01章—重新认识Webpack：旧时代的破局者.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di02zhang—ruhelijieWebpackpeizhidicengjiegouluoji.html" class="link series-item" aria-label="第02章—如何理解Webpack配置底层结构逻辑.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第02章—如何理解Webpack配置底层结构逻辑.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di03zhang—ruhejiezhuBabel_TS_ESLintgoujianxiandaiJSgongchenghuanjing.html" class="link series-item" aria-label="第03章—如何借助Babel+TS+ESLint构建现代JS工程环境.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第03章—如何借助Babel+TS+ESLint构建现代JS工程环境.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di04zhang—ruhejiezhuyuchuliqi、PostCSSdenggoujianxiandaiCSSgongchenghuanjing.html" class="link series-item" aria-label="第04章—如何借助预处理器、PostCSS等构建现代CSS工程环境.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第04章—如何借助预处理器、PostCSS等构建现代CSS工程环境.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di05zhang—ruhedajianVuequanzhankaifahuanjing.html" class="link series-item" aria-label="第05章—如何搭建Vue全栈开发环境.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第05章—如何搭建Vue全栈开发环境.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di06zhang—ruhedajianReactquanzhankaifahuanjing.html" class="link series-item" aria-label="第06章—如何搭建React全栈开发环境.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第06章—如何搭建React全栈开发环境.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di07zhang—shiyongWebpackgoujianNPMLibrarydezhengquefangshi.html" class="link series-item" aria-label="第07章—使用Webpack构建NPMLibrary的正确方式.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第07章—使用Webpack构建NPMLibrary的正确方式.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di08zhang—shiyongWebpackgoujianweiqianduanyingyong.html" class="link series-item" aria-label="第08章—使用Webpack构建微前端应用.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第08章—使用Webpack构建微前端应用.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di09zhang—ruhejiezhuWebpackkaifaPWA、Node、Electronyingyong.html" class="link series-item" aria-label="第09章—如何借助Webpack开发PWA、Node、Electron应用.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第09章—如何借助Webpack开发PWA、Node、Electron应用.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di10zhang—shenrulijietuxiangjiazaiyuanliyuzuijiashijian.html" class="link series-item" aria-label="第10章—深入理解图像加载原理与最佳实践.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第10章—深入理解图像加载原理与最佳实践.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di11zhang—shenrulijieWebpackhexinpeizhijiegou.html" class="link series-item" aria-label="第11章—深入理解Webpack核心配置结构.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第11章—深入理解Webpack核心配置结构.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di12zhang—goujianxingnen：fenxiang7kuanchangyongdexingnenfenxigongju.html" class="link series-item" aria-label="第12章—构建性能：分享7款常用的性能分析工具.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第12章—构建性能：分享7款常用的性能分析工具.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di13zhang—ruheshiyongWebpackchijiuhuahuancundafutishenggoujianxingnen.html" class="link series-item" aria-label="第13章—如何使用Webpack持久化缓存大幅提升构建性能.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第13章—如何使用Webpack持久化缓存大幅提升构建性能.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di14zhang—Webpackduyounaxieshixianbingxinggoujiandefangfa.html" class="link series-item" aria-label="第14章—Webpack都有哪些实现并行构建的方法.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第14章—Webpack都有哪些实现并行构建的方法.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di15zhang—younaxiezhidexuexidegoujianxingnenjizhiyouhuajiqiao.html" class="link series-item" aria-label="第15章—有哪些值得学习的构建性能极致优化技巧.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第15章—有哪些值得学习的构建性能极致优化技巧.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di16zhang—ruhezhengqueshiyongSplitChunkstishengyingyongxingnen.html" class="link series-item" aria-label="第16章—如何正确使用SplitChunks提升应用性能.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第16章—如何正确使用SplitChunks提升应用性能.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di17zhang—buzhiTerser：jiemidaimayasuodemenmendaodao.html" class="link series-item" aria-label="第17章—不止Terser：揭秘代码压缩的门门道道.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第17章—不止Terser：揭秘代码压缩的门门道道.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di18zhang—huaiyounaxiezhidexuexideyingyongxingnenjizhiyouhuajiqiao.html" class="link series-item" aria-label="第18章—还有哪些值得学习的应用性能极致优化技巧.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第18章—还有哪些值得学习的应用性能极致优化技巧.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di19zhang—Loaderkaifajichu：congkaiyuanxiangmuxuedaodeLoaderkaifajiqiao.html" class="link series-item" aria-label="第19章—Loader开发基础：从开源项目学到的Loader开发技巧.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第19章—Loader开发基础：从开源项目学到的Loader开发技巧.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di20zhang—Loaderkaifajinjie：ruheyonghaoLoaderkuozhankaifagongju.html" class="link series-item" aria-label="第20章—Loader开发进阶：如何用好Loader扩展开发工具.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第20章—Loader开发进阶：如何用好Loader扩展开发工具.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di21zhang—chajiankaifajichu：shilipouxichajianjibenxingtaiyujiagouluoji.html" class="link series-item" aria-label="第21章—插件开发基础：实例剖析插件基本形态与架构逻辑.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第21章—插件开发基础：实例剖析插件基本形态与架构逻辑.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di22zhang—chajiankaifajinjie：ruhetishengchajianjianzhuangxing.html" class="link series-item" aria-label="第22章—插件开发进阶：如何提升插件健壮性.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第22章—插件开发进阶：如何提升插件健壮性.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di23zhang—chajianjiagou：HooktixishiruheyingxiangWebpackjiagoude.html" class="link series-item" aria-label="第23章—插件架构：Hook体系是如何影响Webpack架构的.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第23章—插件架构：Hook体系是如何影响Webpack架构的.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di24zhang—Init、Make、Seal：zhenzhengdudongWebpackhexinliucheng.html" class="link series-item" aria-label="第24章—Init、Make、Seal：真正读懂Webpack核心流程.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第24章—Init、Make、Seal：真正读懂Webpack核心流程.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di25zhang—DependencyGraph：ruheguanlimokuaijianyilai.html" class="link series-item" aria-label="第25章—DependencyGraph：如何管理模块间依赖.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第25章—DependencyGraph：如何管理模块间依赖.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di26zhang—Chunk：sanzhongchanwudedabaoluoji.html" class="link series-item" aria-label="第26章—Chunk：三种产物的打包逻辑.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第26章—Chunk：三种产物的打包逻辑.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a aria-current="page" href="/./blogs/web/webpack/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html" class="router-link-active router-link-exact-active link router-link-active series-item active" aria-label="第27章—Runtime：模块编译打包及运行时逻辑.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第27章—Runtime：模块编译打包及运行时逻辑.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/di28zhang—Tree-shaking：ruheshanchuwuyongmokuaidaochu.html" class="link series-item" aria-label="第28章—Tree-shaking：如何删除无用模块导出.md"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第28章—Tree-shaking：如何删除无用模块导出.md<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/第29章—Sourcemap：源码映射原理与应用技巧" class="link series-item" aria-label="第29章—Sourcemap：源码映射原理与应用技巧"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第29章—Sourcemap：源码映射原理与应用技巧<!--]--></span></span><!--[--><!--]--></a><!--]--></li><li><!--[--><a href="/./blogs/web/webpack/第30章—HMR：如何动态替换页面代码" class="link series-item" aria-label="第30章—HMR：如何动态替换页面代码"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->第30章—HMR：如何动态替换页面代码<!--]--></span></span><!--[--><!--]--></a><!--]--></li></ul></section><!--]--><!--]--></aside><!--[--><main class="page-container"><!----><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->xunyu<!--]--></span></span><!----><!----><!----><!----></div><div class="theme-reco-default-content"><div><p>回顾最近几节内容，Webpack 运行过程中首先会根据 <code>Module</code> 之间的引用关系构建 <code>ModuleGraph</code> 对象；接下来按照若干内置规则将 <code>Module</code> 组织进不同 <code>Chunk</code> 对象中，形成 <code>ChunkGraph</code> 关系图。</p><p>接着，构建流程将来到最后一个重要步骤：生成产物代码，这个过程会将所有 <code>Module</code> 内容一一转换为适当的产物代码形态，并以 <code>Chunk</code> 为单位合并 <code>Module</code> 产物代码，之后根据 <code>Module</code> 中出现的特性依赖，补充相应运行时代码，最终构建出我们日常所见的 Webpack Bundle 代码文件。</p><p>本文将深入分析这个过程的源码，详细剖析模块转译、运行时依赖分析、产物合并的具体实现逻辑。</p><h2 id="什么是模块转译" tabindex="-1"><a class="header-anchor" href="#什么是模块转译" aria-hidden="true">#</a> 什么是模块转译？</h2><p>众所周知，Webpack 的打包功能并不是将原始文件代码“复制-粘贴”到产物文件那么简单，为了确保代码能在不同环境 —— 多种版本的浏览器、Node、Electron 等正常运行，构建时需要对模块源码适当做一些转换操作，这一点在大多数构建产物的内容中都有所体现，例如：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/3276ff5d31014f7d913f07b6bc61e4ab~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>示例包含 <code>index.js</code>、<code>name.js</code> 两个 JS 代码模块，经过 Webpack 构建后生成如图右侧所示的产物文件，文件自上而下包含三块内容：</p><ul><li><code>name.js</code> 模块对应的、函数形态的转译代码；</li><li>Webpack 按需注入的运行时代码；</li><li><code>index.js</code> 模块对应的 IIFE（立即执行函数） 转译代码。</li></ul><p>其中，<code>name.js</code>、<code>index.js</code> 对应的产物代码，与源码相比，虽然语义与功能都基本相同，但表现形式发生了较大变化，例如 <code>index.js</code> 编译前后的内容：</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/72e8b113bab844e9acf2e5d682339590~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><ul><li>整个模块被包裹进 IIFE（立即执行函数）中；</li><li>添加 <code>__webpack_require__.r(__webpack_exports__);</code> 语句，用于适配 ESM 规范；</li><li>源码中的 <code>import</code> 语句被转译为 <code>__webpack_require__</code> 函数调用；</li><li>源码 <code>console</code> 语句所使用的 <code>name</code> 变量被转译为 <code>_name__WEBPACK_IMPORTED_MODULE_0__.default</code> ；</li><li>添加若干注释。</li></ul><p>编译前后代码功能逻辑相同，但替换掉这些 ES 高级特性之后，却能让应用平稳运行在低版本浏览器中，那么，这种代码转换功能具体是怎么实现的呢？</p><h2 id="模块转译主流程" tabindex="-1"><a class="header-anchor" href="#模块转译主流程" aria-hidden="true">#</a> 模块转译主流程</h2><p>在上一章《<a href="https://juejin.cn/book/7115598540721618944/section/7119035921680302115" target="_blank" rel="noopener noreferrer">Chunk：三种产物的打包逻辑<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>》中，我们已经介绍了 <code>compilation.seal</code> 函数内会调用 <code>buildChunkGraph</code> 生成 Chunk 依赖关系图，之后 Webpack 就可以分析出：</p><ul><li>需要输出那些 Chunk；</li><li>每个 Chunk 包含那些 Module，以及每个 Module 经过 Loader 翻译后的代码内容；</li><li>Chunk 与 Chunk 之间的父子依赖关系。</li></ul><p>在此之后 <code>seal</code> 函数会开始触发一堆优化钩子，借助插件对 ChunkGraph 做诸如合并、拆分、删除无效 Chunk 等优化操作，并在最后调用 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/Compilation.js#L3160-L3162" target="_blank" rel="noopener noreferrer">compilation.codeGeneration<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 方法：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Compilation</span> <span class="token punctuation">{</span>
  <span class="token function">seal</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 初始化 ChunkGraph、ChunkGroup 对象</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span> <span class="token punctuation">{</span> dependencies<span class="token punctuation">,</span> includeDependencies<span class="token punctuation">,</span> options <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>entries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>name<span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span> dependOn<span class="token punctuation">,</span> runtime <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>entries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 构建 ChunkGroup</span>
    <span class="token function">buildChunkGraph</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> chunkGraphInit<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 执行诸多优化钩子</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">optimize</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>optimizeTree<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>chunks<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// ...</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>optimizeChunkModules<span class="token punctuation">.</span><span class="token function">callAsync</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>chunks<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// ...</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">beforeCodeGeneration</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// 开始生成最终产物代码</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">codeGeneration</span><span class="token punctuation">(</span><span class="token comment">/* ... */</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>codeGeneration</code> 方法负责生成最终的资产代码，主要流程：</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6a5888bf286248adaf7b627310aebbd9~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>有三个关键步骤。</p><ul><li><strong>单模块转译</strong>：这一步主要用于计算模块实际输出代码，遍历 <code>compilation.modules</code> 数组，<a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/Compilation.js#L3326-L3327" target="_blank" rel="noopener noreferrer">调用<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <code>module</code> 对象的 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/NormalModule.js#L1172-L1173" target="_blank" rel="noopener noreferrer">codeGeneration<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 方法，执行模块转译计算： <ul><li><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/NormalModule.js#L1204-L1205" target="_blank" rel="noopener noreferrer">调用<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <code>JavascriptGenerator</code> 的 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/javascript/JavascriptGenerator.js#L89-L90" target="_blank" rel="noopener noreferrer">generate<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 方法；</li><li><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/javascript/JavascriptGenerator.js#L111-L112" target="_blank" rel="noopener noreferrer">遍历<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <code>module</code> 对象的 <code>dependencies</code> 与 <code>presentationalDependencies</code> 数组；</li><li><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/javascript/JavascriptGenerator.js#L206-L207" target="_blank" rel="noopener noreferrer">执行<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 每个数组项 <code>dependeny</code> 对象对应的 <code>template.apply</code> 方法，方法中视情况可能产生三种副作用： <ul><li>直接修改模块 <code>source</code> 数据，如 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/ConstDependency.js#L100-L101" target="_blank" rel="noopener noreferrer">ConstDependency.Template<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>；</li><li>将结果记录到 <code>initFragments</code> 数组如 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/HarmonyExportSpecifierDependency.js#L97-L99" target="_blank" rel="noopener noreferrer">HarmonyExportSpecifierDependency<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>；</li><li>将运行时依赖记录到 <code>runtimeRequirements</code> 数组如 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/HarmonyImportDependency.js#L105-L106" target="_blank" rel="noopener noreferrer">HarmonyImportDependency<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</li></ul></li></ul></li><li><strong>收集运行时依赖</strong>：计算模块运行时，首先调用 <code>compilation.processRuntimeRequirements</code> 方法，将上一步生成的 <code>runtimeRequirements</code> 数组一一转换为 <code>RuntimeModule</code> 对象，并挂载到 <code>ChunkGroup</code> 中。</li><li><strong>模块合并</strong>：调用 <code>compilation.createChunkAssets</code> 方法，以 Chunk 为单位，将相应的所有 <code>module</code> 及 <code>runtimeModule</code> 按规则塞进「<strong>产物框架</strong>」 中，最终合并输出成完整的 Bundle 文件。</li></ul><p>这些就是 Webpack 最终消费 ModuleGraph 与 ChunkGraph，生成最终产物代码的关键过程，总结而言，就是先遍历所有模块依赖对象，收集模块编译结果与运行时依赖，之后将这些内容合并在一起输出为 Bundle 文件。</p><p>下面我们逐一展开，了解每个步骤的细节。</p><h2 id="单模块转译" tabindex="-1"><a class="header-anchor" href="#单模块转译" aria-hidden="true">#</a> 单模块转译</h2><p>「<strong>模块转译</strong>」 操作从 <code>module.codeGeneration</code> 调用开始，对应到上述流程图的：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f6d0eb4a736b493b86fc8c6945f8534a~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>这个过程首先调用 <code>JavascriptGenerator.generate</code> 函数，遍历模块的 <code>dependencies</code> 数组，依次调用依赖对象对应的 <code>Template</code> 子类 <code>apply</code> 方法更新模块内容，说起来有点绕，我将重要步骤抽取为如下伪代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">JavascriptGenerator</span> <span class="token punctuation">{</span>
    <span class="token function">generate</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> generateContext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 先取出 module 的原始代码内容</span>
        <span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReplaceSource</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span><span class="token function">originalSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">const</span> <span class="token punctuation">{</span> dependencies<span class="token punctuation">,</span> presentationalDependencies <span class="token punctuation">}</span> <span class="token operator">=</span> module<span class="token punctuation">;</span>
        <span class="token keyword">const</span> initFragments <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> dependency <span class="token keyword">of</span> <span class="token punctuation">[</span><span class="token operator">...</span>dependencies<span class="token punctuation">,</span> <span class="token operator">...</span>presentationalDependencies<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 找到 dependency 对应的 template</span>
            <span class="token keyword">const</span> template <span class="token operator">=</span> generateContext<span class="token punctuation">.</span>dependencyTemplates<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>dependency<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 调用 template.apply，传入 source、initFragments</span>
            <span class="token comment">// 在 apply 函数可以直接修改 source 内容，或者更改 initFragments 数组，影响后续转译逻辑</span>
            <span class="token function">template</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>dependency<span class="token punctuation">,</span> source<span class="token punctuation">,</span> <span class="token punctuation">{</span>initFragments<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 遍历完毕后，调用 InitFragment.addToSource 合并 source 与 initFragments</span>
        <span class="token keyword">return</span> InitFragment<span class="token punctuation">.</span><span class="token function">addToSource</span><span class="token punctuation">(</span>source<span class="token punctuation">,</span> initFragments<span class="token punctuation">,</span> generateContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Dependency 子类</span>
<span class="token keyword">class</span> <span class="token class-name">xxxDependency</span> <span class="token keyword">extends</span> <span class="token class-name">Dependency</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token comment">// Dependency 子类对应的 Template 定义</span>
<span class="token keyword">const</span> xxxDependency<span class="token punctuation">.</span>Template <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">xxxDependencyTemplate</span> <span class="token keyword">extends</span> <span class="token class-name">Template</span> <span class="token punctuation">{</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">dep<span class="token punctuation">,</span> source<span class="token punctuation">,</span> <span class="token punctuation">{</span>initFragments<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 1. 直接操作 source，更改模块代码</span>
        source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>dep<span class="token punctuation">.</span>range<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> dep<span class="token punctuation">.</span>range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#39;some thing&#39;</span><span class="token punctuation">)</span>
        <span class="token comment">// 2. 通过添加 InitFragment 实例，补充代码</span>
        initFragments<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">xxxInitFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>从上述伪代码可以看出，<code>JavascriptGenerator.generate</code> 函数的逻辑相对比较固化：</p><ol><li>初始化 <code>source</code>、<code>initFragments</code> 等变量；</li><li>遍历 <code>module</code> 对象的依赖数组，找到每个 <code>dependency</code> 对应的 <code>template</code> 对象，调用 <code>template.apply</code> 函数修改模块内容；</li><li>调用 <code>InitFragment.addToSource</code> 方法，合并 <code>source</code> 与 <code>initFragments</code> 数组，生成最终结果。</li></ol><p>这里的重点是 <code>JavascriptGenerator.generate</code> 函数并不操作 <code>module</code> 源码，它仅仅提供一个执行框架，真正处理模块内容转译的逻辑都在 <code>xxxDependencyTemplate</code> 对象的 <code>apply</code> 函数实现，如上例伪代码中 24-28 行。</p><p>每个 <code>Dependency</code> 子类都会挂载一个 <code>Template</code> 子类，且通常这两个类都会写在同一个文件中，例如 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/ConstDependency.js#L83-L84" target="_blank" rel="noopener noreferrer">ConstDependency<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 与 <code>ConstDependencyTemplate</code>；<code>NullDependency</code> 与 <code>NullDependencyTemplate</code>。</p><p>Webpack 从「构建」(make) 阶段开始，就会通过 <code>Dependency</code> 子类记录不同情况下模块之间的依赖关系；到「封装」(seal) 阶段再通过 <code>Template</code> 子类修改 <code>module</code> 代码，最终 <code>Module</code>、<code>Template</code>、 <code>JavascriptGenerator</code>、<code>Dependency</code> 四个关键类形成如下交互关系：</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/683c91eefab04caf8875b859a7f7910c~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p><code>Template</code> 对象会通过三种方法影响产物代码：</p><ul><li>直接操作 <code>source</code> 对象，修改模块代码，该对象最初的内容等于模块的源码，经过多个 <code>Template.apply</code> 函数流转后逐渐被替换成新的代码形式；</li><li>操作 <code>initFragments</code> 数组，在模块源码之外插入补充代码片段；</li><li>将运行时依赖记录到 <code>runtimeRequirements</code> 数组。</li></ul><p>其中第 1、2 种操作所产生的副作用，最终都会被传入 <code>InitFragment.addToSource</code> 函数，合并成最终结果。</p><blockquote><p><strong>通过 <code>source</code> 修改模块代码：</strong></p></blockquote><p>先来看看 <code>source</code> 操作，<a href="https://github.com/webpack/webpack-sources" target="_blank" rel="noopener noreferrer">webpack-sources<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 是 Webpack 中用于编辑字符串的一套工具类库，它提供了一系列代码编辑方法，包括：</p><ul><li>字符串合并、替换、插入等；</li><li>模块代码缓存、sourcemap 映射、hash 计算等。</li></ul><p>Webpack 内部以及社区的很多插件、loader 都会使用 <a href="https://github.com/webpack/webpack-sources" target="_blank" rel="noopener noreferrer">webpack-sources<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 库编辑代码内容，包括上文介绍的 <code>Template.apply</code> 体系。逻辑上，在启动模块代码生成流程时，Webpack 会先用模块原始内容<a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/javascript/JavascriptGenerator.js#L95-L96" target="_blank" rel="noopener noreferrer">初始化<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> <code>Source</code> 对象，即：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ReplaceSource</span><span class="token punctuation">(</span>module<span class="token punctuation">.</span><span class="token function">originalSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>之后，不同 <code>Dependency</code> 子类按序、按需更改 <code>source</code> 内容，例如 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/HarmonyImportSpecifierDependency.js" target="_blank" rel="noopener noreferrer">HarmonyImportSpecifierDependency<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 中：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>HarmonyImportSpecifierDependency<span class="token punctuation">.</span>Template <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">HarmonyImportSpecifierDependencyTemplate</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span>
  HarmonyImportDependency<span class="token punctuation">.</span>Template
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">dependency<span class="token punctuation">,</span> source<span class="token punctuation">,</span> templateContext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token doc-comment comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span>HarmonyImportSpecifierDependency<span class="token punctuation">}</span></span> */</span> <span class="token punctuation">(</span>dependency<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">const</span> ids <span class="token operator">=</span> dep<span class="token punctuation">.</span><span class="token function">getIds</span><span class="token punctuation">(</span>moduleGraph<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> exportExpr <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_getCodeForIds</span><span class="token punctuation">(</span>dep<span class="token punctuation">,</span> source<span class="token punctuation">,</span> templateContext<span class="token punctuation">,</span> ids<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> range <span class="token operator">=</span> dep<span class="token punctuation">.</span>range<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dep<span class="token punctuation">.</span>shorthand<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      source<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>exportExpr<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>range<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> range<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> exportExpr<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>举个例子，对于下面这段简单代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> bar <span class="token keyword">from</span> <span class="token string">&quot;./bar&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>会产生 <code>HarmonyImportSpecifierDependency</code> 与 <code>ConstDependency</code> 两个依赖对象，之后：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> bar <span class="token keyword">from</span> <span class="token string">&quot;./bar&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 首先，HarmonyImportSpecifierDependency 替换导入变量名：</span>
<span class="token keyword">import</span> bar <span class="token keyword">from</span> <span class="token string">&quot;./bar&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_bar__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 之后，ConstDependency 删除模块导入语句：</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_bar__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看出，这部分逻辑的效果与 Babel 类似，会直接修改模块源码，实现语言层面的向下兼容。但这还不够，还需要将这段代码包裹进 Webpack 的模块框架中，这部分工作将由 <code>initFragments</code> 数组完成。</p><blockquote><p><strong><code>initFragments</code> 数组的作用：</strong></p></blockquote><p>上面我们聊到，除直接操作 <code>source</code> 外，<code>Template.apply</code> 中还可能通过 <code>initFragments</code> 数组达成修改模块产物的效果。<code>initFragments</code> 数组项为 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/InitFragment.js" target="_blank" rel="noopener noreferrer">InitFragment<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 子类实例，它们带有两个关键函数：<code>getContent</code>、<code>getEndContent</code>，分别用于获取代码片段的头尾部分。</p><p>例如 <code>HarmonyImportDependencyTemplate</code> 的 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/HarmonyImportDependency.js#L310-L311" target="_blank" rel="noopener noreferrer">apply<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 函数中：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>HarmonyImportDependency<span class="token punctuation">.</span>Template <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">HarmonyImportDependencyTemplate</span> <span class="token keyword">extends</span> <span class="token punctuation">(</span>
  ModuleDependency<span class="token punctuation">.</span>Template
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">dependency<span class="token punctuation">,</span> source<span class="token punctuation">,</span> templateContext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    templateContext<span class="token punctuation">.</span>initFragments<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ConditionalInitFragment</span><span class="token punctuation">(</span>
          importStatement<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> importStatement<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          InitFragment<span class="token punctuation">.</span><span class="token constant">STAGE_HARMONY_IMPORTS</span><span class="token punctuation">,</span>
          dep<span class="token punctuation">.</span>sourceOrder<span class="token punctuation">,</span>
          key<span class="token punctuation">,</span>
          runtimeCondition
        <span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//...</span>
  <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>也就是根据模块需求，不断增加新的代码片段 <code>initFragments</code>，所有 <code>Dependency</code> 执行完毕后，接着就需要调用 <code>InitFragment.addToSource</code> 函数将两者合并为模块产物。<code>addToSource</code> 的核心代码如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">InitFragment</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token function">addToSource</span><span class="token punctuation">(</span><span class="token parameter">source<span class="token punctuation">,</span> initFragments<span class="token punctuation">,</span> generateContext</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 先排好顺序</span>
    <span class="token keyword">const</span> sortedFragments <span class="token operator">=</span> initFragments
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>extractFragmentIndex<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>sortFragmentWithIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>

    <span class="token keyword">const</span> concatSource <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcatSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> endContents <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> fragment <span class="token keyword">of</span> sortedFragments<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 合并 fragment.getContent 取出的片段内容</span>
      concatSource<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>fragment<span class="token punctuation">.</span><span class="token function">getContent</span><span class="token punctuation">(</span>generateContext<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">const</span> endContent <span class="token operator">=</span> fragment<span class="token punctuation">.</span><span class="token function">getEndContent</span><span class="token punctuation">(</span>generateContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>endContent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        endContents<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>endContent<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 合并 source</span>
    concatSource<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 合并 fragment.getEndContent 取出的片段内容</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> content <span class="token keyword">of</span> endContents<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      concatSource<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> concatSource<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>可以看到，<code>addToSource</code> 函数的逻辑：</p><ul><li>遍历 <code>initFragments</code> 数组，按顺序合并 <code>fragment.getContent()</code> 的产物；</li><li>合并 <code>source</code> 对象；</li><li>遍历 <code>initFragments</code> 数组，按顺序合并 <code>fragment.getEndContent()</code> 的产物。</li></ul><p>所以，模块代码合并操作主要就是用 <code>initFragments</code> 数组一层一层包裹住模块代码 <code>source</code>，而两者都在 <code>Template.apply</code> 层面维护。还是上面那个简单例子，经过这段 <code>Template</code> 处理后，最终转化为：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> bar <span class="token keyword">from</span> <span class="token string">&quot;./bar&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bar<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 首先，HarmonyImportSpecifierDependency 替换导入变量名：</span>
<span class="token keyword">import</span> bar <span class="token keyword">from</span> <span class="token string">&quot;./bar&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_bar__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 之后，ConstDependency 删除模块导入语句：</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_bar__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 经过 ConditionalInitFragment 处理：</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> _bar__WEBPACK_IMPORTED_MODULE_1__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ./bar */</span> <span class="token string">&quot;./src/bar.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_bar__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>简单总结一下，Webpack 生成 ModuleGraph 与 ChunkGraph 后，会立即开始遍历所有 <code>Dependency</code> 对象，依次调用对象的静态方法 <code>template.apply</code> 修改 <code>module</code> 代码，最后再将所有变更后的 <code>source</code> 与模块脚手架 <code>initFragments</code> 合并为最终产物，完成从单个模块的源码形态到产物形态的转变。</p><blockquote><p><strong>自定义 <code>Template.apply</code> 示例：</strong></p></blockquote><p>「<strong>模块转译</strong>」 步骤流程比较长，整体逻辑很复杂，为了加深理解，接下来我们尝试开发一个简单的 Banner 插件：实现在每个模块前自动插入一段字符串。实现上，插件主要涉及 <code>Dependency</code>、<code>Template</code>、<code>hooks</code> 对象，代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> Dependency<span class="token punctuation">,</span> Template <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">DemoDependency</span> <span class="token keyword">extends</span> <span class="token class-name">Dependency</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

DemoDependency<span class="token punctuation">.</span>Template <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">DemoDependencyTemplate</span> <span class="token keyword">extends</span> <span class="token class-name">Template</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">dependency<span class="token punctuation">,</span> source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> today <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleDateString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    source<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/* Author: Tecvan */
/* Date: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>today<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> */
</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">DemoPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>thisCompilation<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;DemoPlugin&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// 调用 dependencyTemplates ，注册 Dependency 到 Template 的映射</span>
      compilation<span class="token punctuation">.</span>dependencyTemplates<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>
        DemoDependency<span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">DemoDependency<span class="token punctuation">.</span>Template</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>succeedModule<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;DemoPlugin&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 模块构建完毕后，插入 DemoDependency 对象</span>
        module<span class="token punctuation">.</span><span class="token function">addDependency</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">DemoDependency</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>示例插件的关键步骤：</p><ul><li>编写 <code>DemoDependency</code> 与 <code>DemoDependencyTemplate</code> 类，其中 <code>DemoDependency</code> 仅做示例用，没有实际功能；<code>DemoDependencyTemplate</code> 则在其 <code>apply</code> 中调用 <code>source.insert</code> 插入字符串，如示例代码第 10-14 行；</li><li>使用 <code>compilation.dependencyTemplates</code> 注册 <code>DemoDependency</code> 与 <code>DemoDependencyTemplate</code> 的映射关系；</li><li>使用 <code>thisCompilation</code> 钩子取得 <code>compilation</code> 对象；</li><li>使用 <code>succeedModule</code> 钩子订阅 <code>module</code> 构建完毕事件，并调用 <code>module.addDependency</code> 方法添加 <code>DemoDependency</code> 依赖。</li></ul><p>完成上述操作后，<code>module</code> 对象的产物在生成过程就会调用到 <code>DemoDependencyTemplate.apply</code> 函数，插入我们定义好的字符串，效果如：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e9bb7223e90c4054bb50f95c74191dd8~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>感兴趣的同学也可以直接阅读 Webpack 仓库的如下文件，学习更多用例：</p><ul><li><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/ConstDependency.js#L92-L93" target="_blank" rel="noopener noreferrer">ConstDependency<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：一个简单示例，可学习 <code>source</code> 的更多操作方法；</li><li><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/HarmonyExportSpecifierDependency.js#L86-L87" target="_blank" rel="noopener noreferrer">HarmonyExportSpecifierDependency<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：一个较简单的示例，可学习 <code>initFragments</code> 数组的更多用法；</li><li><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/HarmonyImportDependency.js#L253-L254" target="_blank" rel="noopener noreferrer">HarmonyImportDependency<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：一个较复杂但使用率极高的示例，可综合学习 <code>source</code>、<code>initFragments</code> 数组的用法。</li></ul><h2 id="收集运行时模块" tabindex="-1"><a class="header-anchor" href="#收集运行时模块" aria-hidden="true">#</a> 收集运行时模块</h2><p>为了正常、正确运行业务项目，Webpack 需要将开发者编写的业务代码以及支撑、调配这些业务代码的 <strong>运行时</strong> 一并打包到产物（bundle）中，以建筑作类比的话，业务代码相当于砖瓦水泥，是看得见摸得着能直接感知的逻辑；运行时相当于掩埋在砖瓦之下的钢筋地基，通常不需要关注，但决定了整座建筑的功能、质量。</p><p>大多数 Webpack 特性都需要特定钢筋地基才能跑起来，包括：异步加载、HMR、WASM、Module Federation 等。即使没有用到这些特性，仅仅是最简单的模块导入导出，也都需要生成若干模拟 CMD 模块化方案运行时代码，例如：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// a.js</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token string">&#39;a module&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// index.js</span>
<span class="token keyword">import</span> name <span class="token keyword">from</span> <span class="token string">&#39;./a&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>打包结果：</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/df188ee10e674b068e4bd4ea654aa923~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>可以看出，整个 Bundle 被包裹在一个立即执行函数中，函数内部从上到下依次定义：</p><ul><li><code>__webpack_modules__</code> 对象，包含了除入口外的所有模块，如示例中的 <code>a.js</code> 模块；</li><li><code>__webpack_module_cache__</code> 对象，用于存储被引用过的模块；</li><li><code>__webpack_require__</code> 函数，实现模块引用(require) 逻辑；</li><li><code>__webpack_require__.d</code> ，工具函数，实现将模块导出的内容附加的模块对象上；</li><li><code>__webpack_require__.o</code> ，工具函数，判断对象属性用；</li><li><code>__webpack_require__.r</code> ，工具函数，在 ESM 模式下声明 ESM 模块标识；</li><li>最后的 IIFE，对应 entry 模块即上述示例的 <code>index.js</code> ，用于启动整个应用。</li></ul><p>这几个 <code>__webpack_</code> 开头奇奇怪怪的函数可以统称为 Webpack 运行时代码，作用如前面所说的，是搭起整个业务项目的骨架，就上述简单示例所罗列出来的几个函数、对象而言，它们协作构建起一个简单的模块化体系，从而实现 ES Module 规范所声明的模块化特性。</p><p>上述函数、对象构成了 Webpack 运行时最基本的能力 —— 模块化，假如代码中用到更多 Webpack 特性，则会相应地注入更多运行时模块代码，例如：</p><ul><li>使用异步加载时，注入 <code>__webpack_require__.e</code>、<code>__webpack_require__.f</code> 等模块；</li><li>使用 HMR 时，注入 <code>__webpack_require__.hmrF</code>、<code>webpack/runtime/hot</code> 等模块。</li></ul><p>那么，Webpack 是如何收集运行时依赖，并将之合并到最终产物中的呢？</p><blockquote><p><strong>收集运行时依赖：</strong></p></blockquote><p>早在「构建」阶段，Webpack 就已经开始在持续收集运行时依赖，例如，在一个非常简单的模块导入语句中：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> bar <span class="token keyword">from</span> <span class="token string">&#39;./bar&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>Webpack 在处理上述代码 AST 时，会相应生成多个依赖对象，比较重要的有：</p><ul><li><code>HarmonyImportSideEffectDependency</code>：主要的 Dependency 对象，Webpack 会为该对象创建相应的 <code>NormalModule</code> 实例，从而递归处理新模块代码；</li><li><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/HarmonyCompatibilityDependency.js#L72-L73" target="_blank" rel="noopener noreferrer">HarmonyCompatibilityDependency<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：运行时模块依赖，对应的 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/dependencies/HarmonyCompatibilityDependency.js#L72-L73" target="_blank" rel="noopener noreferrer">Template.apply<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 函数会在生成代码时记录相应运行时需求。</li></ul><p>本质上，这是一个基于静态代码分析的方式收集依赖的过程。当所有模块处理完毕，收集到所有运行时依赖，进入 <code>codeGeneration</code> 函数后，Webpack 会进一步将这些依赖对象挂载到 Chunk 中：</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/098592e677784728ba6c4947235b0460~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>这个过程集中 <code>compilation.processRuntimeRequirements</code> 函数，函数中包含三次循环：</p><ul><li>第一次循环遍历所有 module，收集所有 module 的 runtime 依赖；</li><li>第二次循环遍历所有 chunk，将 chunk 下所有 module 的 runtime 统一收录到 chunk 中；</li><li>第三次循环遍历所有 runtime chunk，收集其对应的子 chunk 下所有 runtime 依赖，之后遍历所有依赖并发布 <code>runtimeRequirementInTree</code> 钩子，（主要是） <code>RuntimePlugin</code> 插件订阅该钩子并根据依赖类型创建对应的 <code>RuntimeModule</code> 子类实例。</li></ul><p><strong><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/Compilation.js#L3392-L3393" target="_blank" rel="noopener noreferrer">第一次循环：收集模块依赖<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：</strong></p><p>在上述「模块转译主流程」中，我们聊到 <code>Template.apply</code> 函数可能修改模块的 <code>runtimeRequirements</code> 数组，最终形成如下结构：</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4ced49e0b3764a4aaf168db7bae8c1cb~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>这个过程相当于将模块的 Runtime Dependency 都转化为 <code>__webpack_require__</code> 等枚举值，并调用 <code>compilation.processRuntimeRequirements</code> 进入第一重循环，将上述 <code>runtimeRequirements</code> 数组 <a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/Compilation.js#L3447-L3448" target="_blank" rel="noopener noreferrer">挂载<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> 到 <code>ChunkGraph</code> 对象中。</p><p><strong><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/Compilation.js#L3463-L3464" target="_blank" rel="noopener noreferrer">第二次循环：整合 chunk 依赖<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：</strong></p><p>第一次循环针对 module 收集依赖，第二次循环则遍历 chunk 数组，收集将其对应所有 module 的 runtime 依赖，例如：</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f1d02df6676942acac39290096af3d4c~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>示例图中，<code>module a</code> 包含两个运行时依赖；<code>module b</code> 包含一个运行时依赖，则经过第二次循环整合后，对应的 <code>chunk</code> 会包含两个模块所包含的三个运行时依赖。</p><p><strong><a href="https://github1s.com/webpack/webpack/blob/HEAD/lib/Compilation.js#L3483-L3484" target="_blank" rel="noopener noreferrer">第三次循环：依赖标识转 RuntimeModule 对象<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>：</strong></p><p>源码中，第三次循环的代码最少但逻辑最复杂，大致上执行三个操作：</p><ul><li>遍历所有 runtime chunk，收集其所有子 chunk 的 runtime 依赖；</li><li>为该 runtime chunk 下的所有依赖发布 <code>runtimeRequirementInTree</code> 钩子；</li><li><code>RuntimePlugin</code> 监听钩子，并根据 runtime 依赖的标识信息创建对应的 <code>RuntimeModule</code> 子类对象，并将对象加入到 <code>ModuleDepedencyGraph</code> /<code>ChunkGraph</code> 体系中管理。</li></ul><p>至此，runtime 依赖完成了从 module 内容解析，到收集，到创建依赖对应的 <code>Module</code> 子类，再将 <code>Module</code> 加入到 <code>ModuleDepedencyGraph</code> /<code>ChunkGraph</code> 体系的全流程，业务代码及运行时代码对应的模块依赖关系图完全 ready，可以准备进入下一阶段 —— 合并最终产物。</p><h2 id="合并最终产物" tabindex="-1"><a class="header-anchor" href="#合并最终产物" aria-hidden="true">#</a> 合并最终产物</h2><p>讲完单个模块转译以及运行时模块收集过程后，我们终于来到最后一步：</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/67a464acdc17450487c13f649c7d9b4f~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>流程图中，<code>compilation.codeGeneration</code> 函数执行完毕 —— 也就是模块转译阶段完成后，模块的转译结果会一一保存到 <code>compilation.codeGenerationResults</code> 对象中，之后会启动一个新的执行流程 —— <strong>模块合并打包</strong>。</p><p><strong>模块合并打包</strong>过程会将 chunk 对应的 module 及 runtimeModule 按规则塞进<strong>模板框架</strong>中，最终合并输出成完整的 bundle 文件，例如上例中：</p><p><img src="https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/37ce17c38d524705b0f4dfbb7f408782~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><p>示例右边 bundle 文件中，红框框出来的部分为用户代码文件及运行时模块生成的产物，其余部分撑起了一个 IIFE 形式的运行框架，即为<strong>模板框架</strong>，也就是：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// webpackBootstrap</span>
    <span class="token string">&quot;use strict&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> __webpack_modules__ <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token string-property property">&quot;module-a&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">__unused_webpack_module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// ! module 代码，</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-property property">&quot;module-b&quot;</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">__unused_webpack_module<span class="token punctuation">,</span> __webpack_exports__<span class="token punctuation">,</span> __webpack_require__</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// ! module 代码，</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// The module cache</span>
    <span class="token keyword">var</span> __webpack_module_cache__ <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// The require function</span>
    <span class="token keyword">function</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token parameter">moduleId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ! webpack CMD 实现</span>
    <span class="token punctuation">}</span>
    <span class="token doc-comment comment">/************************************************************************/</span>
    <span class="token comment">// ! 各种 runtime</span>
    <span class="token doc-comment comment">/************************************************************************/</span>
    <span class="token keyword">var</span> __webpack_exports__ <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.</span>
    <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// ! entry 模块</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>捋一下这里的逻辑，运行框架包含如下关键部分：</p><ul><li>最外层是一个 IIFE 包裹；</li><li>一个记录了除 <code>entry</code> 外的其它模块代码的 <code>__webpack_modules__</code> 对象，对象的 key 为模块标志符；值为模块转译后的代码；</li><li>一个极度简化的 CMD 实现： <code>__webpack_require__</code> 函数；</li><li>最后，一个包裹了 <code>entry</code> 代码的 IIFE 函数。</li></ul><p><strong>模块转译</strong> 是将 <code>module</code> 转译为可以在宿主环境如浏览器上运行的代码形式；<strong>收集运行时模块</strong> 负责决定整个 Bundle 需要的骨架代码；而 <strong>模块合并</strong> 操作则串联这些 <code>modules</code> ，使之整体符合开发预期，能够正常运行整个应用逻辑。接下来，我们揭晓这部分代码的生成原理。</p><p><strong>模块合并主流程：</strong></p><p>在 <code>compilation.codeGeneration</code> 执行完毕，即所有用户代码模块做完转译，运行时模块都收集完毕作后，<code>seal</code> 函数调用 <code>compilation.createChunkAssets</code> 函数，触发 <code>renderManifest</code> 钩子，<code>JavascriptModulesPlugin</code> 插件监听到这个钩子消息后开始组装 bundle，伪代码：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Webpack 5</span>
<span class="token comment">// lib/Compilation.js</span>
<span class="token keyword">class</span> <span class="token class-name">Compilation</span> <span class="token punctuation">{</span>
  <span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 先把所有模块的代码都转译，准备好</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>codeGenerationResults <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">codeGeneration</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>modules<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 1. 调用 createChunkAssets</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createChunkAssets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">createChunkAssets</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 遍历 chunks ，为每个 chunk 执行 render 操作</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> chunk <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>chunks<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 2. 触发 renderManifest 钩子</span>
      <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hooks<span class="token punctuation">.</span><span class="token function">renderManifest</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        chunk<span class="token punctuation">,</span>
        <span class="token literal-property property">codeGenerationResults</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>codeGenerationResults<span class="token punctuation">,</span>
        <span class="token operator">...</span>others<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 提交组装结果</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">emitAsset</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">...</span>others<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// lib/javascript/JavascriptModulesPlugin.js</span>
<span class="token keyword">class</span> <span class="token class-name">JavascriptModulesPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>compilation<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;JavascriptModulesPlugin&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      compilation<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>renderManifest<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&quot;JavascriptModulesPlugin&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">result<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
          <span class="token comment">// JavascriptModulesPlugin 插件中通过 renderManifest 钩子返回组装函数 render</span>
          <span class="token keyword">const</span> <span class="token function-variable function">render</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
            <span class="token comment">// render 内部根据 chunk 内容，选择使用模板 `renderMain` 或 `renderChunk`</span>
            <span class="token comment">// 3. 监听钩子，返回打包函数</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderMain</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span>

          result<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> render <span class="token comment">/* arguments */</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> result<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">renderMain</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/*  */</span><span class="token punctuation">}</span>

  <span class="token function">renderChunk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">/*  */</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这里的核心逻辑是，<code>compilation</code> 以 <code>renderManifest</code> 钩子方式对外发布 bundle 打包需求； <code>JavascriptModulesPlugin</code> 监听这个钩子，按照 chunk 的内容特性，调用不同的打包函数。</p><blockquote><p>💡提示：上述仅针对 Webpack5 有效，在 Webpack4 中，打包逻辑集中在 <code>MainTemplate</code> 完成。</p></blockquote><p><code>JavascriptModulesPlugin</code> 内置的打包函数有：</p><ul><li><code>renderMain</code>：打包主 chunk 时使用；</li><li><code>renderChunk</code>：打包子 chunk ，如异步模块 chunk 时使用。</li></ul><p>两个打包函数实现的逻辑接近，都是按顺序拼接各个模块，下面简单介绍下 <code>renderMain</code> 的实现。</p><p><strong><code>JavascriptModulesPlugin.renderMain</code> 函数：</strong></p><p><code>renderMain</code> 函数涉及比较多场景判断，原始代码很长很绕，我摘了几个重点步骤：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">JavascriptModulesPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">renderMain</span><span class="token punctuation">(</span><span class="token parameter">renderContext<span class="token punctuation">,</span> hooks<span class="token punctuation">,</span> compilation</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> chunk<span class="token punctuation">,</span> chunkGraph<span class="token punctuation">,</span> runtimeTemplate <span class="token punctuation">}</span> <span class="token operator">=</span> renderContext<span class="token punctuation">;</span>

    <span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConcatSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ...</span>
    <span class="token comment">// 1. 先计算出 bundle CMD 核心代码，包含：</span>
    <span class="token comment">//      - &quot;var __webpack_module_cache__ = {};&quot; 语句</span>
    <span class="token comment">//      - &quot;__webpack_require__&quot; 函数</span>
    <span class="token keyword">const</span> bootstrap <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderBootstrap</span><span class="token punctuation">(</span>renderContext<span class="token punctuation">,</span> hooks<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 2. 计算出当前 chunk 下，除 entry 外其它模块的代码</span>
    <span class="token keyword">const</span> chunkModules <span class="token operator">=</span> Template<span class="token punctuation">.</span><span class="token function">renderChunkModules</span><span class="token punctuation">(</span>
      renderContext<span class="token punctuation">,</span>
      inlinedModules
        <span class="token operator">?</span> allModules<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">m</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span>inlinedModules<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token operator">:</span> allModules<span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderModule</span><span class="token punctuation">(</span>
          module<span class="token punctuation">,</span>
          renderContext<span class="token punctuation">,</span>
          hooks<span class="token punctuation">,</span>
          allStrict <span class="token operator">?</span> <span class="token string">&quot;strict&quot;</span> <span class="token operator">:</span> <span class="token boolean">true</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      prefix
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 3. 计算出运行时模块代码</span>
    <span class="token keyword">const</span> runtimeModules <span class="token operator">=</span>
      renderContext<span class="token punctuation">.</span>chunkGraph<span class="token punctuation">.</span><span class="token function">getChunkRuntimeModulesInOrder</span><span class="token punctuation">(</span>chunk<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4. 重点来了，开始拼接 bundle</span>
    <span class="token comment">// 4.1 首先，合并核心 CMD 实现，即上述 bootstrap 代码</span>
    <span class="token keyword">const</span> beforeStartup <span class="token operator">=</span> Template<span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span>bootstrap<span class="token punctuation">.</span>beforeStartup<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;\n&quot;</span><span class="token punctuation">;</span>
    source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">PrefixSource</span><span class="token punctuation">(</span>
        prefix<span class="token punctuation">,</span>
        useSourceMap
          <span class="token operator">?</span> <span class="token keyword">new</span> <span class="token class-name">OriginalSource</span><span class="token punctuation">(</span>beforeStartup<span class="token punctuation">,</span> <span class="token string">&quot;webpack/before-startup&quot;</span><span class="token punctuation">)</span>
          <span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RawSource</span><span class="token punctuation">(</span>beforeStartup<span class="token punctuation">)</span>
      <span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 4.2 合并 runtime 模块代码</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>runtimeModules<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> module <span class="token keyword">of</span> runtimeModules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        compilation<span class="token punctuation">.</span>codeGeneratedModules<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// 4.3 合并除 entry 外其它模块代码</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> m <span class="token keyword">of</span> chunkModules<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> renderedModule <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">renderModule</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> renderContext<span class="token punctuation">,</span> hooks<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>renderedModule<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 4.4 合并 entry 模块代码</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>
      hasEntryModules <span class="token operator">&amp;&amp;</span>
      runtimeRequirements<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>RuntimeGlobals<span class="token punctuation">.</span>returnExportsFromRuntime<span class="token punctuation">)</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      source<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>prefix<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">return __webpack_exports__;\n</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> source<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>核心逻辑为：</p><ul><li>先计算出 bundle CMD 代码，即 <code>__webpack_require__</code> 函数；</li><li>计算出当前 chunk 下，除 entry 外其它模块代码 <code>chunkModules</code>；</li><li>计算出运行时模块代码；</li><li>开始执行合并操作，子步骤有： <ul><li>合并 CMD 代码；</li><li>合并 runtime 模块代码；</li><li>遍历 <code>chunkModules</code> 变量，合并除 entry 外其它模块代码；</li><li>合并 entry 模块代码。</li></ul></li><li>返回结果。</li></ul><p>总结：先计算出不同组成部分的产物形态，之后按顺序拼接打包，输出合并后的版本。</p><p>至此，Webpack 完成 bundle 的转译、打包流程，后续调用 <code>compilation.emitAsset</code>，将产物内容输出到 <code>output</code> 指定的路径即可，Webpack 单次编译打包过程就结束了。</p><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>从《<a href="https://juejin.cn/book/7115598540721618944/section/7119035873802813475" target="_blank" rel="noopener noreferrer">Init、Make、Seal：真正读懂 Webpack 核心流程<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>》开始，我们花了四节篇幅，终于讲完了 Webpack 构建主流程中方方面面的原理，划重点：</p><ul><li>Webpack 构建过程可以简单划分为 Init、Make、Seal 三个阶段；</li><li>Init 阶段负责初始化 Webpack 内部若干插件与状态，逻辑比较简单；</li><li>Make 阶段解决资源读入问题，这个阶段会从 Entry —— 入口模块开始，递归读入、解析所有模块内容，并根据模块之间的依赖关系构建 ModuleGraph —— 模块关系图对象；</li><li>Seal 阶段更复杂： <ul><li>一方面，根据 ModuleGraph 构建 ChunkGraph；</li><li>另一方面，开始遍历 ChunkGraph，转译每一个模块代码；</li><li>最后，将所有模块与模块运行时依赖合并为最终输出的 Bundle —— 资产文件。</li></ul></li></ul><p>这些内容都是介绍 Webpack 实现原理的文章，可能并不能马上解决你在业务中正在面临的现实问题，但放到更长的时间维度，这些内容所呈现的知识、思维、思辨过程可能能够长远地给到你：</p><ul><li>分析、理解复杂开源代码的能力；</li><li>理解 Webpack 架构及实现细节，下次遇到问题的时候能根据表象迅速定位到根源；</li><li>理解 Webpack 为 hooks、loader 提供的上下文，能够更通畅地理解其它开源组件，甚至能够自如地实现自己的组件。</li></ul><p>所以，希望你能沿着这个思路，反复、仔细阅读这些章节，深入理解底层实现原理，成为真正意义上的 Webpack 专家。</p><h2 id="思考题" tabindex="-1"><a class="header-anchor" href="#思考题" aria-hidden="true">#</a> 思考题</h2><p>Dependency、Module 之间是什么关系？为什么需要设计 Dependency 这个看似可有可无的结构？</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->修改此页面<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->最后一次修改 8/14/2024, 5:46:28 PM<!--]--></span></span></div></footer><nav class="page-nav"><p class="hasPrev hasNext inner"><span class="page-nav-item prev"> ← 第26章—Chunk：三种产物的打包逻辑.md</span><span class="page-nav-item next">第28章—Tree-shaking：如何删除无用模块导出.md → </span></p></nav><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/web/webpack/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html#什么是模块转译" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="什么是模块转译？"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->什么是模块转译？<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/web/webpack/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html#模块转译主流程" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="模块转译主流程"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->模块转译主流程<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/web/webpack/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html#单模块转译" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="单模块转译"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->单模块转译<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/web/webpack/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html#收集运行时模块" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="收集运行时模块"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->收集运行时模块<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/web/webpack/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html#合并最终产物" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="合并最终产物"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->合并最终产物<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/web/webpack/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html#总结" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="总结"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->总结<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/./blogs/web/webpack/di27zhang—Runtime：mokuaibianyidabaojiyunxingshiluoji.html#思考题" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="思考题"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->思考题<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/./assets/app-48690364.js" defer></script>
  </body>
</html>
