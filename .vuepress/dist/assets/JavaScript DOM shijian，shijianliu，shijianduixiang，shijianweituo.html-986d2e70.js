import{_ as p,r as o,o as e,c,b as n,d as s,e as l,a}from"./app-e6acbbcc.js";const i={},u=a(`<h1 id="javascript-dom-事件-事件流-事件对象-事件委托" tabindex="-1"><a class="header-anchor" href="#javascript-dom-事件-事件流-事件对象-事件委托" aria-hidden="true">#</a> JavaScript DOM 事件，事件流，事件对象，事件委托</h1><p>本节内容我们开始学习在实际开发中用到最多的 JavaScript DOM 事件（鼠标事件、键盘事件、表单事件）DOM 事件流，event 事件对象，事件委托，常见的应用场景和案例等。</p><h2 id="一、dom-事件的基本介绍" tabindex="-1"><a class="header-anchor" href="#一、dom-事件的基本介绍" aria-hidden="true">#</a> 一、DOM 事件的基本介绍</h2><p>我们会从以下四个方面入手，让大先对 DOM 事件有一个简单的了解</p><ul><li>什么是 DOM 事件</li><li>什么是事件监听</li><li>设置事件监听的方法</li><li>如何移除事件监听</li></ul><h3 id="_1、什么是-dom-事件" tabindex="-1"><a class="header-anchor" href="#_1、什么是-dom-事件" aria-hidden="true">#</a> 1、什么是 DOM 事件 ？</h3><p>事件可以理解为：用户与网页发生的交互动作，比如：</p><ul><li>当鼠标移动到元素上面，会触发 <code>mouseover</code>事件</li><li>当鼠标标点击中某个页面元素 ，会触 发<code>click</code>事件</li><li>当用户进入或离开页面时，会触发 <code>load</code> 和 <code>unload</code> 事件</li><li>.... DOM 中的事件非常多，我们后面慢慢来学习</li></ul><blockquote><p>当我们触发了上面这些事件时，计算机是如何知道用户与浏览器（网页）发生了这些交互呢 ？这就涉及到事件监听。</p></blockquote><h3 id="_2、什么是事件监听" tabindex="-1"><a class="header-anchor" href="#_2、什么是事件监听" aria-hidden="true">#</a> 2、什么是事件监听 ？</h3><p>事件监听</p><p>就是计算机对事件进行监听，知道什么时候发生了这个事件，从而执行一些程序员预先编写好的程序。</p><h3 id="_3、设置事件监听的方法" tabindex="-1"><a class="header-anchor" href="#_3、设置事件监听的方法" aria-hidden="true">#</a> 3、设置事件监听的方法</h3><p>设置事件监听的方法有 2 种</p><ul><li>以 <code>on</code> 方式注册事件（绑定事件）</li><li>以 <code>addEventListener()</code> 方式监听注册事件</li></ul><h3 id="_3-1、on-方式注册事件" tabindex="-1"><a class="header-anchor" href="#_3-1、on-方式注册事件" aria-hidden="true">#</a> 3.1、on 方式注册事件</h3><p>基本用法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 语法</span>
eventTarget<span class="token punctuation">.</span>on事件类型 <span class="token operator">=</span> fn<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>eventTarget 触发事件的目标对象，称为<strong>事件源</strong></li><li>on 后面是<strong>事件类型</strong>，事件类型有很多如 click、mouseover、keydown、focus 等</li><li>fn 是一个函数，事件触发时调用的函数，被称为<strong>事件处理函数</strong></li></ul><blockquote><p>一个完整的 DOM 事件，需要具备以上三部分：<strong>事件源</strong>、<strong>事件类型</strong>、<strong>事件处理函数</strong></p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 获取dom元素</span>
  <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// btn 为事件源 click 为事件类型名，这里的函数为事件处理函数</span>
  btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我被点击了1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我被点击了2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注：</p><p>on 方式注册事件，同一元素的同一事件，只能有一个事件处理函数，同时以写在后面的为主</p><p><img src="https://www.arryblog.com/assets/img/image-20221102174707450.e4193ac9.png" alt="image-20221102174707450"></p><h3 id="_3-2、以-addeventlistener-方式监听注册事件" tabindex="-1"><a class="header-anchor" href="#_3-2、以-addeventlistener-方式监听注册事件" aria-hidden="true">#</a> 3.2、以 addEventListener 方式监听注册事件</h3><p>基本用法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 语法</span>
eventTarget<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> useCapture<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>eventTarget 为事件源, 触发事件的目标对象</li><li>type 监听事件的类型</li><li>fn 事件处理函数</li><li>useCapture 设置事件触发是捕获阶段还是冒泡阶段，其值只能是 false 和 true <ul><li>true 表示在捕获阶段触发</li><li>false 默认值，表示在冒泡阶段触发</li></ul></li></ul><p>温馨提示</p><p>addEventListener 方式，可以给元素的同一个事件添加多个事件监听（即绑定多个事件处理函数）</p><p><strong>应用场景</strong></p><ul><li>同一个页面要实现 <strong>吸顶盒效果</strong>、<strong>楼梯式导航</strong>、<strong>滚动到底部加载更多</strong> 等效果，这些效果都会用到<code>window.srcoll</code>事件</li><li>所以我们需要为 window 的 scroll 事件，添加三个事件处理函数来分别处理以上三种效果。</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 获取dom元素</span>
  <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// btn 为事件源 click 为事件类型名，fn为事件处理函数  false表示在冒泡阶段触发</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn1<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我被点击了fn1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我被点击了fn2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221102174903415.b324d6b8.png" alt="image-20221102174903415"></p><h3 id="_4、移除事件监听" tabindex="-1"><a class="header-anchor" href="#_4、移除事件监听" aria-hidden="true">#</a> 4、移除事件监听</h3><p>移除 on 方式绑定（注册）的事件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>eventTarget<span class="token punctuation">.</span>on事件类型 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 移除事件处理程序</span>
<span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 获取dom元素</span>
  <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;点击后要执行的内容&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span>onclick <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 移除 click事件</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>移除 addEventListener 方式的事件监听，需要通过 removeEventListener 方法来实现</p><ul><li>因为 addEventListener 可以为同一元素的的同一事件绑定多个事件处理函数</li><li>所以，用 removeEventListener 方法来移除对应事件监听时，要保证移除的<strong>事件名</strong>，<strong>事件处理函数</strong>，<strong>布尔值</strong> 要与 addEventListener 添加时的参数完全相同。才能移除具体的某个事件监听</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">removeEventListener</span><span class="token punctuation">(</span>事件名，事件处理函数，布尔值<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用来移除具体的某一个事件监听</span>
<span class="token comment">// 移除时的，事件名，事件处理函数，布尔值 要与addEventListener添加时的参数完全相同</span>
<span class="token operator">&lt;</span>button id<span class="token operator">=</span><span class="token string">&quot;btn&quot;</span><span class="token operator">&gt;</span>点我<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 获取dom元素</span>
  <span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn1<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  btn<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn2<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 不能移除，因为没有相对应的事件监听</span>
  <span class="token comment">// btn.removeEventListener(&quot;click&quot;, fn1, true);</span>
  <span class="token comment">// 移除第一次添加的事件监听</span>
  btn<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn1<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;执行了fn1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;执行了fn2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="二、常见鼠标事件" tabindex="-1"><a class="header-anchor" href="#二、常见鼠标事件" aria-hidden="true">#</a> 二、常见鼠标事件</h2><blockquote><p>常见的鼠标事件如下</p></blockquote><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">onclick</td><td style="text-align:left;">当鼠标单击某个对象</td></tr><tr><td style="text-align:left;">ondbclick</td><td style="text-align:left;">当鼠标双击某个对象</td></tr><tr><td style="text-align:left;">onmouseover</td><td style="text-align:left;">当鼠标进入某个对象</td></tr><tr><td style="text-align:left;">onmouseout</td><td style="text-align:left;">当鼠标离开某个对象</td></tr><tr><td style="text-align:left;">onmouseenter</td><td style="text-align:left;">当鼠标进入某个对象（相似事件 onmouseover）不能向上冒泡</td></tr><tr><td style="text-align:left;">onmouseleave</td><td style="text-align:left;">当鼠标离开某个对象（相似事件 onmouseout）不能向上冒泡</td></tr><tr><td style="text-align:left;">onmousedown</td><td style="text-align:left;">当某个鼠标按键在某个对象上被按下</td></tr><tr><td style="text-align:left;">onmouseup</td><td style="text-align:left;">当某个鼠标按键在某个对象上被松开</td></tr><tr><td style="text-align:left;">onmousemove</td><td style="text-align:left;">当某个鼠标按键在某个对象上被移动</td></tr></tbody></table><h3 id="_1、onclick-与-ondblclick-事件" tabindex="-1"><a class="header-anchor" href="#_1、onclick-与-ondblclick-事件" aria-hidden="true">#</a> 1、onclick 与 ondblclick 事件</h3><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">onclick</td><td style="text-align:left;">鼠标单击事件，当鼠标单击某个对象时触发</td></tr><tr><td style="text-align:left;">ondblclick</td><td style="text-align:left;">鼠标双击事件，当鼠标双击某个对象时触发</td></tr></tbody></table><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 单击事件</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是 onclick&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 双击事件</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">ondblclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;我是 ondblclick&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、事件处理函数中的-this-指向" tabindex="-1"><a class="header-anchor" href="#_2、事件处理函数中的-this-指向" aria-hidden="true">#</a> 2、事件处理函数中的 this 指向</h3><blockquote><p>事件处理函数中的 this 指向绑定事件的那个对象</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>点我<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// on开头绑定事件</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;div class=&quot;box&quot;&gt;点我&lt;/div&gt;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// addEventListener 绑定事件</span>
  box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &lt;div class=&quot;box&quot;&gt;点我&lt;/div&gt;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1、案例-1-当用户点击页面上的-div-后-更改-div-的背景色" tabindex="-1"><a class="header-anchor" href="#_2-1、案例-1-当用户点击页面上的-div-后-更改-div-的背景色" aria-hidden="true">#</a> 2.1、案例 1：当用户点击页面上的 div 后，更改 div 的背景色</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 获取class名为box的div</span>
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// on开头的方式给box元素添加click点击事件</span>
  <span class="token comment">// 当box元素被点击后，就会触发click事件，从而执行后面函数中的代码</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;khaki&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 更改div的背景颜色</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 以addEventListener（）方法给 box元素添加click事件</span>
  <span class="token comment">// 当box元素被点击后，就会触发click事件，从而执行bgColor函数</span>
  box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> bgColor<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">bgColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2、案例-2-点击显示和隐藏" tabindex="-1"><a class="header-anchor" href="#_2-2、案例-2-点击显示和隐藏" aria-hidden="true">#</a> 2.2、案例 2：点击显示和隐藏</h3><p><img src="data:image/gif;base64,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iqdQV7RgSjUGgKtYs2rdyrWr169gw4odS7as2bNo06pdy7at27dw48qdS7eu3bt48+rdy7ev37+AAwseTLiw4cOIEytezLix48eQI0ueTLmy5cuYM2vezLmz58+gQ4seTbq06dOoU6tezbq169ewY8ueTbu27du4c+vezbu379/AgwsfTry48ePIkytfzry58+fQo0ufTr269evYs2vfzr279+/gw4sfT768+fPo06tfz769+/fw48ufT7++/fv48+vfz7+///8ABijggAQWaOCBCCao4BmCDDbo4IMQRijhhBRWaOGFGGao4YYc5hYCACH5BAE8AAIALAQABAArABcApO/v73Z2dgD/AO+7fE2c2QB6upWVle/Vm9mcTbrv79nv7+/v2b29vU1Qm+fn55vV7+/vuny7700AAHwAfJtQfLp6AJtQTQAATXwAAAAAfE0AfJtQAABQmwAAAAAAAAAAAAW8oGMEZGmeaKqWhsgAcCzPdG3HzHjvPE/2wCDsJyzeiMakDDk7SATQKJQAG0ivmYSNKTs0FDQEVTkM2JzX6JjMjXnBMzG5fH6mBVTEXXp51Nowb2FrMgMFQIBCCxZ+hgByR2Y0CxRajgNUEBNaAJhVh4t+W5I0BxoJlwQLGxEwmpyOAIJ/pDSYqZAAFa2fMbkziTGphYfCxQCUnMC1MRV7URxwEBhQvD7Mc0LB2Tvb3FsGL99BOSIr5+grLSEAOw==" alt="GIF 2022-10-12 17-00-55"></p><p>方法一：涉及知识点</p><ul><li>操作样式（控制元素显示与隐藏）</li><li>开关锁</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.hide</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* 隐藏 */</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on-off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>显示<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box hide<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>内容区<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;on-off&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token comment">// 方法一  开关锁</span>
      button<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 定义一个变量，用来表示当前状态</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span>
          flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          box<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
          flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>方法二：涉及知识点</p><p>利用 <code>classList.toggle()</code> 方法，实现两种样式之间相互转换</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> pink<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.hide</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span> <span class="token comment">/* 隐藏 */</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>on-off<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>显示<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box hide<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>内容区<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> button <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;on-off&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 方法二</span>
      button<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        box<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">&quot;hide&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3、案例-3-变色小球" tabindex="-1"><a class="header-anchor" href="#_2-3、案例-3-变色小球" aria-hidden="true">#</a> 2.3、案例 3：变色小球</h3><p>让小球在<strong>红（red)</strong>，<strong>绿(green)</strong>，<strong>黄(yellow)</strong>，<strong>蓝(blue)</strong> 4 个颜色之间切换</p><p><img src="data:image/gif;base64,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" alt="变色小球"></p><ul><li>小球初始颜色为<strong>红色（red）</strong>，第一次点击后，变为<strong>绿色（green）</strong>，第二次点击，变为<strong>黄色（yellow）</strong>，第三次点击变为<strong>蓝色（blue）</strong>，第四点击后变为<strong>红色（red）</strong></li><li>后面点击依次按上面步骤来切换不同颜色</li></ul><p>解题思路：</p><ul><li>我们可以定义一个变量<code>bgColor</code>，用来保存元素的当前的颜色状态</li><li>刚开始小球颜色为红色，即<code>bgColor = &#39;red&#39;;</code></li><li>然后每次点击后，判断下当前的颜色，</li><li>如果为<code>red</code>，则把小球背景色变为<code>green</code>，同时<code>bgColor = &#39;green&#39;,</code>更改为当前球的背景色</li><li>如果为<code>green</code>，则把小球背景色变为<code>yellow</code>，同时<code>bgColor = &#39;yellow&#39;,</code>更改为当前球的背景色</li><li>如果为<code>yellow</code>，则把小球背景色变为<code>blue</code>，同时<code>bgColor = &#39;blue&#39;,</code>更改为当前球的背景色</li><li>如果为<code>blue</code>，则把小球背景色变为<code>red</code>，同时<code>bgColor = &#39;red&#39;,</code>更改为当前球的背景色</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.ball</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ball<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> ball <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.ball&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> bgColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
  ball<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bgColor <span class="token operator">===</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">;</span>
      bgColor <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>bgColor <span class="token operator">===</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">;</span>
      bgColor <span class="token operator">=</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>bgColor <span class="token operator">===</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
      bgColor <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>bgColor <span class="token operator">===</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
      bgColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>优化版</strong></p><ul><li>元素在多个状态之间切换，可以把 if 这种方式，改成用 switch 语句来实现，条理更清淅</li><li>把 bgColor 这个变量，更改为对象自身的一个属性，更好，这样就可以消除全局变量，同时如果页面有多个相似的对象，那这些对象之间互不干扰</li><li>把这个改变元素背景颜色的函数封装成一个大家共用的方法</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.ball1</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.ball2</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ball1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ball2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> ball1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.ball1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> ball2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.ball2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  ball1<span class="token punctuation">.</span>bgColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span> <span class="token comment">// bgColor为对象的一个属性</span>
  ball1<span class="token punctuation">.</span>onclick <span class="token operator">=</span> changeBgColor<span class="token punctuation">;</span>
  ball2<span class="token punctuation">.</span>bgColor <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">;</span> <span class="token comment">// bgColor为对象的一个属性</span>
  ball2<span class="token punctuation">.</span>onclick <span class="token operator">=</span> changeBgColor<span class="token punctuation">;</span>

  <span class="token comment">// 把切换背景的功能，抽离成一个公共方法</span>
  <span class="token keyword">function</span> <span class="token function">changeBgColor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>bgColor<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&quot;red&quot;</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor <span class="token operator">=</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;green&quot;</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor <span class="token operator">=</span> <span class="token string">&quot;yellow&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;yellow&quot;</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor <span class="token operator">=</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token string">&quot;blue&quot;</span><span class="token operator">:</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>bgColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>总结：</p><p>如果一个元素在多个状态之间相互切换，我们可以在元素身上定义一个属性，这个属 性用来保存当前元素的当前状态。 然后在每次切换状态前，判断下当前的状态，再根据不同的状态来实现不同效果。</p><h3 id="_2-4、案例-4-点击弹出对应-li-的序号" tabindex="-1"><a class="header-anchor" href="#_2-4、案例-4-点击弹出对应-li-的序号" aria-hidden="true">#</a> 2.4、案例 4：点击弹出对应 li 的序号</h3><p>涉及知识点</p><ul><li>对象自定义属性的应用</li><li>闭包的应用</li></ul><blockquote><p>如下：当点击第一个 1，弹出 0，第二个弹出 1，第三个弹出 2，第 4 个弹出 3</p></blockquote><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-12-18-31-31.12da74f9.gif" alt="GIF 2022-10-12 18-31-31"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> liList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.list li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 常见错误写法</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> liList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      liList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 正确写法一：自定义属性</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> liList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      liList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span> <span class="token comment">// 给每个对象添加自定义属性，来保存对应下标</span>
      liList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 正确写法二：利用闭包</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> liList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        liList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">alert</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-5、案例-5-点击随机生成-6-位符号验证码" tabindex="-1"><a class="header-anchor" href="#_2-5、案例-5-点击随机生成-6-位符号验证码" aria-hidden="true">#</a> 2.5、案例 5：点击随机生成 6 位符号验证码</h3><p>涉及知识</p><ul><li>创建 DOM 元素，同时添加样式，事件等</li><li>随机函数</li></ul><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-12-21-12-08.5c863d7d.gif" alt="GIF 2022-10-12 21-12-08"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* .yzm {
        width: 120px;
        height: 40px;
        position: relative;
      }
      .yzm .yzm-code {
        box-sizing: border-box;
        height: 100%;
        background-color: #ddd;
        text-align: center;
        line-height: 40px;
        font-size: 0;
      }
      .yzm .yzm-code span {
        font-size: 26px;
        font-weight: bold;
        user-select: none;
      
      }
      .yzm-bg {
        background-color: khaki;
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        background: url(./images/yzm/line1.png) no-repeat center;
        background-size: cover;
        cursor: pointer;
      } */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- &lt;div class=&quot;yzm&quot;&gt;
        &lt;div class=&quot;yzm-code&quot;&gt;
          &lt;span&gt;1&lt;/span&gt;
          &lt;span&gt;2&lt;/span&gt;
          &lt;span&gt;a&lt;/span&gt;
          &lt;span&gt;b&lt;/span&gt;
          &lt;span&gt;f&lt;/span&gt;
          &lt;span&gt;5&lt;/span&gt;
        &lt;/div&gt;
        &lt;div class=&quot;yzm-bg&quot;&gt;&lt;/div&gt;
      &lt;/div&gt; --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 这个生成验证码的函数，需要一个参数，这个参数是用来放yzm的容器</span>
    <span class="token comment">// yzm的整html结构，我们在函数内部自动生成，不写死</span>
    <span class="token comment">// yzm中的数字和字母是自动生成的，背景干扰图片也是自动生成</span>

    <span class="token keyword">function</span> <span class="token function">addYzm</span><span class="token punctuation">(</span><span class="token parameter">element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 首先创建yzm的html结构</span>
      <span class="token keyword">var</span> yzm <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      yzm<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;yzm&quot;</span><span class="token punctuation">;</span>
      yzm<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;width: 120px; height: 40px;position: relative;&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 生成yzm-code</span>
      <span class="token keyword">var</span> yzmCode <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      yzmCode<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;yzm-code&quot;</span><span class="token punctuation">;</span>
      yzmCode<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span>
        <span class="token string">&quot; box-sizing: border-box;height: 100%;background-color: #ddd;text-align: center; line-height: 40px;font-size: 0;&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 生成验证码背景图</span>
      <span class="token keyword">var</span> yzmBg <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      yzmBg<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;yzm-bg&quot;</span><span class="token punctuation">;</span>
      yzmBg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span>
        <span class="token string">&quot; background-color: khaki;width: 100%;height: 100%;position: absolute;top: 0;left: 0; background: url(./images/yzm/line1.png) no-repeat center;background-size: cover;cursor: pointer;&quot;</span><span class="token punctuation">;</span>

      <span class="token comment">// 把 yzmCode 添加到yzm中去</span>
      yzm<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>yzmCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
      yzm<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>yzmBg<span class="token punctuation">)</span><span class="token punctuation">;</span>
      container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>yzm<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 调用下更新验证码的函数</span>
      <span class="token function">updateYzmCode</span><span class="token punctuation">(</span>yzmCode<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 给yzm这个元素添加一下点击事件,点击后到更新验证码</span>
      yzm<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> updateYzm<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">function</span> <span class="token function">updateYzm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">updateYzmCode</span><span class="token punctuation">(</span>yzmCode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">updateYzmBg</span><span class="token punctuation">(</span>yzmBg<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 更新验证码中的数写与字母</span>
    <span class="token keyword">function</span> <span class="token function">updateYzmCode</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 在赋值前，先把之前内容全部清空</span>
      el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 生成yzm-code中的span标签</span>
      <span class="token comment">// 内容是随机的，颜色是随机的</span>
      <span class="token comment">// var codeArr=[0,1,2,3,4,5,6,7,8,9,&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;];</span>
      <span class="token keyword">var</span> codeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;f&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> colorArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&quot;#000&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;skyblue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;orange&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tomato&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 生成一个span标签</span>
        <span class="token keyword">var</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span>
          <span class="token string">&quot; font-size: 26px; font-weight: bold;  user-select: none;&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 生成span标签中的内容</span>
        <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> codeArr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
        span<span class="token punctuation">.</span>innerText <span class="token operator">=</span> codeArr<span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// 生成span标签的颜色</span>
        <span class="token keyword">var</span> color <span class="token operator">=</span> colorArr<span class="token punctuation">[</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> colorArr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        span<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> color<span class="token punctuation">;</span>

        <span class="token comment">// 把每一次生成的span标签，添加到yzm-code中去</span>
        el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 更新验证码背景图片的函数  el表示要更新背景图片的那个元素</span>
    <span class="token keyword">function</span> <span class="token function">updateYzmBg</span><span class="token punctuation">(</span><span class="token parameter">el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> bgArr <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;./images/yzm/line1.png&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;./images/yzm/line2.png&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;./images/yzm/line3.png&quot;</span><span class="token punctuation">,</span>
        <span class="token string">&quot;./images/yzm/line4.png&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> bgIndex <span class="token operator">=</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> bgArr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
      <span class="token keyword">var</span> imgUrl <span class="token operator">=</span> bgArr<span class="token punctuation">[</span>bgIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>
      el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage <span class="token operator">=</span> <span class="token string">&quot;url(&quot;</span> <span class="token operator">+</span> imgUrl <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">addYzm</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-6、案例-6-点击换肤效果" tabindex="-1"><a class="header-anchor" href="#_2-6、案例-6-点击换肤效果" aria-hidden="true">#</a> 2.6、案例 6：点击换肤效果</h3><p>涉及知识点</p><ul><li>操作元素身上自定义属性</li><li>元素的显示与隐藏</li></ul><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-12-22-19-28.6b9ed608.gif" alt="GIF 2022-10-12 22-19-28"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">body,
  ul,
  li</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">ul</span> <span class="token punctuation">{</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">html,
  body</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.clearfix::after</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.body-img</span> <span class="token punctuation">{</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./images/skin/big1.jpg<span class="token punctuation">)</span></span> no-repeat<span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.update-skin</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.skin-container</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 540px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-50%<span class="token punctuation">,</span> -50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.skin-container ul li</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 260px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 163px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">span.close</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #000<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> -15px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> -15px<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.mask</span> <span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.7<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>body-img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>update-skin<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>J_skin<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>更换皮肤<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 黑色半透明遮罩层 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mask<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>J_mask<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 图片列表弹窗 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>skin-container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>J_container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>close<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>X<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>clearfix<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/min1.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/big1.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/min2.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/big2.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/min3.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/big3.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/min4.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-img</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/big4.jpg<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 获取点击按扭</span>
    <span class="token keyword">var</span> skin <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;J_skin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取半透明的遮罩层</span>
    <span class="token keyword">var</span> mask <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;J_mask&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 获取图片弹窗列表</span>
    <span class="token keyword">var</span> skinContainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;J_container&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 关半按扭</span>
    <span class="token keyword">var</span> close <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#J_container .close&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 点击换肤按扭</span>
    skin<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span>
      skinContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 点击关闭按扭</span>
    close<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
      skinContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 点击图片，更换背景图</span>
    <span class="token keyword">var</span> imgList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;#J_container ul li img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> seletedImg <span class="token operator">=</span> imgList<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 最开始选中的那一项</span>
    seletedImg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>outline <span class="token operator">=</span> <span class="token string">&quot;2px solid red&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 最开始选中那一项样式</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> imgList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      imgList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 排他思想，清除前一次被选中元素样式</span>
        seletedImg<span class="token punctuation">.</span>style<span class="token punctuation">.</span>outline <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
        <span class="token comment">// 当前元素样式</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>outline <span class="token operator">=</span> <span class="token string">&quot;2px solid red&quot;</span><span class="token punctuation">;</span>
        seletedImg <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> url <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>img<span class="token punctuation">;</span>
        document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundImage <span class="token operator">=</span> <span class="token string">&quot;url(&quot;</span> <span class="token operator">+</span> url <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、onmouseover-和-onmouseout-事件" tabindex="-1"><a class="header-anchor" href="#_3、onmouseover-和-onmouseout-事件" aria-hidden="true">#</a> 3、onmouseover 和 onmouseout 事件</h3><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">onmouseover</td><td style="text-align:left;">当鼠标进入某个对象</td></tr><tr><td style="text-align:left;">onmouseout</td><td style="text-align:left;">当鼠标离开某个对象</td></tr></tbody></table><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    box<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标悬停在box上&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    box<span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标离开了box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-1、案例-1-鼠标滑动-表格隔行变色" tabindex="-1"><a class="header-anchor" href="#_3-1、案例-1-鼠标滑动-表格隔行变色" aria-hidden="true">#</a> 3.1、案例 1：鼠标滑动，表格隔行变色</h3><p><img src="data:image/gif;base64,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" alt="GIF 2022-10-12 23-08-10"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">ul li</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 400px<span class="token punctuation">;</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">ul li:nth-child(even)</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">ul li:nth-child(odd)</span> <span class="token punctuation">{</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #f5f5f5<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">/* ul li:hover {
    background-color: plum;
    } */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> liList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;ul li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> currbg<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> liList<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 鼠标悬停</span>
      liList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        currbg <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor<span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;plum&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      <span class="token comment">// 鼠标离开</span>
      liList<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onmouseout</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> currbg<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-2、案例-2-扫图游戏" tabindex="-1"><a class="header-anchor" href="#_3-2、案例-2-扫图游戏" aria-hidden="true">#</a> 3.2、案例 2：扫图游戏</h3><blockquote><p>当图形中的花全部被扫出来，整个游戏就结束了</p></blockquote><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-13-0-48-44.39023a13.gif" alt="GIF 2022-10-13 0-48-44"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">body,
  ul,
  li</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">li</span> <span class="token punctuation">{</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.container</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>

    <span class="token property">border</span><span class="token punctuation">:</span> 2px solid red<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 50px auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.container h1</span> <span class="token punctuation">{</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.game</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span>./images/games/flower.png<span class="token punctuation">)</span></span><span class="token punctuation">;</span>
    <span class="token property">background-size</span><span class="token punctuation">:</span> cover<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">ul li</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.mask</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0.6<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>扫图游戏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>game<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!-- li的布局，用js生成 --&gt;</span>
      <span class="token comment">&lt;!-- &lt;ul&gt;
          &lt;li&gt;&lt;/li&gt;
          &lt;li&gt;&lt;/li&gt;
          &lt;li&gt;&lt;/li&gt;
          &lt;li&gt;&lt;/li&gt;
          &lt;li&gt;&lt;/li&gt;
        &lt;/ul&gt; --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>mask<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token comment">// 创建ul列表</span>
    <span class="token keyword">var</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;ul&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> game <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.game&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> mask <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.mask&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 记录结果数组中被扫过的元素个数，如果sum等于data.lenght表示游戏结束</span>
    <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">39</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">54</span><span class="token punctuation">,</span> <span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">56</span><span class="token punctuation">,</span> <span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">67</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span>
      <span class="token number">69</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">71</span><span class="token punctuation">,</span> <span class="token number">72</span><span class="token punctuation">,</span> <span class="token number">73</span><span class="token punctuation">,</span> <span class="token number">74</span><span class="token punctuation">,</span> <span class="token number">75</span><span class="token punctuation">,</span> <span class="token number">76</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">,</span> <span class="token number">83</span><span class="token punctuation">,</span> <span class="token number">84</span><span class="token punctuation">,</span> <span class="token number">85</span><span class="token punctuation">,</span> <span class="token number">86</span><span class="token punctuation">,</span> <span class="token number">87</span><span class="token punctuation">,</span> <span class="token number">88</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">91</span><span class="token punctuation">,</span> <span class="token number">92</span><span class="token punctuation">,</span>
      <span class="token number">93</span><span class="token punctuation">,</span> <span class="token number">99</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">102</span><span class="token punctuation">,</span> <span class="token number">103</span><span class="token punctuation">,</span> <span class="token number">104</span><span class="token punctuation">,</span> <span class="token number">105</span><span class="token punctuation">,</span> <span class="token number">106</span><span class="token punctuation">,</span> <span class="token number">107</span><span class="token punctuation">,</span> <span class="token number">108</span><span class="token punctuation">,</span> <span class="token number">115</span><span class="token punctuation">,</span> <span class="token number">116</span><span class="token punctuation">,</span> <span class="token number">117</span><span class="token punctuation">,</span> <span class="token number">118</span><span class="token punctuation">,</span>
      <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">121</span><span class="token punctuation">,</span> <span class="token number">122</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">124</span><span class="token punctuation">,</span> <span class="token number">130</span><span class="token punctuation">,</span> <span class="token number">131</span><span class="token punctuation">,</span> <span class="token number">132</span><span class="token punctuation">,</span> <span class="token number">133</span><span class="token punctuation">,</span> <span class="token number">134</span><span class="token punctuation">,</span> <span class="token number">135</span><span class="token punctuation">,</span> <span class="token number">136</span><span class="token punctuation">,</span> <span class="token number">137</span><span class="token punctuation">,</span> <span class="token number">138</span><span class="token punctuation">,</span>
      <span class="token number">139</span><span class="token punctuation">,</span> <span class="token number">147</span><span class="token punctuation">,</span> <span class="token number">148</span><span class="token punctuation">,</span> <span class="token number">149</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">151</span><span class="token punctuation">,</span> <span class="token number">152</span><span class="token punctuation">,</span> <span class="token number">153</span><span class="token punctuation">,</span> <span class="token number">166</span><span class="token punctuation">,</span> <span class="token number">167</span><span class="token punctuation">,</span> <span class="token number">168</span><span class="token punctuation">,</span> <span class="token number">169</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> <span class="token number">12</span> <span class="token operator">*</span> <span class="token number">16</span><span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      li<span class="token punctuation">.</span>index <span class="token operator">=</span> k<span class="token punctuation">;</span> <span class="token comment">// 把序号记录在元素自身自定义属性上</span>
      ul<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// 给每一个li添加一个onmouseover事件</span>
      li<span class="token punctuation">.</span><span class="token function-variable function">onmouseover</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// 如果sum===data.length，表示游戏结束</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>sum <span class="token operator">===</span> data<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          mask<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">var</span> i <span class="token operator">=</span> data<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 如果扫到数组中元素，则sum+1</span>
          sum<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 被扫过的元素，把身上的onmouseover事件取消</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>onmouseover <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    game<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>ul<span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>还有一个综合案例：放大镜效果，放在后面的综合案例应用中讲解</p></blockquote><h3 id="_4、onmousedown、onmouseup-和-onmousemove" tabindex="-1"><a class="header-anchor" href="#_4、onmousedown、onmouseup-和-onmousemove" aria-hidden="true">#</a> 4、onmousedown、onmouseup 和 onmousemove</h3><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">onmousedown</td><td style="text-align:left;">当某个鼠标按键在某个对象上被按下时触发</td></tr><tr><td style="text-align:left;">onmouseup</td><td style="text-align:left;">当某个鼠标按键在某个对象上被松开时触发</td></tr><tr><td style="text-align:left;">onmousemove</td><td style="text-align:left;">当某个鼠标按键在某个对象上被移动时触发</td></tr></tbody></table><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标在box上按下&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onmouseup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标在box上抬起&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标在box移动&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>代码解读</p><ul><li>onmousedown 只会在鼠标按键被按下时触发一次</li><li>onmouseup 只会在鼠标标按键松开时触发一次</li><li>onmousemove 的触发频率特别高，只要稍会移动下，就会触发好多次</li></ul><p>相关案例：参考本章综合案例应用中以下两个案例</p><ul><li>案例 1：拖拽动画</li><li>案例 2：拖拽交换两元素位置</li></ul><h2 id="三、常见键盘事件-keypress、keydown-和-keyup-事件" tabindex="-1"><a class="header-anchor" href="#三、常见键盘事件-keypress、keydown-和-keyup-事件" aria-hidden="true">#</a> 三、常见键盘事件（keypress、keydown 和 keyup 事件）</h2><blockquote><p>以下是常见的键盘事件</p></blockquote><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">onkeypress</td><td style="text-align:left;"><strong>被弃用</strong> （他会后于 onkeydown 触发）</td></tr><tr><td style="text-align:left;">onkeydown</td><td style="text-align:left;">当某个键盘的键被按下（系统按钮可以识别）</td></tr><tr><td style="text-align:left;">onkeyup</td><td style="text-align:left;">当某个键盘的键被松开</td></tr></tbody></table><p>注：</p><ul><li>一般使用键盘事件都是 document 和 input</li><li>如果需要在一个 div 中使用时，需要在 div 中增加<code>contenteditable=&quot;true&quot;</code></li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>姓名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nameField<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> nameField <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;nameField&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 当某个键盘的键被按下（系统按钮可以识别，并且会先于onkeypress发生）</span>
  nameField<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是 onkeydown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 当某个键盘的键被松开</span>
  nameField<span class="token punctuation">.</span><span class="token function-variable function">onkeyup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是 onkeyup&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221018191515362.4b69d4c5.png" alt="image-20221018191515362"></p><blockquote><p>通过 keyup 事件，来获取每次键盘抬起时，文本输入框中的内容</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>姓名：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>nameField<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> nameField <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;nameField&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  nameField<span class="token punctuation">.</span><span class="token function-variable function">onkeyup</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/GIF-2022-11-2-14-49-27.e8b0bbd4.gif" alt="GIF 2022-11-2 14-49-27"></p><p>注：</p><p>相关案例：参考本章综合案例应用中的第 3 个案例</p><p>案例 3：键盘控制元素运动</p><h2 id="四、常见表单事件" tabindex="-1"><a class="header-anchor" href="#四、常见表单事件" aria-hidden="true">#</a> 四、常见表单事件</h2><blockquote><p>常见的表单事件如下</p></blockquote><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">change</td><td style="text-align:left;">当用户改变域的内容</td></tr><tr><td style="text-align:left;">focus</td><td style="text-align:left;">当某元素获得焦点（比如 tab 键或鼠标点击）</td></tr><tr><td style="text-align:left;">blur</td><td style="text-align:left;">当某元素失去焦点</td></tr></tbody></table><h3 id="_1、focus-和-blur-事件" tabindex="-1"><a class="header-anchor" href="#_1、focus-和-blur-事件" aria-hidden="true">#</a> 1、focus 和 blur 事件</h3><ul><li>当文本框获取焦点 focus 时，文本框背景色变蓝</li><li>当文本框失去焦点 blur 时，取消蓝色背景，同时在控制台打印输入框内容</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;focus&quot;</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  input<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;blur&quot;</span><span class="token punctuation">,</span> fn2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 获取焦点事件处理函数</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;skyblue&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 失去焦点事件处理函数</span>
  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-27-18-02-24.9e6b5977.gif" alt="GIF 2022-10-27 18-02-24"></p><p>注：</p><p>相关案例：参考本章综合案例应用中的第 5 个案例</p><p>案例 5：表单验证提示效果</p><h3 id="_2、change-事件" tabindex="-1"><a class="header-anchor" href="#_2、change-事件" aria-hidden="true">#</a> 2、change 事件</h3><p>change 事件，只会在内容发生改变时才触发，如果重复选择，内容不变，不会触发</p><blockquote><p><strong>案例</strong>：当选中下拉列表中的某个元素，把对应选中的内容显示在控制台</p></blockquote><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-27-19-26-02.01f62f6b.gif" alt="GIF 2022-10-27 19-26-02"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>你最喜欢的水果
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>friut<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>apple<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>苹果<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>banana<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>香蕉<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pear<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>梨子<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>watermelon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>西瓜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> friut <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;friut&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  friut<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span> <span class="token comment">// 被选中元素的下标</span>
    <span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span> <span class="token comment">// 被选中元素的value值,如 pear</span>
    <span class="token keyword">var</span> text <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>text<span class="token punctuation">;</span> <span class="token comment">// 被选中元素的文本 如 梨子</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> text<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、二级联动下拉" tabindex="-1"><a class="header-anchor" href="#_3、二级联动下拉" aria-hidden="true">#</a> 3、二级联动下拉</h3><p>涉及知识点</p><ul><li>多级联动的原理</li><li>自定义数据结构</li><li>change 事件</li><li>如何利用自定义属性保存数据</li><li>DOM 创建与添加</li><li>DOM 片段 createDocumentFragment</li></ul><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-27-19-04-39.f8313e8a.gif" alt="GIF 2022-10-27 19-04-39"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>province<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 
&lt;option data-city=&quot;长沙市,株洲市,湘潭市,常德市&quot;&gt;&lt;/option&gt;
&lt;option data-city=&quot;西安市,铜川市,咸阳市,安康市,宝鸡市&quot;&gt;&lt;/option&gt;
&lt;option data-city=&quot;成都市,广元市,德阳市,眉山市&quot;&gt;&lt;/option&gt;
--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>city<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 
&lt;option value=&quot;&quot;&gt;长沙市&lt;/option&gt;
&lt;option value=&quot;&quot;&gt;株洲市&lt;/option&gt;
&lt;option value=&quot;&quot;&gt;湘潭市&lt;/option&gt;
&lt;option value=&quot;&quot;&gt;常德市&lt;/option&gt;
--&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">province</span><span class="token operator">:</span> <span class="token string">&quot;湖南&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;长沙市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;株洲市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;湘潭市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;常德市&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">province</span><span class="token operator">:</span> <span class="token string">&quot;陕西&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;西安市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;铜川市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;咸阳市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;安康市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;宝鸡市&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">province</span><span class="token operator">:</span> <span class="token string">&quot;四川&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;成都市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;广元市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;德阳市&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;眉山市&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// 首先是拿到两个下拉列表对象</span>
  <span class="token keyword">var</span> province <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;province&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> city <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;city&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">init</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 数据初始化</span>
  <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 先填充 省份</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;option&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      option<span class="token punctuation">.</span>text <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>province<span class="token punctuation">;</span>
      <span class="token comment">// 把对应的市数据绑定到他的自定义属性中</span>
      option<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>city <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>city<span class="token punctuation">;</span>
      frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    province<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 填充对应的市数据</span>
    <span class="token function">addCityDate</span><span class="token punctuation">(</span>city<span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 给下拉列表绑定change事件</span>
  province<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> addCity<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">addCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 第一种:拿到对应省份名字，然后去总数据data去查询对应省份的市信息</span>
    <span class="token keyword">var</span> _index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
    <span class="token comment">// var text = this.options[_index].text; // 湖南  陕西</span>
    <span class="token comment">// 获取被选中元素自定义属性中的市信息</span>
    <span class="token keyword">var</span> cityDate <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>city<span class="token punctuation">;</span>
    <span class="token comment">// 把获取到的市信息转换成对应的数组，便于后期操作</span>
    <span class="token comment">// [&#39;西安市&#39;, &#39;铜川市&#39;, &#39;咸阳市&#39;, &#39;安康市&#39;, &#39;宝鸡市&#39;]</span>
    cityDate <span class="token operator">=</span> cityDate<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 拿省对应的市数据</span>
    <span class="token comment">// var cityDate = filter(text, data);</span>
    <span class="token comment">//填充对应的市下拉列表</span>
    <span class="token function">addCityDate</span><span class="token punctuation">(</span>city<span class="token punctuation">,</span> cityDate<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">//定义一个函数，通过省份名字，返回对应省份的市信息</span>
  <span class="token keyword">function</span> <span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">province<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>province <span class="token operator">===</span> province<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>city<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//用市数据来填充市下拉列表</span>
  <span class="token keyword">function</span> <span class="token function">addCityDate</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 加数据前，要把原来的数据清空</span>
    <span class="token keyword">var</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;option&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      option<span class="token punctuation">.</span>text <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
      frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、省市区三级联动" tabindex="-1"><a class="header-anchor" href="#_4、省市区三级联动" aria-hidden="true">#</a> 4、省市区三级联动</h3><p><img src="https://www.arryblog.com/assets/img/GIF2022-11-101-15-49.7d47a3ea.gif" alt="GIF2022-11-101-15-49"></p><blockquote><p>省市区三级联动 JSON 数据包下载：<code>data.js</code> （该文件在钉钉裙文件中可下载）</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>area<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 我们需要利用JS来动态创建三个下拉列表，同时把对应的数据填充好，然后再一次性插入到页面中来</span>
  <span class="token keyword">var</span> area <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;area&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> selectArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 用来保存初始的三个下拉列表</span>
  <span class="token function">init</span><span class="token punctuation">(</span>area<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 初始化函数</span>
  <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建下拉列表</span>
    <span class="token keyword">var</span> select <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;select&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个下拉列表</span>
    selectArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// select.addEventListener(&#39;change&#39;,fn,false);</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 创建option</span>
      <span class="token keyword">var</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;option&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 这里是重点，这个对应的id等下要用来找数据</span>
      option<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">;</span>
      option<span class="token punctuation">.</span>text <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>fullname<span class="token punctuation">;</span>
      select<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 递归调用 初始化市 区数据</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">init</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 开始级省份下拉列表添加change事件</span>
  selectArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 查找省份对应的id，然后用他来查找省份对应的市数据</span>
    <span class="token keyword">var</span> _index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
    <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment">// 找到对应省份的市数据 ，首先找到对应省份，然后找到对应的市数据，然后再填充</span>
    <span class="token comment">// 直接拿着对应的省份，去所有数据中找，然后把对应市数据拿到</span>
    <span class="token keyword">var</span> children <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 拿省份对应的市数据，那就开始填充数据</span>
    <span class="token function">addDate</span><span class="token punctuation">(</span>selectArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 驱动区数据的变化</span>
    <span class="token function">addDate</span><span class="token punctuation">(</span>selectArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 开始市级下拉列表添加change事件</span>
  selectArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
    <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token comment">// 拿市 id要去找对应的区数据</span>
    <span class="token keyword">var</span> children <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 填充数据</span>
    <span class="token function">addDate</span><span class="token punctuation">(</span>selectArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 填充数据，el谁里面填数据 data用来填充的数据</span>
  <span class="token keyword">function</span> <span class="token function">addDate</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 往el中填数据前，要清空之前数据</span>
    <span class="token keyword">var</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;option&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      option<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">;</span>
      option<span class="token punctuation">.</span>text <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>fullname<span class="token punctuation">;</span>
      frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token doc-comment comment">/**
   * find 根据pid 或 cid 或aid来查找对应省或市或区的下一级
   * id为对应pid或 cid或aid
   * data为省市区数据
   * n表示递归的深度
   */</span>
  <span class="token keyword">function</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> data<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> result<span class="token punctuation">;</span>
    <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    n <span class="token operator">=</span> n <span class="token operator">||</span> <span class="token number">100</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> data<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> data<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 数据遍历</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 退出整个for循环</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">===</span> id <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">===</span> id <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid <span class="token operator">===</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          result <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">;</span>
          flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 找到了标记为true,用来退出后面所有for循环</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 或 return result;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            n<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 调用递归就开始减</span>
            <span class="token function">search</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 值</span>
            n<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5、省市区-数据查询策略-深度全面查询" tabindex="-1"><a class="header-anchor" href="#_5、省市区-数据查询策略-深度全面查询" aria-hidden="true">#</a> 5、省市区 - 数据查询策略 - 深度全面查询</h3><p><strong>深度全面查询</strong>：</p><ul><li>根据传递的（pid、cid、aid)来查询对应省、市、区的 children</li><li>不管 id 是省份 pid 还是 cid，还是 aid，其查询规则是，先深度后广度</li><li>查询顺序：（第一个省、第一个市、所有区 <code>----&gt;</code> 第二个市 、所有区<code>----&gt;</code> ......当前省下所有市区都查完。</li></ul><blockquote><p>按上面顺序查询第 2，3，4.....省）中间只要查到，就不再查询，返回对应结果</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * find 根据pid 或 cid 或aid来查找对应省或市或区的下一级
 * id为对应pid或 cid或aid
 * data为省市区数据
 * n表示递归的深度
 */</span>
<span class="token keyword">function</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> data<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> result<span class="token punctuation">;</span>
  <span class="token keyword">var</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// 用来标记，退出整个for循环</span>
  n <span class="token operator">=</span> n <span class="token operator">||</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">search</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> data<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token parameter">id<span class="token punctuation">,</span> data<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 递归深度达到 或  数据不存在，则退出</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> <span class="token operator">!</span>data<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>

    <span class="token comment">// 数据遍历</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 退出整个for循环</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">===</span> id <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">===</span> id <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid <span class="token operator">===</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">;</span>
        flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// 找到了标记为true,用来退出后面所有for循环</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 或 return result;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        n<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token comment">// 调用递归就开始减</span>
        <span class="token function">search</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 值</span>
        n<span class="token operator">++</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;130000&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;130200&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;130203&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_6、省市区-数据查询策略-逐级查询" tabindex="-1"><a class="header-anchor" href="#_6、省市区-数据查询策略-逐级查询" aria-hidden="true">#</a> <strong>6、省市区 - 数据查询策略 - 逐级查询</strong></h3><ul><li>根据对应省 pid 查询对应省下面市信息</li><li>根据对应省 pid 和市 cid 查询对应省-市下面的区信息</li><li>根据省 pid 和市 cid 及 aid，查询对应省-市-区下面街道信息。因数据中没有提供区的下一级，即返回 null</li></ul><p>我们定义一个对象 ids，用来保存要查询的 id，然后当前参数传到 find 函数中</p><ul><li>查省对应市 <code>var ids = {pid: &quot;130000&quot;}</code>;</li><li>查省-市对应区<code>var ids = {pid: &quot;130000&quot;,cid: &quot;130100&quot;}</code>;</li><li>查省-市-区对应街道 <code>var ids = {pid: &quot;130000&quot;,cid: &quot;130100&quot;,aid: &quot;130102&quot;}</code>;</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token doc-comment comment">/**
 * find 根据传递id集合，找到对应市、区、街道信息
 * ids查询id集合   <span class="token punctuation">{</span> pid: &quot;130000&quot;, cid: &quot;130100&quot; <span class="token punctuation">}</span>
 * data 查询的数据
 */</span>

<span class="token comment">//   var a = 0;  查看查询的次数</span>
<span class="token keyword">function</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">ids<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 遍历对象</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> ids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// a++;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>
        <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">===</span> ids<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span>
        <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">===</span> ids<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span>
        <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid <span class="token operator">===</span> ids<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        data <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">;</span> <span class="token comment">// 每一轮查找下一轮要查询的数据</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 找到了就退出，不找了，只退出第一层for循环</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// console.log(a);</span>
  <span class="token keyword">return</span> data <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//   find({ pid: &quot;130000&quot; }, data);</span>
<span class="token comment">//   find({ pid: &quot;130000&quot;, cid: &quot;130100&quot; }, data);</span>
<span class="token comment">//   find({ pid: &quot;130000&quot;, cid: &quot;130100&quot;, aid: &quot;130102&quot; }, data);</span>

<span class="token comment">//   find({ pid: &quot;820000&quot; }, data);</span>
<span class="token comment">//   find({  pid: &quot;820000&quot;, cid: &quot;820000&quot; }, data);</span>
<span class="token comment">//   find({ pid: &quot;820000&quot;, cid: &quot;820000&quot;, aid: &quot;820101&quot; }, data);</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>如何记录每个下拉列表当前被选中项的 <code>pid</code>或<code>cid</code>或<code>aid</code>的值呢 ？ 在当前对象上添加一个属性，用来记录。</p></blockquote><ul><li><code>init()</code> 函数初始化时，给对象添加对应属性保存对应值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>select<span class="token punctuation">.</span>pid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>select<span class="token punctuation">.</span>cid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cid<span class="token punctuation">)</span><span class="token punctuation">;</span>
data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>aid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>select<span class="token punctuation">.</span>aid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>对应的 change 事件中</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span>pid <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token comment">// 或</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>cid <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
<span class="token comment">// 或</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>aid <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>addDate 函数中</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>el<span class="token punctuation">.</span>pid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>pid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span>cid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>cid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cid<span class="token punctuation">)</span><span class="token punctuation">;</span>
el<span class="token punctuation">.</span>aid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>aid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>完整实现</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>area<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 我们需要利用JS来动态创建三个下拉列表，同时把对应的数据填充好，然后再一次性插入到页面中来</span>
  <span class="token keyword">var</span> area <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;area&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> selectArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 用来保存初始的三个下拉列表</span>
  <span class="token function">init</span><span class="token punctuation">(</span>area<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 初始化函数</span>
  <span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建下拉列表</span>
    <span class="token keyword">var</span> select <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;select&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建一个下拉列表</span>
    selectArr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// select.addEventListener(&#39;change&#39;,fn,false);</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 创建option</span>
      <span class="token keyword">var</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;option&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 这里是重点，这个对应的id等下要用来找数据</span>
      option<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">;</span>
      option<span class="token punctuation">.</span>text <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>fullname<span class="token punctuation">;</span>
      select<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>select<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 保存对应pid或cid 或 aid到对象身上</span>
    data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>select<span class="token punctuation">.</span>pid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>select<span class="token punctuation">.</span>cid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>aid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>select<span class="token punctuation">.</span>aid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 递归调用 初始化市 区数据</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">init</span><span class="token punctuation">(</span>el<span class="token punctuation">,</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 开始级省份下拉列表添加change事件</span>
  selectArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 查找省份对应的id，然后用他来查找省份对应的市数据</span>
    <span class="token keyword">var</span> _index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
    <span class="token keyword">var</span> pid <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pid <span class="token operator">=</span> pid<span class="token punctuation">;</span> <span class="token comment">// 保存pid</span>
    <span class="token comment">// 找到对应省份的市数据 ，首先找到对应省份，然后找到对应的市数据，然后再填充</span>
    <span class="token comment">// 直接拿着对应的省份，去所有数据中找，然后把对应市数据拿到</span>
    <span class="token keyword">var</span> children <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> pid <span class="token punctuation">}</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 拿省份对应的市数据，那就开始填充数据</span>
    <span class="token function">addDate</span><span class="token punctuation">(</span>selectArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> children<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 驱动区数据的变化</span>
    <span class="token function">addDate</span><span class="token punctuation">(</span>selectArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> children<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 开始市级下拉列表添加change事件</span>
  selectArr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
    <span class="token keyword">var</span> cid <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cid <span class="token operator">=</span> cid<span class="token punctuation">;</span> <span class="token comment">// 保存id</span>
    <span class="token comment">// 拿市 id要去找对应的区数据</span>

    <span class="token keyword">var</span> children <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">pid</span><span class="token operator">:</span> selectArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">,</span> <span class="token literal-property property">cid</span><span class="token operator">:</span> cid <span class="token punctuation">}</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 填充数据</span>
    <span class="token function">addDate</span><span class="token punctuation">(</span>selectArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> children<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  selectArr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onchange</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> _index <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
    <span class="token keyword">var</span> id <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">[</span>_index<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>aid <span class="token operator">=</span> id<span class="token punctuation">;</span> <span class="token comment">// 保存aid</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 填充数据，el谁里面填数据 data用来填充的数据</span>
  <span class="token keyword">function</span> <span class="token function">addDate</span><span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    el<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 往el中填数据前，要清空之前数据</span>
    el<span class="token punctuation">.</span>pid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>pid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>pid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span>cid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>cid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>cid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    el<span class="token punctuation">.</span>aid <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>el<span class="token punctuation">.</span>aid <span class="token operator">=</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> frag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> option <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;option&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      option<span class="token punctuation">.</span>value <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">||</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">;</span>
      option<span class="token punctuation">.</span>text <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>fullname<span class="token punctuation">;</span>
      frag<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    el<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>frag<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">function</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">ids<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 遍历对象</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> ids<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// a++;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>
          <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">===</span> ids<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span>
          <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">===</span> ids<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">||</span>
          <span class="token punctuation">(</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid <span class="token operator">===</span> ids<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          data <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>children<span class="token punctuation">;</span> <span class="token comment">// 每一轮查找下一轮要查询的数据</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span> <span class="token comment">// 找到了就退出，不找了，只退出第一层for循环</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// console.log(a);</span>
    <span class="token keyword">return</span> data <span class="token operator">||</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 无关函数，用来询对象身上的pid或cid 或 aid属性</span>
  <span class="token keyword">function</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> selectArr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>selectArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>pid <span class="token operator">||</span> selectArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>cid <span class="token operator">||</span> selectArr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>aid<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、dom-事件流" tabindex="-1"><a class="header-anchor" href="#五、dom-事件流" aria-hidden="true">#</a> 五、DOM 事件流</h2><p>本章要学习 DOM 事件流相关内容，我会从以下 5 个方面展开讲解</p><ul><li>什么是事件流</li><li>如何监听事件捕获与冒泡</li><li>不支持事件冒泡的事件</li><li>on 与 addEventListener 两者区别</li></ul><h3 id="_1、事件流" tabindex="-1"><a class="header-anchor" href="#_1、事件流" aria-hidden="true">#</a> 1、事件流</h3><p>在了解什么是事件流之前，我们先来回答下面这个问题。</p><ul><li>以下图中的四个圆 A、B、C、D 共用一个圆心，这个圆心称为同心圆。如果用手指点击中心，那我们按住了哪个圆？</li><li>实际上我们<strong>按住了所有的圆</strong></li></ul><p><img src="https://www.arryblog.com/assets/img/image-20221102154051995.0f6ef934.png" alt="image-20221102154051995"></p><blockquote><p>网页事件监听也是类似的,如果多个元素发生嵌套，当我们点击最里面的元素，本质上相当于点击了所有元素。</p></blockquote><p>假设</p><p>以上图中的 A、B、C、D 为嵌套的 4 个 div 元素，当我在中心点点击后，则相当于四个 div 元素都触发了<code>click</code>点击事件。那事件触发的顺序是以下那种情况？</p><ul><li>第一种情况： A ---&gt; B ---&gt; C ---&gt; D</li><li>第二种情况： D ---&gt; C ---&gt; B ---&gt; A</li></ul><blockquote><p>以上两种情况都有可能，但在具体的应用中，到底是情况一，还是情况二呢？</p></blockquote><p>这就需要我们了解<strong>事件流</strong></p><ul><li>事件流描述了页面接收事件的顺序</li><li>事件流分为 3 个阶段：<strong>事件捕获</strong>、<strong>到达目标</strong>、<strong>事件冒泡</strong></li></ul><blockquote><p>事件的传播本质是：先从外到内，到达实际的目标元素，然后再从内到外</p></blockquote><ul><li>从外到内的阶段称为：<strong>事件捕获阶段</strong></li><li>从内到外的阶段称为：<strong>事件冒泡阶段</strong></li></ul><p><img src="https://www.arryblog.com/assets/img/image-20221102161900169.99f72adb.png" alt="image-20221102161900169"></p><p>注：</p><ul><li><strong>事件冒泡：</strong> 最先由 IE 公司提出，事件定义为从最具体的元素开始触发，然后向上传播至文档</li><li><strong>事件捕获：</strong> 最先由网景公司提出，事件定义为从最外层（最不具体的节点）开骀先收到（触发）事件，然后再传到具体的节点。</li></ul><blockquote><p>最后规范中规定事件流分为 3 个阶段：事件捕获、到达目标、事件冒泡</p></blockquote><h3 id="_2、如何监听事件捕获与冒泡" tabindex="-1"><a class="header-anchor" href="#_2、如何监听事件捕获与冒泡" aria-hidden="true">#</a> 2、如何监听事件捕获与冒泡</h3><p>监听事件有两种方式：</p><ul><li>on 开头方式</li><li>addEventListener 方式</li></ul><blockquote><p>那这两种方式在事件监听上有何不同 ？</p></blockquote><p>on 开头方式，只能监听到事件冒泡阶段，不支持监听事件捕获阶段</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 监听冒泡阶段</span>
element<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>style<span class="token operator">&gt;</span>
  #box3 <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token number">000</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  #box2 <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 100px<span class="token punctuation">;</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token number">000</span><span class="token punctuation">;</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> 50px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  #box1 <span class="token punctuation">{</span>
    <span class="token literal-property property">width</span><span class="token operator">:</span> 202px<span class="token punctuation">;</span>
    <span class="token literal-property property">height</span><span class="token operator">:</span> 202px<span class="token punctuation">;</span>
    <span class="token literal-property property">border</span><span class="token operator">:</span> 1px solid #<span class="token number">000</span><span class="token punctuation">;</span>
    <span class="token literal-property property">padding</span><span class="token operator">:</span> 50px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;box1&quot;</span><span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;box2&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;box3&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">var</span> box1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> box2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> box3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 监听冒泡阶段</span>
  box1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;冒泡，我是box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  box2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;冒泡，我是box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box3<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;冒泡，我是box3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221102163957973.586ccb88.png" alt="image-20221102163957973"></p><p>以上代码</p><p>on 方式只能监听到冒泡阶段，所以会先从 box3 开始，再 box2，最后 box1</p><p>addEventListener 方式监听事件。由它的第三个参数决定，是监听捕获还是冒泡阶段</p><ul><li>如果第三个参数是<code>true</code> ， 表示监听捕获阶段</li><li>如果第三个参数是<code>false</code> ，表示监听冒泡阶段</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 监听捕获阶段</span>
element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 监听冒泡阶段</span>
element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>代码演示</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">#box3</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#box2</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#box1</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 202px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 202px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #000<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> box2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> box3 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;box3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 监听捕获就阶段</span>
  box1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是box1的捕获阶段&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">true</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  box2<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是box2的捕获阶段&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">true</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  box3<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是box3的捕获阶段&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">true</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 监听冒泡阶段</span>
  box1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是box1的冒泡阶段&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  box2<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是box2的冒泡阶段&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  box3<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>
    <span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span>
    <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;我是box3的冒泡阶段&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token boolean">false</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221102164559088.a60c0529.png" alt="image-20221102164559088"></p><p>以上代码中</p><ul><li>当我们点击了<code>box3</code>时，事件是 先从 box1-box2-box3 捕获阶段。再由 box3-box2-box1 的冒泡阶段。</li><li>on 开头绑定事件的方式，只能监听到冒泡阶段</li><li>addEventListener 到底监听那个阶段，是由他的第三个参数决定的。</li></ul><h3 id="_3、mouseenter-和-mouseleave-事件不支持冒泡" tabindex="-1"><a class="header-anchor" href="#_3、mouseenter-和-mouseleave-事件不支持冒泡" aria-hidden="true">#</a> 3、mouseenter 和 mouseleave 事件不支持冒泡</h3><table><thead><tr><th style="text-align:left;">事件名</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">mouseenter</td><td style="text-align:left;">当鼠标进入某个对象（相似事件 onmouseover）不能向上冒泡</td></tr><tr><td style="text-align:left;">mouseleave</td><td style="text-align:left;">当鼠标离开某个对象（相似事件 onmouseout）不能向上冒泡</td></tr></tbody></table><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box1</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.box2</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> box2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// box1.addEventListener(&quot;mouseenter&quot;, fn1, false);</span>
  <span class="token comment">// box2.addEventListener(&quot;mouseenter&quot;, fn2, false);</span>

  <span class="token comment">// box1.addEventListener(&quot;mouseleave&quot;, fn1, false);</span>
  <span class="token comment">// box2.addEventListener(&quot;mouseleave&quot;, fn2, false);</span>

  <span class="token comment">// box1.addEventListener(&quot;mouseover&quot;, fn1, false);</span>
  <span class="token comment">// box2.addEventListener(&quot;mouseover&quot;, fn2, false);</span>

  box1<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseout&quot;</span><span class="token punctuation">,</span> fn1<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box2<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;mouseout&quot;</span><span class="token punctuation">,</span> fn2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、on-与-addeventlistener-两者监听事件的区别" tabindex="-1"><a class="header-anchor" href="#_4、on-与-addeventlistener-两者监听事件的区别" aria-hidden="true">#</a> 4、on 与 addEventListener 两者监听事件的区别</h3><table><thead><tr><th style="text-align:left;">区别</th><th style="text-align:left;">on 方式监听</th><th style="text-align:left;">addEventListener 方式监听</th></tr></thead><tbody><tr><td style="text-align:left;">事件捕获与冒泡</td><td style="text-align:left;">只能监听到冒泡阶段</td><td style="text-align:left;">第三个参数是 true，监听捕获阶段 第三个参数是 false ,监听冒泡阶段</td></tr><tr><td style="text-align:left;">事件处理函数</td><td style="text-align:left;">同一事件，只能有一个</td><td style="text-align:left;">同一事件，任意个都行</td></tr><tr><td style="text-align:left;">事件处理函数执行顺序</td><td style="text-align:left;">写在后面的覆盖前面的，以最后的一个为主</td><td style="text-align:left;">先执行捕获阶段，再执行冒泡阶段，在这两个阶段， 以代码书写时的顺序为主，从上往下执行每个事件处理函数</td></tr></tbody></table><ul><li>on 方式</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;on方式，第2个事件处理函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;on方式，第2个事件处理函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// 最终点击元素，只会执行最后一次监听的事件处理函数</span>
  <span class="token comment">// 写在后面的会覆盖前面的</span>
  <span class="token comment">// 占击元素，在控制台输出 &quot;on方式，第2个事件处理函数“</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221013030058931.2bd0aa42.png" alt="image-20221013030058931"></p><ul><li>addEventListener 方式</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn1<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;addEventListener方式，第1个事件处理函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;addEventListener方式，第2个事件处理函数&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// 最终点击元素，2个事件处理函数都会执行</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221013030023526.6faa6966.png" alt="image-20221013030023526"></p><h3 id="_5、经典面试题" tabindex="-1"><a class="header-anchor" href="#_5、经典面试题" aria-hidden="true">#</a> 5、经典面试题</h3><p>面试真题</p><p>给一个 DOM 同时绑定两个点击事件，一个用捕获，一个用冒泡，说下会执行几次事件，然后会先执行冒泡还是捕获（知乎）</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn1<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&quot;click&quot;</span><span class="token punctuation">,</span> fn2<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;事件捕获阶段&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">function</span> <span class="token function">fn2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;事件冒泡阶段&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><details class="custom-block details" style="display:block;position:relative;border-radius:2px;margin:1.6em 0px;padding:1.6em;background-color:rgb(238, 238, 238);"><summary style="outline:none;cursor:pointer;color:rgb(62, 175, 124);">自己先分析并完成题目，再点击查看正确答案</summary><p style="line-height:1.7;margin-bottom:0px;padding-bottom:0px;"></p></details><h3 id="_6、总结" tabindex="-1"><a class="header-anchor" href="#_6、总结" aria-hidden="true">#</a> 6、总结</h3><p>什么是事件流 ？</p><ul><li>事件流描述了页面接收事件的顺序</li><li>事件流分为 3 个阶段：<strong>事件捕获</strong>、<strong>到达目标</strong>、<strong>事件冒泡</strong></li></ul><p><strong>什么是事件捕获和事件冒泡 ？</strong></p><ul><li>事件捕获 ：事件由外向内传播，最后到达目标元素，这个阶段称为事件捕获阶段</li><li>事件冒泡：事件从目标元素由内向外传播，最后到达文档，这个阶段称为事件冒泡</li></ul><p><strong>如可监听事件捕获与事件冒泡 ？</strong></p><ul><li>on 开头的方式，只能监听到事件冒泡阶段，不能监听到事件捕获阶段</li><li>addEventListener 中的第三个参数，如果是 true，表示监听捕获阶段，如果为 false，表示监听冒阶段</li></ul><p><strong>on 与 addEventListenter 两种方式监听事件的区别 ？</strong></p><ul><li>on 同一事件只能添加一个事件处理函数，写在后面的会覆盖前面的</li><li>addEventListenter 方式，同一事件可以添加任意个事件处理函数，先执行捕获阶段，再执行冒泡阶段，捕获与冒泡阶段的事件函数处理顺序，是按代码从上往下的书写顺序来的。</li></ul><p><strong>注意事项：</strong></p><ul><li>在实际开发中，我们很少使用事件捕获，主要以事件冒泡这种形式为主。</li><li>有些事件不支持事件冒泡，比如：<code>onmouseenter 、 onmouseleave 、onload、onblur、onfocus</code></li><li>事件冒泡有时候会带来一些麻烦，我们需要阻止事件冒泡，这个后面会做相关讲解。</li></ul><h2 id="六、event-事件对象" tabindex="-1"><a class="header-anchor" href="#六、event-事件对象" aria-hidden="true">#</a> 六、event 事件对象</h2><ul><li>事件处理函数提供了一个形参，它是一个对象，封装了本次<strong>事件的所有细节</strong></li><li>这个参数通常用 单词<code>event</code>或<code>e</code>、<code>ev</code>表示</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>oBox<span class="token punctuation">.</span><span class="token function-variable function">onmousemove</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 对象e就是这次事件的 “事件对象”</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1、鼠标位置" tabindex="-1"><a class="header-anchor" href="#_1、鼠标位置" aria-hidden="true">#</a> 1、鼠标位置</h3><blockquote><p>事件对象 event 上提供了鼠标位置相关的属性，具体如下表</p></blockquote><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">clientX</td><td style="text-align:left;">鼠标指针相对于浏览器的水平坐标</td></tr><tr><td style="text-align:left;">clientY</td><td style="text-align:left;">鼠标指针相对于浏览器的垂直坐标</td></tr><tr><td style="text-align:left;">pageX</td><td style="text-align:left;">鼠标指针相对于整张网页的水平坐标</td></tr><tr><td style="text-align:left;">pageY</td><td style="text-align:left;">鼠标指针相对于整张网页的垂直坐标</td></tr><tr><td style="text-align:left;">offsetX</td><td style="text-align:left;">鼠标指针相对于事件源元素的水平坐标</td></tr><tr><td style="text-align:left;">offsetY</td><td style="text-align:left;">鼠标指针相对于事件源元素的垂直坐标</td></tr></tbody></table><h3 id="_1-1、clientx-和-clienty" tabindex="-1"><a class="header-anchor" href="#_1-1、clientx-和-clienty" aria-hidden="true">#</a> 1.1、clientX 和 clientY</h3><blockquote><p>clientX 和 clientY 分别表示：鼠标指针相对于浏览器的水平和垂直坐标</p></blockquote><p><img src="https://www.arryblog.com/assets/img/image-20211230134846195.9047cd81.png" alt="image-20211230134846195"></p><h3 id="_1-2、offsetx-和-offsety" tabindex="-1"><a class="header-anchor" href="#_1-2、offsetx-和-offsety" aria-hidden="true">#</a> 1.2、offsetX 和 offsetY</h3><blockquote><p>offsetX 和 offsetY 分别表示：鼠标指针相对于事件源元素的水平和垂直坐标</p></blockquote><p><img src="https://www.arryblog.com/assets/img/image-20211230134026215.5ecbe607.png" alt="image-20211230134026215"></p><h3 id="_1-3、pagex-和-pagey" tabindex="-1"><a class="header-anchor" href="#_1-3、pagex-和-pagey" aria-hidden="true">#</a> 1.3、pageX 和 pageY</h3><blockquote><p>pageX 和 pageY 分别表示：鼠标指针相对于整张网页的水平和垂直坐标</p></blockquote><p><img src="https://www.arryblog.com/assets/img/image-20211230135405150.0c568aea.png" alt="image-20211230135405150"></p><h3 id="_1-4、代码演示" tabindex="-1"><a class="header-anchor" href="#_1-4、代码演示" aria-hidden="true">#</a> 1.4、代码演示</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 300px auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">body</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 3000px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">var</span> box <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    box<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span>clientX<span class="token punctuation">;</span>
      <span class="token keyword">var</span> y <span class="token operator">=</span> e<span class="token punctuation">.</span>clientY<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标与浏览器顶部与左边&quot;</span><span class="token punctuation">,</span> x<span class="token punctuation">,</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">var</span> _x <span class="token operator">=</span> e<span class="token punctuation">.</span>offsetX<span class="token punctuation">;</span>
      <span class="token keyword">var</span> _y <span class="token operator">=</span> e<span class="token punctuation">.</span>offsetY<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标与事件源左边和上边&quot;</span><span class="token punctuation">,</span> _x<span class="token punctuation">,</span> _y<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">var</span> _pagex <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">;</span>
      <span class="token keyword">var</span> _pagey <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;鼠标与整个网页上边与左边距离&quot;</span><span class="token punctuation">,</span> _pagex<span class="token punctuation">,</span> _pagey<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221013014621554.cefdfacd.png" alt="image-20221013014621554"></p><h3 id="_2、e-key-和-e-code" tabindex="-1"><a class="header-anchor" href="#_2、e-key-和-e-code" aria-hidden="true">#</a> 2、e.key 和 e.code</h3><p>事件对象上提供了获取<strong>键盘键码</strong>相关的属性，主要与<code>onkeydown</code>、<code>onkeyup</code>事件结合使用。</p>`,245),k={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent/code",target:"_blank",rel:"noopener noreferrer"},r=a(`<table><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:left;">用处</th></tr></thead><tbody><tr><td style="text-align:left;">key</td><td style="text-align:left;">返回用户按下的物理按键的值。 按下的键如果是可打印内容，返回的就是对应按扭的值 如果是一个<strong>控制键或特殊字符</strong>，返回一个事先定义好的值，参考以下表</td></tr><tr><td style="text-align:left;">code</td><td style="text-align:left;">表示键盘上的物理键</td></tr><tr><td style="text-align:left;">charCode</td><td style="text-align:left;"><strong>被弃用</strong></td></tr><tr><td style="text-align:left;">keyCode</td><td style="text-align:left;"><strong>被弃用</strong></td></tr></tbody></table><blockquote><p>控制键或特殊字符</p></blockquote><table><thead><tr><th style="text-align:left;">按键</th><th style="text-align:left;">键值</th></tr></thead><tbody><tr><td style="text-align:left;">四个方键 <code>←</code> <code>↑</code> <code>→</code> <code>↓</code></td><td style="text-align:left;"><code>ArrowLeft</code>、<code>ArrowUp</code>、<code>ArrowRight</code>、<code>ArrowDown</code></td></tr><tr><td style="text-align:left;">回车键</td><td style="text-align:left;">Enter</td></tr><tr><td style="text-align:left;">空格键</td><td style="text-align:left;">”“</td></tr><tr><td style="text-align:left;">删除键</td><td style="text-align:left;">Backspace</td></tr></tbody></table><blockquote><p>更多的就不一一出来了，大家可以自己测试下</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;e.key:&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;e.code:&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221018191947091.01c7f361.png" alt="image-20221018191947091"></p><h3 id="_3、e-altkey、e-ctrlkey、e-shiftkey" tabindex="-1"><a class="header-anchor" href="#_3、e-altkey、e-ctrlkey、e-shiftkey" aria-hidden="true">#</a> 3、e.altKey、e.ctrlKey、e.shiftKey</h3><table><thead><tr><th style="text-align:left;">属性名</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">ctrlKey</td><td style="text-align:left;">表示事件触发时 <code>ctrl</code>键是否 按下 如果按下，则 <code>e.ctrlKey</code> 返回值为 true，否则为 false</td></tr><tr><td style="text-align:left;">altKey</td><td style="text-align:left;">表示事件触发时<code>alt</code>键是否 按下 如果按下，则 <code>e.altKey</code> 返回值为 true，否则为 false</td></tr><tr><td style="text-align:left;">shiftKey</td><td style="text-align:left;">表示事件触发时<code>shift</code>键是否 按下 如果按下，则 <code>e.shiftKey</code> 返回值为 true，否则为 false</td></tr></tbody></table><p><strong>代码演示</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;e.ctrlKey:&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>ctrlKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;e.altKey:&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>altKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;e.shiftKey：&quot;</span> <span class="token operator">+</span> e<span class="token punctuation">.</span>shiftKey<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221018195457304.47e1dcad.png" alt="image-20221018195457304"></p><blockquote><p>同时按下 ctrl 键和字母 A 键，则浏览器背景颜色变红</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function-variable function">onkeydown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>ctrlKey <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>key <span class="token operator">===</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、e-preventdefault-方法" tabindex="-1"><a class="header-anchor" href="#_4、e-preventdefault-方法" aria-hidden="true">#</a> 4、e.preventDefault() 方法</h3><ul><li><code>e.preventDefault()</code>方法用来<code>阻止事件产生的 &quot;默认动作&quot;</code></li><li>常见图片默认的拖拽行为、超链接的默认点击跳转行为，如下动画演示</li></ul><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-18-18-02-48.40819742.gif" alt="GIF 2022-10-18 18-02-48"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./images/skin/min1.jpg<span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://www.icodingedu.com<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>艾编程<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> img <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> oA <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;logo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">//   阻止鼠标按下时的默认拖拽行为</span>
  img<span class="token punctuation">.</span><span class="token function-variable function">onmousedown</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">//   阻止超链接被点击后的默认跳转行为</span>
  oA<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_5、e-stoppropagation-方法" tabindex="-1"><a class="header-anchor" href="#_5、e-stoppropagation-方法" aria-hidden="true">#</a> 5、e.stopPropagation() 方法</h3><ul><li><code>e.stopPropagation()</code>方法 <strong>用来阻止事件冒泡</strong></li><li>在一些场合，非常有必要切断事件继续传播，否则会造成页面特效显示出 bug</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.box1</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> khaki<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.box2</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> box1 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> box2 <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  box1<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box1被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  box2<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">/* 
        默认情况下，我们点击box2，click事件会冒泡到box1上，所以点击box2时， 
        box1的click事件也被触发了，但加上e.stopPropagation()后，点击box2时，
        事件冒泡被阻止了,所以box1的click事件不会被触发
    */</span>
    e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;box2被点击了&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221018182001537.c6125607.png" alt="image-20221018182001537"></p><h2 id="八、事件委托" tabindex="-1"><a class="header-anchor" href="#八、事件委托" aria-hidden="true">#</a> 八、事件委托</h2><p>接下来我们学习一个很重要的知识，事件委托。</p><blockquote><p>那什么是事件委托呢 ？</p></blockquote><h3 id="_1、什么是事件委托" tabindex="-1"><a class="header-anchor" href="#_1、什么是事件委托" aria-hidden="true">#</a> 1、什么是事件委托</h3><ul><li>事件委托可以理解为，本来是 A 要处理的事情，现在委托给了 B 来处理，事件委托也称为事件代理。</li><li>事件委托是通过事件冒泡机制来实现，本来由各个子节点处理的事情，现在全部委托给其父节点来处理。</li></ul><blockquote><p>接下来我们通过下面这个案例来演示，对比常规方法和事件委托处理之间的优缺点。</p></blockquote><h3 id="_1-1、案例-1-批量给子元素添加事件" tabindex="-1"><a class="header-anchor" href="#_1-1、案例-1-批量给子元素添加事件" aria-hidden="true">#</a> 1.1、案例 1：批量给子元素添加事件</h3><ul><li>页面上有一个无序列表<code>&lt;ul&gt;</code>，它内部共有<code>10</code>个<code>&lt;li&gt;</code>元素，请<strong>批量</strong>给它们添加点击事件监听</li><li>实现效果：点击哪个<code>&lt;li&gt;</code>元素，哪个<code>&lt;li&gt;</code>元素的文字颜色就变红</li></ul><p><strong>常规方法</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> oList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> lis <span class="token operator">=</span> oList<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 书写循环语句，批量给元素添加监听</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 更改li的字体颜色</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>批量添加事件监听的性能问题</p><ul><li>每一个事件监听注册都会消耗一定的系统内存，而批量添加事件会导致监听数量太多，内存消耗会非常大</li><li>再加上，每个 li 的事件处理函数都是不同的函数，这些函数本身也会占用内存</li></ul><p><strong>事件委托方式处理</strong></p><ul><li>我们把所有子节点 li 的 click 事件全部委托给到他们对共同的父节点 ul 来处理</li><li>给 ul 添加 click 事件，当点击每个 li 时，其 li 上的 click 事件会通过冒泡的机制，来触发父节点上的 click 事件</li></ul><blockquote><p>事件委托通常需要结合事件对象身上的 target 和 currentTarget 属性来处理</p></blockquote><table><thead><tr><th style="text-align:left;">属性</th><th style="text-align:left;">描述</th></tr></thead><tbody><tr><td style="text-align:left;">target</td><td style="text-align:left;">触发此事件的最早元素，即 &quot;事件源元素&quot;</td></tr><tr><td style="text-align:left;">currentTarget</td><td style="text-align:left;">绑定事件的那个元素</td></tr></tbody></table><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>列表项10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  oUl<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>style<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">&quot;red&quot;</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 绑定当前click事件的元素 oUl</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 当前点击的li元素，用户真正点击的那个元素</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>事件委托的优点</p><p>减少了事件监听的个数，同时绑定的函数个数也大大减少了。这些减少，本质就是减少内存的消耗，从而提高性能。</p><h3 id="_1-2、案例-2-给新增元素动态绑定事件" tabindex="-1"><a class="header-anchor" href="#_1-2、案例-2-给新增元素动态绑定事件" aria-hidden="true">#</a> 1.2、案例 2：给新增元素动态绑定事件</h3><ul><li>页面上有一个无序列表<code>&lt;ul&gt;</code>，它内部没有<code>&lt;li&gt;</code> 元素，请制作一个按钮，点击这个按钮就能增加一个 li 元素</li><li>并且要求每个 li 上有一个删除按扭，点击后删除当前这个 li 元素</li></ul><p><img src="data:image/gif;base64,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" alt="GIF 2022-10-18 22-25-52"></p><p><strong>常规方法</strong></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.add</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> tomato<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#list li</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px dotted #ddd<span class="token punctuation">;</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#list li span</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 80px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> turquoise<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span>
    <span class="token property">border-radius</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>add<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>新增<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> addButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.add&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 用来统计当前新增li的序号</span>
  addButton<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建新的li元素</span>
    <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;第&quot;</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">&quot;个li元素&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建 li用作删除按扭</span>
    <span class="token keyword">var</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    span<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;删除&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 把span添加到li中</span>
    li<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 给span添加点击事件</span>
    span<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// 把li添加到ul中</span>
    oUl<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>事件委托</strong></p><blockquote><p>li 中每个 span 身上的点击事件委托给到 ul 来处理</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">var</span> addButton <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.add&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token comment">// 新增li元素</span>
  addButton<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    count<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token comment">//创建新的li元素</span>
    <span class="token keyword">var</span> li <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    li<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;第&quot;</span> <span class="token operator">+</span> count <span class="token operator">+</span> <span class="token string">&quot;个li元素&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 创建 li用作删除按扭</span>
    <span class="token keyword">var</span> span <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;span&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    span<span class="token punctuation">.</span>innerText <span class="token operator">=</span> <span class="token string">&quot;删除&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">// 把span添加到li中</span>
    li<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>span<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 把li添加到ul中</span>
    oUl<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>li<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token comment">// 把本来由 span处理的click事件，委托给到ul来处理</span>
  oUl<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> span <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>span<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;span&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>span<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3、案例-3-选项卡效果" tabindex="-1"><a class="header-anchor" href="#_1-3、案例-3-选项卡效果" aria-hidden="true">#</a> 1.3、案例 3：选项卡效果</h3><p><img src="https://www.arryblog.com/assets/img/GIF-2022-10-26-0-01-12.917bb513.gif" alt="GIF 2022-10-26 0-01-12"></p><p>涉及知识点</p><ul><li>事件委托</li><li>自定属性操作 dataset</li><li>节点操作 firstElementChild</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">ul,
  li</span> <span class="token punctuation">{</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.music</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 600px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 100px auto<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.music .music-type::after</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token property">clear</span><span class="token punctuation">:</span> both<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.music .music-type li</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 35px<span class="token punctuation">;</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.music .music-type li.current</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #31c27c<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.music-content</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.music-content .item</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 50px<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 200px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music-type<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>current<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>最新<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>内地<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>港台<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>欧美<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>e<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>韩国<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>music-content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>a<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>最新<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>b<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>内地<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>c<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>港台<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>d<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>欧美<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>e<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>韩国<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> oUl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;.music-type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> currentLi <span class="token operator">=</span> oUl<span class="token punctuation">.</span>firstElementChild<span class="token punctuation">;</span> <span class="token comment">// 记录当前选中项</span>
    <span class="token keyword">var</span> currentContent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;.music-content .item&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 当前显示内容项</span>
    oUl<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 获取最开始触发点击事件的事件源</span>
      <span class="token keyword">var</span> el <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
      <span class="token keyword">var</span> tagName <span class="token operator">=</span> el<span class="token punctuation">.</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>tagName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;li&quot;</span><span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token comment">// 获取对应li上面的data-id值</span>
      <span class="token keyword">var</span> dataId <span class="token operator">=</span> el<span class="token punctuation">.</span>dataset<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
      <span class="token comment">// 根据data-id查找到对应内容区</span>
      <span class="token keyword">var</span> content <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span>
        <span class="token string">&quot;.music-content .item[data-id=&quot;</span> <span class="token operator">+</span> dataId <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 当前项添加current  同时 当前项对应内容显示</span>
      el<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;current&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      content<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span>

      <span class="token comment">// 前一项移除current样式，同时前一项对应内容隐藏</span>
      currentLi<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;current&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      currentContent<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>

      <span class="token comment">// 保存当前项和对应内容项</span>
      currentLi <span class="token operator">=</span> el<span class="token punctuation">;</span>
      currentContent <span class="token operator">=</span> content<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、事件委托的使用场景和注意事项和优点" tabindex="-1"><a class="header-anchor" href="#_2、事件委托的使用场景和注意事项和优点" aria-hidden="true">#</a> 2、事件委托的使用场景和注意事项和优点</h3><p>注意事项：</p><p>不能委托不冒泡的事件给祖先元素</p><ul><li>通过上面的学习，我知道事件委托本质就是利用了事件的冒泡机制来实现</li><li>所以对于不支持事件冒泡的事件是没有办法使用事件委托</li></ul><blockquote><p>如：onmouseenter 、 onmouseleave 、onload、onblur、onfocus，是不支持事件冒泡的</p></blockquote><p><strong>使用场景：</strong></p><ul><li>当有大量类似元素需要批量添加相同的事件，处理相同的事情时，可以使用事件委托，把事件委托给这些元素的父级或祖先元素来处理。</li><li>当我们需要动态添加某节点时，我们可以把这些动态节点需要处理的事件委托给到父元素或祖先元素来处理。</li></ul><p><strong>优点：</strong></p><p>可以减少事件的监听，减少内存的消耗，提升性能。</p><h2 id="九、重难点总结" tabindex="-1"><a class="header-anchor" href="#九、重难点总结" aria-hidden="true">#</a> 九、重难点总结</h2><p>总结本章重难点知识，理清思路，把握重难点。并能轻松回答以下问题，说明自己就真正的掌握了。</p><p>用于故而知新，快速复习。</p><h3 id="_1、重点" tabindex="-1"><a class="header-anchor" href="#_1、重点" aria-hidden="true">#</a> 1、重点</h3><ul><li>1、元素绑定事件有那两种方式及区别，这两种方式绑定的事件如何移除 ？</li><li>2、事件处理函数中的 this 指向谁 ？</li><li>3、你了解那些常见的事件及他们之间需要注意的点 ？</li><li>4、什么是事件流，事件流分为几个阶段，如何理解事件冒泡和事件捕获 ？</li><li>5、什么是事件对象，你了解事件对象上的哪些属性和方法 ？</li><li>6、如何阻止元素的默认行为和事件冒泡 ？</li><li>7、什么是事件委托？事件委托的机制是什么 ？事件委托的优点，应用场景和注意事项</li></ul><h3 id="难点" tabindex="-1"><a class="header-anchor" href="#难点" aria-hidden="true">#</a> 难点</h3><ul><li>1、如何实现元素在 2 个或多个不同状态之间切换（如：背景颜色的变化）</li><li>2、数据查询的两种策略：深度全面查询 和 逐级查询</li><li>3、掌握以下案例 <ul><li>点击 li 弹出对应序号</li><li>随机生成 6 位验证码</li><li>点击换肤</li><li>扫图游戏</li><li>三级联动</li><li>选项卡效果</li></ul></li></ul>`,69);function d(v,m){const t=o("ExternalLinkIcon");return e(),c("div",null,[u,n("blockquote",null,[n("p",null,[s("参考 "),n("a",k,[s("MDN 官方文档(opens new window)"),l(t)])])]),r])}const g=p(i,[["render",d],["__file","JavaScript DOM shijian，shijianliu，shijianduixiang，shijianweituo.html.vue"]]);export{g as default};
