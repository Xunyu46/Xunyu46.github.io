import{_ as e,r as o,o as c,c as l,a as s,b as n,e as t,d as p}from"./app-7ac1ad86.js";const u={},i=p(`<h1 id="vue-插件开发-element-plus、vantui-组件库实践应用" tabindex="-1"><a class="header-anchor" href="#vue-插件开发-element-plus、vantui-组件库实践应用" aria-hidden="true">#</a> Vue 插件开发，Element Plus、VantUI 组件库实践应用</h1><p>本章节我们来学习如何开发 Vue 插件及使用第三方插件库（比如：VantUI 和 Element plus）。</p><ul><li>Vue 插件开发，使用、功能范围</li><li>星级评分插件开发</li><li>Element Plus 组件库</li><li>Vant UI 组件库</li></ul><h2 id="一、vue-插件开发" tabindex="-1"><a class="header-anchor" href="#一、vue-插件开发" aria-hidden="true">#</a> 一、Vue 插件开发</h2><p>本小节我们将学习如何定义一个插件，如何使用插件、插件能实现的功能范围。</p><h3 id="_1、vue-插件介绍" tabindex="-1"><a class="header-anchor" href="#_1、vue-插件介绍" aria-hidden="true">#</a> 1、Vue 插件介绍</h3><p>插件（Plugins）是一种能为 Vue 添加全局功能的工具代码。</p><ul><li>一个插件可以是一个拥有 <code>install()</code> 方法的对象</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> myPlugin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/*
        app 为当前安装插件的应用实例对象，调用use方法app对象
        options 为传递给插件的可选配置项，传递给app.use方法的第二个参数
     */</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里编写插件代码</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>一个插件可以是一个安装函数本身</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/*
    app 为当前安装插件的应用实例对象
    options 为传递给插件的配置选项
*/</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">myPlugin</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 这里编写插件代码</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、插件的使用" tabindex="-1"><a class="header-anchor" href="#_2、插件的使用" aria-hidden="true">#</a> 2、插件的使用</h3><p>在 Vue 中可以在<code>src/main.js</code>文件中通过调用<code>app.use()</code>来注册插件。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 导入插件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> myPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./plugin/myPlugin.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 注册插件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>myPlugin<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token comment">/* 可选的插件配置选项 */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果<code>myPlugin</code>插件是一个带有<code>install</code>方法的对象，调用<code>app.use(myPlugin,options)</code>注册插件时，内部会调用<code>myPlugin</code>对象的<code>install</code>方法，并将<code>app</code>和<code>options</code>作为参数传递给<code>install</code>方法。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app1 <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 定义插件</span>
<span class="token keyword">const</span> myPlugin <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">,</span> app <span class="token operator">===</span> app1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;options&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// {a:1,b:2}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 注册插件</span>
app1<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>myPlugin<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app1<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>当启动应用时，最终在控制台输出如下结果</p></blockquote><p><img src="https://www.arryblog.com/assets/img/image-20230726142822324.c68428dd.png" alt="image-20230726142822324"></p><p>如果<code>myPlugin</code>插件是一个函数，调用<code>app.use(myPlugin,options)</code>注册插件时，会将<code>app</code>和<code>options</code>作为参数传递函数。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app1 <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 定义插件</span>
<span class="token keyword">function</span> <span class="token function">myPlugin</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;app&quot;</span><span class="token punctuation">,</span> app <span class="token operator">===</span> app1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;options&quot;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 注册插件</span>
app1<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>myPlugin<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app1<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>当启动应用时，最终在控制台输出如下结果</p></blockquote><p><img src="https://www.arryblog.com/assets/img/image-20230726142822324.c68428dd.png" alt="image-20230726142822324"></p><h3 id="_3、插件的功能范围" tabindex="-1"><a class="header-anchor" href="#_3、插件的功能范围" aria-hidden="true">#</a> 3、插件的功能范围</h3><p>插件没有严格定义的使用范围，但是插件发挥作用的常见场景主要包括以下几种：</p>`,24),k={href:"https://cn.vuejs.org/api/application.html#app-component",target:"_blank",rel:"noopener noreferrer"},r={href:"https://cn.vuejs.org/api/application.html#app-directive",target:"_blank",rel:"noopener noreferrer"},d=s("strong",null,"全局组件或全局自定义指令",-1),v={href:"https://cn.vuejs.org/api/application.html#app-provide",target:"_blank",rel:"noopener noreferrer"},m=s("strong",null,"可被注入",-1),g={href:"https://cn.vuejs.org/api/application.html#app-config-globalproperties",target:"_blank",rel:"noopener noreferrer"},b=s("strong",null,"全局实例属性或方法",-1),A={href:"https://github.com/vuejs/vue-router-next",target:"_blank",rel:"noopener noreferrer"},q=p(`<p><strong>代码示例</strong></p><p>在<code>src/plugin/myPlugin.js</code>中定义插件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> h<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 导入（前2节课讲的Message组件）   导入 ../components/Message/index.js</span>
<span class="token keyword">import</span> Message <span class="token keyword">from</span> <span class="token string">&quot;../components/Message&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 默认导出插件对象</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 添加全局组件</span>
    app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;my-component&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&quot;h3&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hello Vue3！！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 添加全局指令</span>
    app<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token string">&quot;display&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">el<span class="token punctuation">,</span> binding</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>binding<span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 添加全局依赖</span>
    app<span class="token punctuation">.</span><span class="token function">provide</span><span class="token punctuation">(</span>
      <span class="token string">&quot;userInfo&quot;</span><span class="token punctuation">,</span>
      <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">34</span><span class="token punctuation">,</span>
        <span class="token literal-property property">identity</span><span class="token operator">:</span> <span class="token string">&quot;管理员&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 添加全局属性或方法</span>
    <span class="token comment">// 这种方式提供的全局变量，不推荐在setup() 和 &lt;script setup&gt;中访问</span>
    <span class="token comment">// 可以把全局变量通过provide来提供，然后再通过inject来注入</span>
    app<span class="token punctuation">.</span>config<span class="token punctuation">.</span>globalProperties<span class="token punctuation">.</span>$message <span class="token operator">=</span> Message<span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注册插件</strong></p><p>在<code>src/main.js</code>文件中注册插件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;./App.vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 导入插件</span>
<span class="token keyword">import</span> myPlugin <span class="token keyword">from</span> <span class="token string">&quot;./plugin/myPlugin.js&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 注册插件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>myPlugin<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>使用插件提供的功能</strong></p><p>在<code>src/app.vue</code>中使用插件提供的全局组件、全局指令、全局依赖、全局方法</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> inject<span class="token punctuation">,</span> getCurrentInstance <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 注入提供的依赖</span>
  <span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token function">inject</span><span class="token punctuation">(</span><span class="token string">&quot;userInfo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 以下方式可以获取到全局变量，但不推荐这样使用</span>
  <span class="token comment">/*
        const instance = getCurrentInstance()
        console.log(instance.proxy)
        function submit() {
            instance.proxy.$message.success({ message: &#39;提交成功&#39; })
        }
	*/</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token comment">&lt;!-- 使用全局组件 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>my-component</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>my-component</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 使用全局指令 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-display</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>显示<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-display</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>隐藏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>hr</span> <span class="token punctuation">/&gt;</span></span>

  <span class="token comment">&lt;!-- 使用全局注入--&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>用户名：{{ userInfo.username }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>用户类型：{{ userInfo.identity }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

  <span class="token comment">&lt;!-- 使用全局方法 --&gt;</span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$message.success({ message: &#39;提交成功&#39; })<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>提交<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>最终渲染后效果如下，点击提交按扭，会显示提交成功提示框</p></blockquote><p><img src="https://www.arryblog.com/assets/img/GIF2023-7-2616-37-22.1f36b243.gif" alt="GIF2023-7-2616-37-22"></p><h2 id="二、星级评分插件" tabindex="-1"><a class="header-anchor" href="#二、星级评分插件" aria-hidden="true">#</a> 二、星级评分插件</h2><p>本小节我们一起来开发《星级评分》插件，<code>Rate</code>星级评分组件使用方法</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rate</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>score<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Rate</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>最终渲染出效果如下：</p></blockquote><p><img src="https://www.arryblog.com/assets/img/GIF2023-7-2723-10-53.cb6e0561.gif" alt="GIF2023-7-2723-10-53"></p><h3 id="_1、开发流程" tabindex="-1"><a class="header-anchor" href="#_1、开发流程" aria-hidden="true">#</a> 1、开发流程</h3><ul><li>开发 Rate 组件</li><li>将 Rate 组件做成插件</li><li>注册插件</li><li>使用 Rate 组件</li></ul><h3 id="_2、开发-rate-组件" tabindex="-1"><a class="header-anchor" href="#_2、开发-rate-组件" aria-hidden="true">#</a> 2、开发 Rate 组件</h3><ul><li><p>利用阿里<code>iconfont</code>图标来绘制星星</p><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFEAAABQCAIAAADusQ7EAAAEVklEQVR4nO2b63KzLBSFBYnmYOJ5erj/i+tMqtZjVFS+H8x8TZPGIAFM32T9bJXNwyob2FhACNEeTHDuDsygJ/Nj6Mn8GHoyP4aQghiEkP1+X5alpmmbzSYIAgjnHGsVsdM0LcuSEEIIKYoiSRIFQUcknbnv+6Iojnd7VVV1XSc77oikM+d5jjE+/gnGOMsy2XFHJJf53GSqsixntFou87nJVPNaLZH5kslUM1otkfmSyVRd181ltSzmcZM1TSOEzGW1LOZxk6m6riuKQlIHRiSF+arJVHSL0ve9jD6MSAozi8lUGOM8z2X0YUTimRlNpprFavHM7CZTqbdaMHPf9/Q4wf6KeqsFMxdF0bbt1LcUWy2SedJMPhZdq5VZLZKZz2Sqtm2VrdXCmJumSdOU+1aEEJKmadM0ovozIsDXy77v27at6xpjjDHuum4YhtuvgQAAEEKE0GKxWCwWy+XSMAxd129s9jTK1Y5KwmOX8IH4wUwIaZrmcDjMhceuk4FYrVamaQIAmN79H6nv+4+PDzUzSoZM03x9fWXx/zuHZVn2d4E1TWuahvFA/s08DIO0/igS42n8m9k0zXlL7TcKALBcLlme/Ia0LMtxHMY0cG8CALiuu91uWR7+YazjOK7r/jlsCuw4Duvz50tRmqZxHN/nEnUuAIDnebZts7/yywS2bdvzvD/hNgewNrIPy7IsjuN7TuYQQs/zdrvd5Bcv/WK323med7eZnBtYu7rfzvM8iqJ7cxtC6Ps+Y5Y+1/UzRlEUURSpr8hekq7rvu9blsXdwvU/XcuyfN8XfqDj0+3AGvv5uSzLz8/Ped3WdT0Igs1mc2M7rCmKfgcyo9uigLWpdZKqqvb7vXq3dV0Pw3C9XgtpbXJt6HA47Pd7lfeJCKEwDFerlagGJy+/q9VK5bpN99ICgTW+uqdhGMqYdV03TVNsmzxdp196ie3HJQ3DIDx98DB3XaeMmRAy6caPRTzMGGOVzMLzJQ9z27YqT9d34bPiD1/m97nrOsV7EnqRIrBBHmbFR0vhqXsyM8ZYMTMhZH6fFZcHhafuycxih5xRYlM3j88CwzNqzvmMMeYODwDgrh+LTd3T/geFL2lDCLfbLb0h+fr6yrJs6sCJTd3TmKfuOiGElmUdnz1d17Vtm5KzDx9N3aJOlLKYAQCWZbmui9BpCFqadhwnjuOiKFjIxabuycxXnwEArNdr3/fPaY8FIQyCwHGcJElYvioTmLqnMY9PKgAAraIYhsEaHqEwDF3XjaKoqqoR8nnmc9u2lwIDAEzTDIKAnfZHJxB6eXlp2zaKorqufyWnqZuv/dNw7I/2ff/r3DNN0/O82xOMYRhvb291XcdxXNf1yW8Fpu4JzIZhIISO10nDMDzPE1WCpVoul+/v71VVJUly/E0PQkiIyRpHfZveZiwWC9u2uW/JGJXneZqmGGNa0J+tvv0P6E6vl6XqyfwYejI/hp7Mj6En82PoPw4qAijIszAbAAAAAElFTkSuQmCC" alt="image-20230728155846889"></p></li></ul><p><code>src/components/Rate/Rate.vue</code>组件内容如下：</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-star star<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;iconfont&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">/* Project id 4186612 */</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.woff2?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;woff2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.woff?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;woff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.ttf?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;truetype&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.iconfont</span> <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;iconfont&quot;</span> <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
    <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.icon-star:before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;\\e627&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.star</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>利用 <code>v-for=&#39;starNum in 5&#39;</code>循环遍历得到 5 颗星星</p><p><img src="data:image/png;base64,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" alt="image-20230728155912191"></p></li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum in 5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-star star<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>设置变量<code>score</code>保存当前选中星星数量（即：当前评分）,并通过动态绑定 class 实现选中星星为红色</p><p><img src="data:image/png;base64,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" alt="image-20230728160004609"></p></li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 当前评分（选中星星数）</span>
  <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum in 5<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-star star<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: starNum &lt;= score ? true : false }<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* ..... */</span>
  <span class="token selector">.star.active</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>点击对应星星时，实现评分效果</li></ul><p><img src="data:image/gif;base64,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" alt="GIF2023-7-2816-20-04"></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 当前评分（选中星星数）</span>
  <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 设置评分</span>
  <span class="token keyword">function</span> <span class="token function">setScore</span><span class="token punctuation">(</span><span class="token parameter">starNum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    score<span class="token punctuation">.</span>value <span class="token operator">=</span> starNum<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum in 5<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-star star<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: starNum &lt;= score ? true : false }<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setScore(starNum)<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;iconfont&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">/* Project id 4186612 */</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.woff2?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;woff2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.woff?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;woff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.ttf?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;truetype&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.iconfont</span> <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;iconfont&quot;</span> <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
    <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.icon-star:before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;\\e627&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.star</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.star.active</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在使用<code>Rate</code>组件时，可以通过 <code>size</code> prop 来设置星星的大小，同时在使用<code>Rate</code>组件时可以得到当前被选中的星星数（评分 score）</li><li>我们可以给<code>Rate</code>组件监听<code>@getScore=getScore</code>事件，当点击星星时触发 getScore 事件，事件触发时会调<code>getScore</code>方法，在该方法内部可以拿到当前被选中的星星数（评分 score）</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Rate <span class="token keyword">from</span> <span class="token string">&quot;./components/Rate/Rate.vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// value值为当前评分（选中星星数量）</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rate</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@getScore</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getScore<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Rate</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--Rate.vue组件 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明按受的props</span>
  <span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;size&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明监听的事件</span>
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;getScore&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 计算属性,得到当前星星的大小 40px</span>
  <span class="token keyword">const</span> fontSize <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 当前评分（选中星星数）</span>
  <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 设置评分</span>
  <span class="token keyword">function</span> <span class="token function">setScore</span><span class="token punctuation">(</span><span class="token parameter">starNum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    score<span class="token punctuation">.</span>value <span class="token operator">=</span> starNum<span class="token punctuation">;</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;getScore&quot;</span><span class="token punctuation">,</span> starNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.star</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">v-bind</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">/* 根据size的计算属性设置字体大小*/</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>如果用户想在使用<code>Rate</code>组件时，能初始化当前被选中的星星数，则可以给<code>Rate</code>组件传递 <code>score</code>prop</li><li>然后 Rate 组件中接受该 prop</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!--Rate.vue--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明按受的props</span>
  <span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;score&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明监听的事件</span>
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;getScore&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 计算属性,得到当前星星的大小 40px</span>
  <span class="token keyword">const</span> fontSize <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 当前评分（选中星星数）</span>
  <span class="token comment">// const score = ref(3);</span>
  <span class="token comment">// 设置评分</span>
  <span class="token keyword">function</span> <span class="token function">setScore</span><span class="token punctuation">(</span><span class="token parameter">starNum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// score.value = starNum  不能通过这种方式设置score prop的值</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;getScore&quot;</span><span class="token punctuation">,</span> starNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!--App.vue--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Rate <span class="token keyword">from</span> <span class="token string">&quot;./components/Rate/Rate.vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">function</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// value值为当前评分（选中星星数量）</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    score<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span> <span class="token comment">// 修改 score的值</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rate</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@getScore</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getScore<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:score</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>score<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Rate</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>代码优化</strong></p><p>我们可以将 <code>@getScore=&quot;getScore&quot;</code>事件监听与 <code>:score=&quot;score&quot;</code>prop 简写成<code>v-model=&#39;score&#39;</code></p><ul><li>App.vue</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> Rate <span class="token keyword">from</span> <span class="token string">&quot;./components/Rate/Rate.vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rate</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>score<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Rate</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>Rate.vue 组件</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明按受的props</span>
  <span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;modelValue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明监听的事件</span>
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;update:modelValue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 计算属性,得到当前星星的大小 40px</span>
  <span class="token keyword">const</span> fontSize <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 当前评分（选中星星数）</span>
  <span class="token comment">// const score = ref(3);</span>
  <span class="token comment">// 设置评分</span>
  <span class="token keyword">function</span> <span class="token function">setScore</span><span class="token punctuation">(</span><span class="token parameter">starNum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// score.value = starNum</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:modelValue&quot;</span><span class="token punctuation">,</span> starNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum in 5<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-star star<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: starNum &lt;= modelValue ? true : false }<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setScore(starNum)<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-1、rate-组件最终版" tabindex="-1"><a class="header-anchor" href="#_2-1、rate-组件最终版" aria-hidden="true">#</a> 2.1、Rate 组件最终版</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明按受的props</span>
  <span class="token keyword">const</span> props <span class="token operator">=</span> <span class="token function">defineProps</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;size&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;modelValue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 声明监听的事件</span>
  <span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;update:modelValue&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 计算属性,得到当前星星的大小 40px</span>
  <span class="token keyword">const</span> fontSize <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>size <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 设置评分</span>
  <span class="token keyword">function</span> <span class="token function">setScore</span><span class="token punctuation">(</span><span class="token parameter">starNum</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 触发事件，修改评分值</span>
    <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&quot;update:modelValue&quot;</span><span class="token punctuation">,</span> starNum<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>rate<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
      <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum in 5<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>starNum<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>iconfont icon-star star<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>{ active: starNum &lt;= modelValue ? true : false }<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>setScore(starNum)<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token atrule"><span class="token rule">@font-face</span></span> <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;iconfont&quot;</span><span class="token punctuation">;</span>
    <span class="token comment">/* Project id 4186612 */</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.woff2?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;woff2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.woff?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;woff&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">&quot;//at.alicdn.com/t/c/font_4186612_6tkc3n3cd7r.ttf?t=1690529927523&quot;</span><span class="token punctuation">)</span></span>
        <span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;truetype&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.iconfont</span> <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">&quot;iconfont&quot;</span> <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
    <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token property">-webkit-font-smoothing</span><span class="token punctuation">:</span> antialiased<span class="token punctuation">;</span>
    <span class="token property">-moz-osx-font-smoothing</span><span class="token punctuation">:</span> grayscale<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.icon-star:before</span> <span class="token punctuation">{</span>
    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">&quot;\\e627&quot;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.star</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #ddd<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token function">v-bind</span><span class="token punctuation">(</span>fontSize<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">.star.active</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2、将组件做成插件" tabindex="-1"><a class="header-anchor" href="#_2-2、将组件做成插件" aria-hidden="true">#</a> 2.2、将组件做成插件</h3><p><code>src/components/Rate/index.js</code> 文件内容如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 导入 Rate组件</span>
<span class="token keyword">import</span> Rate <span class="token keyword">from</span> <span class="token string">&quot;./Rate.vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 定义插件对象</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">install</span><span class="token punctuation">(</span><span class="token parameter">app<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 将组件注册为全局组件</span>
    app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;Rate&quot;</span><span class="token punctuation">,</span> Rate<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3、注册插件" tabindex="-1"><a class="header-anchor" href="#_2-3、注册插件" aria-hidden="true">#</a> 2.3、注册插件</h3><p><code>/src/main.js</code>中注册插件</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 导入Rate星级评分插件</span>
<span class="token keyword">import</span> Rate <span class="token keyword">from</span> <span class="token string">&quot;./components/Rate&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// ....</span>
<span class="token comment">// 注册插件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Rate<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-4、使用-rate-组件" tabindex="-1"><a class="header-anchor" href="#_2-4、使用-rate-组件" aria-hidden="true">#</a> 2.4、使用 Rate 组件</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> score <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Rate</span> <span class="token attr-name">:size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>40<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>score<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Rate</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、element-plus-组件库" tabindex="-1"><a class="header-anchor" href="#三、element-plus-组件库" aria-hidden="true">#</a> 三、Element Plus 组件库</h2>`,50),f={href:"https://element-plus.org/",target:"_blank",rel:"noopener noreferrer"},y=p(`<blockquote><p>Element 组件的使用有以下三种方式：</p></blockquote><ul><li>完整引入</li><li>按需导入 - 自动导入（推荐）</li><li>按需导入 - 手动导入</li></ul><p>但不管那一种方式使用，都需要先执行以下命令，下载<code>Element Plus</code>组件库</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> element-plus <span class="token parameter variable">--save</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1、完整引入" tabindex="-1"><a class="header-anchor" href="#_1、完整引入" aria-hidden="true">#</a> 1、完整引入</h3><p>如果你对打包后的文件大小不是很在乎，那么使用完整导入会更方便</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 导入 ElementPlus</span>
<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 导入组件用到的CSS</span>
<span class="token keyword">import</span> <span class="token string">&quot;element-plus/dist/index.css&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 注册组件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>ElementPlus<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2、按需导入-自动导入-推荐" tabindex="-1"><a class="header-anchor" href="#_2、按需导入-自动导入-推荐" aria-hidden="true">#</a> 2、按需导入 - 自动导入（推荐）</h3><p>根据项目中用到的 Element 组件来导入对应组件。</p><p>首先你需要安装<code>unplugin-vue-components</code> 和 <code>unplugin-auto-import</code>这两款插件</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> unplugin-vue-components unplugin-auto-import
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>然后把下列代码插入到你的 <code>Vite</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// vite.config.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> AutoImport <span class="token keyword">from</span> <span class="token string">&quot;unplugin-auto-import/vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Components <span class="token keyword">from</span> <span class="token string">&quot;unplugin-vue-components/vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElementPlusResolver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;unplugin-vue-components/resolvers&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
    <span class="token function">AutoImport</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">resolvers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlusResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">Components</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">resolvers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlusResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3、按需导入-手动导入" tabindex="-1"><a class="header-anchor" href="#_3、按需导入-手动导入" aria-hidden="true">#</a> 3、按需导入 - 手动导入</h3>`,14),h={href:"https://webpack.js.org/guides/tree-shaking/",target:"_blank",rel:"noopener noreferrer"},w={href:"https://github.com/element-plus/unplugin-element-plus",target:"_blank",rel:"noopener noreferrer"},j=p(`<ul><li>执行下面命令安装 <code>unplugin-element-plus</code>插件</li></ul><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i unplugin-element-plus <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>在<code>vite.config.js</code>中配置插件</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// vite.config.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ElementPlus <span class="token keyword">from</span> <span class="token string">&quot;unplugin-element-plus/vite&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">ElementPlus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>在需要使用 Element 组件的组件中，通过<code>import</code>导入即可</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ElButton <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>

  <span class="token comment">// 以上导入会自动转换如下  ↓ ↓ ↓ ↓ ↓ ↓</span>
  <span class="token comment">// import { ElButton } from &#39;element-plus&#39;</span>
  <span class="token comment">// import &#39;element-plus/es/components/button/style/css&#39;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span><span class="token punctuation">&gt;</span></span>Default<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Primary<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Success<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>info<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Info<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Warning<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>el-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Danger<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>el-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意</p><p>如果使用 <code>unplugin-element-plus</code> 并且只使用组件 API，你需要手动导入样式。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token string">&quot;element-plus/es/components/message/style/css&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ElMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;element-plus&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> h <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>ElMessage<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;ssss&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、vant-组件库" tabindex="-1"><a class="header-anchor" href="#四、vant-组件库" aria-hidden="true">#</a> 四、Vant 组件库</h2>`,10),x={href:"https://vant-contrib.gitee.io/vant/#/zh-CN",target:"_blank",rel:"noopener noreferrer"},V=p(`<blockquote><p>Vant 组件的使用有以下三种方式：</p></blockquote><ul><li>常规用法</li><li>按需导入 - 自动导入（推荐）</li></ul><p>但不管那一种方式使用，都需要先执行以下命令，下载<code>Vant</code>组件库</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i vant
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_1、常规用法" tabindex="-1"><a class="header-anchor" href="#_1、常规用法" aria-hidden="true">#</a> 1、常规用法</h3><p>如果你不在乎打包后文件的大小，可以采用以下方式注册 Vant 组件。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 1. 引入你需要的组件</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Search <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// 2. 引入组件样式（(所有组件样式)）</span>
<span class="token keyword">import</span> <span class="token string">&quot;vant/lib/index.css&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">createApp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 3. 注册你需要的组件</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Button<span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Search<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以上方式注册好 Button 组件后，就可以在其它组件模板中使用 Button 组件了。</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!--App组件中使用--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>主要按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成功按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>默认按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>警告按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>危险按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-search</span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>value<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>请输入搜索关键词<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20230727191210111.680eff26.png" alt="image-20230727191210111"></p><p>提示：</p><p>Vant 默认支持 Tree Shaking，因此你不需要配置任何插件，通过 Tree Shaking 即可移除不需要的 JS 代码，但 CSS 样式无法通过这种方式优化。</p><blockquote><p>如果需要按需引入 CSS 样式，请参考下面的方法二。</p></blockquote><h3 id="_2、按需引入-推荐" tabindex="-1"><a class="header-anchor" href="#_2、按需引入-推荐" aria-hidden="true">#</a> 2、按需引入（推荐）</h3><p>相比于常规用法，这种方式可以按需引入组件的 CSS 样式，从而减少一部分代码体积，但使用起来会变得繁琐一些</p>`,15),E={href:"https://github.com/antfu/unplugin-vue-components",target:"_blank",rel:"noopener noreferrer"},I=p(`<div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token function">npm</span> i unplugin-vue-components <span class="token parameter variable">-D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>②、如果是基于 <code>vite</code> 的项目，在 <code>vite.config.js</code> 文件中配置插件</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> Components <span class="token keyword">from</span> <span class="token string">&quot;unplugin-vue-components/vite&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> VantResolver <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;unplugin-vue-components/resolvers&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ...</span>
    <span class="token function">Components</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">resolvers</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">VantResolver</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>③、完成以上两步，就可以直接在模板中使用 Vant 组件了，<code>unplugin-vue-components</code> 会解析模板并自动注册对应的组件</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token comment">&lt;!--App组件中使用--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>主要按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>success<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>成功按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>default<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>默认按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>warning<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>警告按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>van-button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>danger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>危险按钮<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>van-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意事项</p><p>Vant 中有个别组件是以函数的形式提供的，包括 <code>Toast</code>，<code>Dialog</code>，<code>Notify</code> 和 <code>ImagePreview</code> 组件。</p><p>在使用函数组件时，<code>unplugin-vue-components</code> 无法自动引入对应的样式，因此需要手动引入样式。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// Toast</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> showToast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;vant/es/toast/style&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Dialog</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> showDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;vant/es/dialog/style&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Notify</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> showNotify <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;vant/es/notify/style&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// ImagePreview</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> showImagePreview <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;vant/es/image-preview/style&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>你可以在项目的入口文件或公共模块中引入以上组件的样式，这样在业务代码中使用组件时，便不再需要重复引入样式了。</p></blockquote><ul><li>在 App 组件中使用 Dialog 组件</li></ul><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> <span class="token punctuation">{</span> showDialog <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vant&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">import</span> <span class="token string">&quot;vant/es/dialog/style&quot;</span><span class="token punctuation">;</span>

  <span class="token function">showDialog</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;生命远不止连轴转和忙到极限，人类的体验远比这辽阔、丰富得多。&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">theme</span><span class="token operator">:</span> <span class="token string">&quot;round-button&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// on close</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span>
    <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>showDialog({
                    message: &#39;提交成功&#39;
                    })<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">&gt;</span></span>
    提交
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/GIF2023-7-2719-54-44.0c040017.gif" alt="GIF2023-7-2719-54-44"></p>`,13);function P(G,R){const a=o("ExternalLinkIcon");return c(),l("div",null,[i,s("ul",null,[s("li",null,[n("①、通过 "),s("a",k,[n("app.component() (opens new window)"),t(a)]),n("和 "),s("a",r,[n("app.directive() (opens new window)"),t(a)]),n("注册一到多个"),d,n("。")]),s("li",null,[n("②、通过 "),s("a",v,[n("app.provide() (opens new window)"),t(a)]),n("使一个资源"),m,n("进整个应用。")]),s("li",null,[n("③、向 "),s("a",g,[n("app.config.globalProperties (opens new window)"),t(a)]),n("中添加一些"),b]),s("li",null,[n("④、一个可能上述三种都包含了的功能库（例如 "),s("a",A,[n("vue-router (opens new window)"),t(a)]),n("）")])]),q,s("p",null,[s("a",f,[n("Element Plus (opens new window)"),t(a)]),n("是基于 Vue 3，面向设计师和开发者的组件库。")]),y,s("p",null,[n("Element Plus 提供了基于 ES Module 的开箱即用的 "),s("a",h,[n("Tree Shaking (opens new window)"),t(a)]),n("功能。")]),s("blockquote",null,[s("p",null,[n("但你需要安装 "),s("a",w,[n("unplugin-element-plus (opens new window)"),t(a)]),n("来按需引入样式")])]),j,s("p",null,[s("a",x,[n("Vant 4.x (opens new window)"),t(a)]),n("是一个轻量、可定制的移动端 Vue3 组件库")]),V,s("ul",null,[s("li",null,[n("①、需要安装 "),s("a",E,[n("unplugin-vue-components (opens new window)"),t(a)]),n("插件，它可以自动引入组件，并按需引入组件的样式")])]),I])}const C=e(u,[["render",P],["__file","Vue chajiankaifa，Element Plus、VantUI zujiankushijianyingyong.html.vue"]]);export{C as default};
