import{_ as n,o as s,c as a,a as t}from"./app-e6acbbcc.js";const p={},e=t(`<h1 id="symbol、bigint、模板字符串的应用场景和底层原理" tabindex="-1"><a class="header-anchor" href="#symbol、bigint、模板字符串的应用场景和底层原理" aria-hidden="true">#</a> Symbol、BigInt、模板字符串的应用场景和底层原理</h1><p>本节会重点学习模板字符串和 ES6 中新增的两种原始数据类型 Symbol 和 BigInt，模板字符串与 Symbol 在未来的实际开发几乎每天都会使用。</p><blockquote><p>接下来我们会从以下几个方面来展开讲解</p></blockquote><p><strong>原始数据类型 Symbol</strong></p><ul><li>什么是 Symbol</li><li>Symbol 的语法规范</li><li>Symbol 属性的遍历</li><li><code>Symbol.keyFor()</code></li><li>Symbol 的作用</li><li>Symbol 与基本数据类型的转换</li></ul><p><strong>原始数据类型 BigInt</strong></p><ul><li>为什么要有 BigInt 类型</li><li>如何定义 BigInt 类型数据</li><li>注意事项</li></ul><p><strong>模板字符串</strong></p><ul><li>什么是模板字符串</li><li>模板字符串的注意事项</li><li>模板字符串在实际开发中的应用</li></ul><p><strong>标签模板</strong></p><ul><li>模板字符串中没有变量</li><li>模板字符串中有变量</li><li>函数内还原原模板字符串</li><li>标签模板应用场景</li></ul><p><strong>模板字符串大厂面试真题解析</strong></p><ul><li>手写 ES6 的模板字符串（百度）</li><li>扩展知识：eval、Function 构造函数</li></ul><h2 id="一、原始数据类型-symbol" tabindex="-1"><a class="header-anchor" href="#一、原始数据类型-symbol" aria-hidden="true">#</a> 一、原始数据类型 Symbol</h2><p>ES5 的对象属性名都是字符串，这容易造成属性名的冲突。比如，你使用了一个他人提供的对象，但又想为这个对象添加新的方法（mixin 模式），新方法的名字就有可能与现有方法产生冲突。</p><p>如果有一种机制，能保证每个属性的名字都是独一无二的就好了，这样就从根本上防止属性名的冲突。</p><blockquote><p>这就是 ES6 引入<code>Symbol</code>的原因。</p></blockquote><h3 id="_1、什么是-symbol" tabindex="-1"><a class="header-anchor" href="#_1、什么是-symbol" aria-hidden="true">#</a> 1、什么是 Symbol ？</h3><p>Symbol（符号、象征） 是 ES6 中引入的一种新的<strong>基本（原始）数据类型</strong>，用于表示一个独一无二的值。它是 JavaScript 中的第七种数据类型，与 undefined、null、Number（数值）、String（字符串）、Boolean（布尔值）、Object（对象）并列。</p><blockquote><p>创建一个 Symbol 值的方式如下：</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 类型是：Symbol</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="data:image/png;base64,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" alt="image-20221027170048081"></p><p>注：</p><ul><li>Symbol 值通过<code>Symbol()</code>函数生成，上面代码中，变量<code>s</code>就是一个独一无二的值。</li><li><code>typeof</code>运算符的结果，表明变量<code>s</code>是 Symbol 数据类型，而不是字符串之类的其他类型。</li></ul><h3 id="_2、symbol-的语法规范" tabindex="-1"><a class="header-anchor" href="#_2、symbol-的语法规范" aria-hidden="true">#</a> 2、Symbol 的语法规范</h3><p>通过上边的学习，使用以下语法可创建一个 Symbol 变量</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol()</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>我们说 <code>Symbol()</code> 生成的是一个独一无二的值，所以如果用 <code>Symbol()</code> 创建多个 Symbol 值时，即使他们长的完全一样，但是值是不相同的。</p><blockquote><p>如下</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol()</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token operator">===</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>以上代码中， <code>s === m</code> 返回的结果为 false ，可知 Symbol 值是唯一的，变量 s 和变量 m 并不是同一个值，但它们在控制台的输出却是一样的。如下输出结果</p></blockquote><p><img src="https://www.arryblog.com/assets/img/image-20221027170829656.eb509587.png" alt="image-20221027170829656"></p><p>以上的方式不利于我们区分两个变量，同时我们也不知道 Symbol 象征或代表的是什么 ？</p><blockquote><p>为此，我们可以在调用 Symbol 的时候传入一个字符串作为对当前 <strong>Symbol 变量的描述</strong></p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;message&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol(color)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol(message)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20230103181957889.b38aff9b.png" alt="image-20230103181957889"></p><blockquote><p><strong>强调</strong>：不过还是要特别注意，Symbol 的变量的描述是一样的，也是两个不同的值</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token operator">===</span> m<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20230103162930240.10f3b2dc.png" alt="image-20230103162930240"></p><ul><li>Symbol 的描述符，如果传如的不是字符串类型，则会转换为对应的字符串</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> s1 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s2 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s3 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> s4 <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s4<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>注</strong>：Symbol 是基本数据类型，调用 Symbol 时不可以使用 new 关键字。如下写法是错误的：</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错 Symbol is not a constructor ，Symbol 不是构造函数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221027171633387.b279b58b.png" alt="image-20221027171633387"></p><h3 id="_3、symbol-for" tabindex="-1"><a class="header-anchor" href="#_3、symbol-for" aria-hidden="true">#</a> 3、Symbol.for()</h3><ul><li><p>有时，我们希望重新使用同一个 Symbol 值，<code>Symbol.for()</code>方法可以做到这一点。</p></li><li><p>Symbol 提供的一种可以创建相同 Symbol 的机制，就是使用 <code>Symbol.for()</code>方法进行注册。</p></li><li><p>当我们使用</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>Symbol.for()
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>来创建 Symbol 值时，首先会在</p><p>全局环境中搜索，检测给定的 key（描述符）是否已存在</p><ul><li>如果不存才会创建一个新的 Symbol 值，并且会在全局环境中登记。</li><li>如果已存在，则会使用已存在的 Symbol 值。</li></ul></li><li><p>不管 <code>Symbol.for()</code>在哪里调用，最后都会登记注册在全局环境中</p></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 全局注册以&quot;icoding&quot;为描述符的 Symbol</span>
  <span class="token keyword">const</span> m <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;icoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> m<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 由于描述符&quot;icoding&quot;已被注册到全局，因此这里创建的 Symbol 与全局是同一个</span>
<span class="token keyword">const</span> y <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;icoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>s <span class="token operator">===</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、symbol-keyfor" tabindex="-1"><a class="header-anchor" href="#_4、symbol-keyfor" aria-hidden="true">#</a> 4、Symbol.keyFor()</h3><p><code>Symbol.keyFor()</code> 返回一个全局注册的 Symbol 的描述符</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">&quot;icoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">keyFor</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// icoding</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><strong>注意：</strong> 返回结果是已经注册过的变量 s 的描述符 icoding</p></blockquote><h3 id="_5、symbol-与基本数据类型转换" tabindex="-1"><a class="header-anchor" href="#_5、symbol-与基本数据类型转换" aria-hidden="true">#</a> 5、Symbol 与基本数据类型转换</h3><p>Symbol 不能转成数字</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">Number</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 报错</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用 Number 对 Symbol 值转换会报错</p><p><img src="https://www.arryblog.com/assets/img/image-20221027230231277.2f33c84d.png" alt="image-20221027230231277"></p><p>Symbol 可以转成 布尔值 和 字符串</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// symbol</span>

<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token function">String</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Symbol(123)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>

<span class="token keyword">let</span> bool <span class="token operator">=</span> <span class="token function">Boolean</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>bool<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> bool<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// boolean</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>以上代码我们可以看到，Symbol 值可以通过 String 转成字符串形式，也可以通过 Boolean 转成布尔值</p></blockquote><h3 id="_6、symbol-属性的遍历" tabindex="-1"><a class="header-anchor" href="#_6、symbol-属性的遍历" aria-hidden="true">#</a> 6、Symbol 属性的遍历</h3><ul><li>以 Symbol 类型的变量作为对象属性时，该属性不会出现在 <code>for … in</code>、<code>for … of</code>循环中（后面会讲解<code>for…of</code>循环的）。也不会被<code>Object.keys()</code>、<code>Object.getOwnPropertyNames()</code>返回。</li><li>我们可以通过<code>Object.getOwnPropertySymbols()</code>方法返回一个数组，成员是当前对象的所有用作属性名的 Symbol 值。</li><li>如果想要一次性获取到对象的所有属性，可以利用<code>Reflect.ownKeys(obj)</code></li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;ss&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> m <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;mm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 由于 s 和 m 是变量，而不是字符串，因此需要使用中括号括起来（否则它会被当做字符串使用）</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;icoding&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>s<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// for ... in 循环遍历 obj</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span>o <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// username</span>
<span class="token punctuation">}</span>

<span class="token comment">// getOwnPropertySymbols()方法</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Reflect.ownKeys()方法</span>
<span class="token keyword">const</span> arr <span class="token operator">=</span> Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p><code>for … in</code> 方式遍历 obj 对象时，Symbol 类型的属性没有输出，只输出了 username 属性。</p></blockquote><p><img src="https://www.arryblog.com/assets/img/image-20230103171324830.9b13f0c6.png" alt="image-20230103171324830"></p><h3 id="_7、symbol-的应用" tabindex="-1"><a class="header-anchor" href="#_7、symbol-的应用" aria-hidden="true">#</a> 7、Symbol 的应用</h3><p>因为 Symbol 产生的是独一无二的值，所以我们可以利用这个特性解决以下三大问题</p><ul><li>消除对象同名属性之间覆盖问题</li><li>对象的属性不能单独访问</li><li>消除魔术字符串</li></ul><h3 id="_7-1、消除对象同名属性之间覆盖问题" tabindex="-1"><a class="header-anchor" href="#_7-1、消除对象同名属性之间覆盖问题" aria-hidden="true">#</a> 7.1、消除对象同名属性之间覆盖问题</h3><ul><li>由于每一个 Symbol 值都是不相等的，这意味着 Symbol 值可以作为标识符，用于对象的属性名，就能保证不会出现同名的属性。</li><li>如果我们对一个对象身上有哪些属性不清楚，但我们想再给对象添加一个新属性时，有可能新属性名与对象原有的属性名相同，而造成同名属性的覆盖，如果用 Symbol 就可以解决这个问题。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// addMethod方法为obj对象添加某个属性，属性值为fn</span>
<span class="token keyword">function</span> <span class="token function">addMethod</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// ....</span>
  <span class="token comment">// 为对象obj添加了唯一的属性s</span>
  <span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;color&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">[</span>s<span class="token punctuation">]</span> <span class="token operator">=</span> fn<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-2、对象的属性不能单独对外访问" tabindex="-1"><a class="header-anchor" href="#_7-2、对象的属性不能单独对外访问" aria-hidden="true">#</a> 7.2、对象的属性不能单独对外访问</h3><p>以 Symbol 值作为对象的属性名不会被常规的方法遍历得到，所以我们可以利用这个特性为对象定义一组非私有属性，但这些属性又希望只用于内部方法的效果。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// ES5 版本</span>
<span class="token keyword">const</span> Person <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> m <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;m&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">//</span>
  <span class="token punctuation">}</span>
  <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getM</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Person<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ES6版本 配合模块化</span>
<span class="token comment">// person.js</span>
<span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">&quot;m&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">getM</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">[</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// export { Person };</span>

<span class="token comment">// index.html  页面导入模块</span>
<span class="token keyword">import</span> Person <span class="token keyword">from</span> <span class="token string">&quot;./a.js&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;icoding&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p<span class="token punctuation">.</span><span class="token function">getM</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> p<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_7-3、消除魔术字符串" tabindex="-1"><a class="header-anchor" href="#_7-3、消除魔术字符串" aria-hidden="true">#</a> 7.3、消除魔术字符串</h3><ul><li>魔术字符串是指：在代码之中出现多次、与代码形成强耦合的某一个具体的字符串或数值。</li><li>风格良好的代码，应该尽量消除魔术字符串，而由含义清晰的<strong>变量代替</strong></li></ul><blockquote><p>如果我们要计算不同形状的面积，我们可以写下面这个方法来实现</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token parameter">shape<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 保存最终计算得到的面积</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token string">&quot;rectangle&quot;</span><span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> options<span class="token punctuation">.</span>width <span class="token operator">*</span> options<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;triangle&quot;</span><span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>width <span class="token operator">*</span> options<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token string">&quot;circle&quot;</span><span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> options<span class="token punctuation">.</span>radius <span class="token operator">*</span> options<span class="token punctuation">.</span>radius<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> area<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">getArea</span><span class="token punctuation">(</span><span class="token string">&quot;rectangle&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>以上代码中的字符串 &quot;rectangle&quot;、“triangle”、&quot;circle&quot;就是魔术字符串，它多次出现，与代码形成强耦合，不利于将来的修改和维护。</p></blockquote><p>常用来消除魔术字符串的方法，就是把它写成一个变量。我们定义一个对象</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> shapeType <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token string">&quot;rectangle&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">triangle</span><span class="token operator">:</span> <span class="token string">&quot;triangle&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">circle</span><span class="token operator">:</span> <span class="token string">&quot;circle&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后我再把代码中的魔术字符串改成 shapeType 的属性值</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 计算图形的面积</span>
<span class="token keyword">function</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token parameter">shape<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 保存最终计算得到的面积</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>rectangle<span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> options<span class="token punctuation">.</span>width <span class="token operator">*</span> options<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>triangle<span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>width <span class="token operator">*</span> options<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>circle<span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> options<span class="token punctuation">.</span>radius<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> area<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">getArea</span><span class="token punctuation">(</span>shapeType<span class="token punctuation">.</span>rectangle<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们知道，其实 shapeType 中每个属性对应的值是多少，根本不重要，只要保存这些属性的值都是唯一的就行（与其它属性值不相同），所以我们可以把他们的值改成 <code>Symbol()</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 完整版代码</span>

<span class="token keyword">let</span> shapeType <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rectangle</span><span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">triangle</span><span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">circle</span><span class="token operator">:</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 计算图形的面积</span>
<span class="token keyword">function</span> <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token parameter">shape<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> area <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 保存最终计算得到的面积</span>
  <span class="token keyword">switch</span> <span class="token punctuation">(</span>shape<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>rectangle<span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> options<span class="token punctuation">.</span>width <span class="token operator">*</span> options<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>triangle<span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>width <span class="token operator">*</span> options<span class="token punctuation">.</span>height<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> shapeType<span class="token punctuation">.</span>circle<span class="token operator">:</span> <span class="token comment">// 魔术字符串</span>
      area <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token operator">*</span> options<span class="token punctuation">.</span>radius<span class="token punctuation">;</span>
      <span class="token keyword">break</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> area<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getArea</span><span class="token punctuation">(</span>shapeType<span class="token punctuation">.</span>rectangle<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token number">100</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_8、symbol-总结" tabindex="-1"><a class="header-anchor" href="#_8、symbol-总结" aria-hidden="true">#</a> 8、Symbol 总结</h3><p>一般 Symbol 值就是为对象属性的键值，防止对象的某个属性被同名覆盖。</p><p>使用 Symbol 作为对象属性时，需要使用方括号语法去访问对应的属性，而不是字符串。</p><h2 id="二、原始数据类型-bigint" tabindex="-1"><a class="header-anchor" href="#二、原始数据类型-bigint" aria-hidden="true">#</a> 二、原始数据类型 BigInt</h2><p>bigint 是 ES6 中新增的一种原始数据类型，它是 JavaScript 中的第八种数据类型，与 undefined、null、Number（数值）、String（字符串）、Boolean（布尔值）、Object（对象）、Symbol 并列。</p><h3 id="_1、为什么要有-bigint-类型" tabindex="-1"><a class="header-anchor" href="#_1、为什么要有-bigint-类型" aria-hidden="true">#</a> 1、为什么要有 BigInt 类型</h3><p>在之前的课程中我们了解到，JS 能表示的最大的安全正整数保存在<code>Number.MAX_SAFE_INTEGER</code>中，他的值 等于<code>2^53-1=9007199254740991</code></p><blockquote><p>如果 JS 中整数的范围一旦超过这个范围，就无法精确表示。</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> n <span class="token operator">=</span> Number<span class="token punctuation">.</span><span class="token constant">MAX_SAFE_INTEGER</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 9007199254740991</span>
<span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">9007199254740991</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token number">9007199254740991</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n1 <span class="token operator">===</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注：</p><p>以上的 n1 显然和 n2 不相等，但是最后的结果显示的为 true，说明 JS 已经无法安全的识别这是两个不同的数了。</p><p>为了解决这个问题，JS 中引用了 BigInt 这种<strong>原始数据类型</strong>。他可以表示大于<code>2^53 - 1</code> 的整数。它只用来表示整数，同时没有<strong>位数</strong>的限制，任何位数的整数都可以精确表示。</p><h3 id="_2、如何定义-bigint-类型数据" tabindex="-1"><a class="header-anchor" href="#_2、如何定义-bigint-类型数据" aria-hidden="true">#</a> 2、如何定义 BigInt 类型数据</h3><ul><li>可以在一个整数的字面量后面加 n 的方式定义一个 BigInt</li><li>也可以调用函数<code>BigInt()</code>并传递一个整数值或字符串值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">2n</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token number">3n</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n3 <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3n</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> n1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bigint</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bigint</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bigint</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">==</span> n1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">==</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">==</span> n3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">===</span> n1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">===</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>

<span class="token comment">// 不过我们最好不要用==来比较bigint和number类型，因为会出错</span>
<span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">9007199254740993</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token number">9007199254740992n</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n1 <span class="token operator">==</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>以上的 2n 和 3n 表示的就是数字 2 和 3，只是在后面加了 n 后，表示的类型不再是<code>number</code> 而是<code>bigint</code></p></blockquote><h3 id="_3、注意事项" tabindex="-1"><a class="header-anchor" href="#_3、注意事项" aria-hidden="true">#</a> 3、注意事项</h3><ul><li>BigInt 只能用来表示整数，如果是小数，则会自动忽略小数部分</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token number">2.3</span><span class="token punctuation">;</span> <span class="token comment">// 抛出语法类型错误</span>
<span class="token keyword">let</span> n <span class="token operator">=</span> <span class="token function">BigInt</span><span class="token punctuation">(</span><span class="token string">&quot;2.33&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 抛出语法类型错误</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>超出 <code>2^53-1</code> 的整数，能精确表示</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">9007199254740992n</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token number">9007199254740994n</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n1 <span class="token operator">===</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>BigInt 类型不能与 Number 类型进行混合运算</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">+</span> <span class="token number">2n</span><span class="token punctuation">;</span> <span class="token comment">// 抛出语法错误</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>二进制、八进制、十六进制的表示法后面都要加上后缀 n</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">0b001n</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> n2 <span class="token operator">=</span> <span class="token number">0o12n</span><span class="token punctuation">;</span> <span class="token comment">// 0o开头 ，数字中八进制是以0开头</span>
<span class="token keyword">let</span> n3 <span class="token operator">=</span> <span class="token number">0xan</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n3<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> n1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> n2<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> n3<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>几乎所有 Number 运算符都可以有 bigint 中使用，但 <code>&gt;&gt;&gt;</code> 无符号右位移运算和一元求正运算符 <code>+</code></li><li>如果是参于 <code>/</code> 除法运算，最后会丢掉小数部分，只取整数部分</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> n1 <span class="token operator">=</span> <span class="token number">2n</span> <span class="token operator">+</span> <span class="token number">3n</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2n</span> <span class="token operator">+</span> <span class="token number">3n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2n</span> <span class="token operator">*</span> <span class="token number">3n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5n</span> <span class="token operator">/</span> <span class="token number">2n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5n</span> <span class="token operator">%</span> <span class="token number">2n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5n</span> <span class="token operator">||</span> <span class="token number">0n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">5n</span> <span class="token operator">&amp;&amp;</span> <span class="token number">0n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0n</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">3n</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 抛出类型错误</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2n</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 抛出类型错误</span>
<span class="token comment">// &gt;&gt;&gt; 运算抛出错误，是因为&gt;&gt;&gt;要求最高位补0，但bigin类型没有最高位</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="三、模板字符串" tabindex="-1"><a class="header-anchor" href="#三、模板字符串" aria-hidden="true">#</a> 三、模板字符串</h2><p>我们在 ES5 之前使用的普通字符串如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 我们常用的普通字符串，使用单引号 &#39;&#39; 或 双引号 &quot;&quot; 的形式</span>
<span class="token string">&quot;icoding&quot;</span><span class="token punctuation">;</span>
<span class="token string">&quot;icoding&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>模板字符串相当于加强版的字符串，把原来的<code>&#39;&#39;</code> 或 <code>&quot;&quot;</code> 替换成反引号 \` 将内容引用起来即可，这样就变成 模板字符串了。</p></blockquote><h3 id="_1、普通字符串和模板字符串的简单用法" tabindex="-1"><a class="header-anchor" href="#_1、普通字符串和模板字符串的简单用法" aria-hidden="true">#</a> 1、普通字符串和模板字符串的简单用法</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 定义模板字符串，使用 \`\` 反引号</span>
<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">icoding</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
<span class="token comment">// 我们可能有疑惑，模板字符串和普通字符串有什么区别呢 ？ 其实，简单写法没啥区别</span>
<span class="token comment">// 如下常量声明：</span>
<span class="token keyword">const</span> brand1 <span class="token operator">=</span> <span class="token string">&quot;icoding&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 普通字符串声明</span>
<span class="token keyword">const</span> brand2 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">icoding</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span> <span class="token comment">// 使用模板字符串声明</span>

<span class="token comment">// 观察 brand1 和 brand2 之间是否有区别</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>brand1<span class="token punctuation">,</span> brand2<span class="token punctuation">,</span> brand1 <span class="token operator">===</span> brand2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// icoding icoding true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> brand2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>我们可以看到如果只是简单的用法，普通字符串和模板字符串之间没有什么区别</p></blockquote><h3 id="_2、模板字符串与普通字符串的区别" tabindex="-1"><a class="header-anchor" href="#_2、模板字符串与普通字符串的区别" aria-hidden="true">#</a> 2、模板字符串与普通字符串的区别</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 声明一个person对象</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;icoding&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 通过普通字符串拼接</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span>
  <span class="token string">&quot;我叫：&quot;</span> <span class="token operator">+</span>
  person<span class="token punctuation">.</span>username <span class="token operator">+</span>
  <span class="token string">&quot; ，性别是：&quot;</span> <span class="token operator">+</span>
  person<span class="token punctuation">.</span>sex <span class="token operator">+</span>
  <span class="token string">&quot;，今年：&quot;</span> <span class="token operator">+</span>
  person<span class="token punctuation">.</span>age <span class="token operator">+</span>
  <span class="token string">&quot; 岁了&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我叫：icoding ，性别是：male，今年：20 岁了</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ES5 之前，我们基本都是使用拼接字符串的方式，如果一旦内容多了，拼起来就费时费力</p><p>在 ES6 中，我们使用模板字符串来完成，如下</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 声明一个person对象</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;icoding&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 通过模板字符串拼接</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">我叫：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>person<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ，性别是：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>person<span class="token punctuation">.</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">，今年：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>person<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 岁了</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我叫：icoding ，性别是：male，今年：20 岁了</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注：</p><p>有了模板字符串后，就直接通过反引号中直接定义多行字符串和变量的拼接，凡是使用 <code>+</code> 拼接的都可以替换成模板字符串。</p><blockquote><p>如果是变量就包裹在 <code>\${}</code> 的大括号中即可</p></blockquote><p><strong>总结：</strong></p><ul><li>和其他东西一起使用时，使用模板字符串，方便注入</li><li>其他情况下使用模板字符串或普通字符串都行</li></ul><h3 id="_3、模板字符串的注意事项" tabindex="-1"><a class="header-anchor" href="#_3、模板字符串的注意事项" aria-hidden="true">#</a> 3、模板字符串的注意事项</h3><p>模板字符串在实际开发过程中应该注意哪些 ？</p><h3 id="_3-1、输出多行字符串" tabindex="-1"><a class="header-anchor" href="#_3-1、输出多行字符串" aria-hidden="true">#</a> 3.1、输出多行字符串</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 普通字符串</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token string">&quot;第1行\\n第2行&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出结果如下</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221009162025287.e3ac41cb.png" alt="image-20221009162025287"></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 模板字符串</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">第1行\\n第2行</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 输出结果如下</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221009162025287.e3ac41cb.png" alt="image-20221009162025287"></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 模板字符串，添加空格、换行或缩进</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">第1行
第2行</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221009162757585.089393ce.png" alt="image-20221009162757585"></p><p>总结：</p><p>在模板字符串中，所有的空格、换行或缩进都会被保留并输出，简单说：格式会原样输出</p><h3 id="_3-2、输出-和-等特殊字符" tabindex="-1"><a class="header-anchor" href="#_3-2、输出-和-等特殊字符" aria-hidden="true">#</a> 3.2、输出 \` 和 \\ 等特殊字符</h3><p>在模板字符串中要输出特殊字符，同样需要用到转义符 <code>\\</code> 反斜杠来进行转义，才能正常输出</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 输出 反引号 \`</span>
<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\\\`</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \`</span>
<span class="token comment">// 输出 反斜杠</span>
<span class="token keyword">const</span> msg1 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">\\\\</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// \\</span>
<span class="token comment">// 输出 &#39; 单引号</span>
<span class="token keyword">const</span> msg2 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&#39;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span> <span class="token comment">// 类似 &#39;&#39; &quot;&quot; 不属于特殊字符</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20221009172635171.d9cfd659.png" alt="image-20221009172635171"></p><h3 id="_3-3、模板字符串的注入" tabindex="-1"><a class="header-anchor" href="#_3-3、模板字符串的注入" aria-hidden="true">#</a> 3.3、模板字符串的注入</h3><p>在注入过程中，我们会使用 <code>\${}</code></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 模板字符串的注入，使用 \${}</span>
<span class="token keyword">const</span> username <span class="token operator">=</span> <span class="token string">&quot;icoding&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getSex</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> sex <span class="token operator">===</span> <span class="token string">&quot;male&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;男&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;女&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">我叫 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ，今年 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>person<span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token number">6</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 岁了，我是 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token function">getSex</span><span class="token punctuation">(</span>
  person<span class="token punctuation">.</span>sex
<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 生</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 我叫 icoding ，今年 26 岁了，我是 男 生</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>模板字符串中到底可以放什么内容，有没有规律呢 ？</p><p>其实只要最终可以得出一个值的就可以通过<code>\${}</code>注入到模板字符串中</p></blockquote><h3 id="_4、模板字符串在实际开发中的应用" tabindex="-1"><a class="header-anchor" href="#_4、模板字符串在实际开发中的应用" aria-hidden="true">#</a> 4、模板字符串在实际开发中的应用</h3><p>通过模板字符串动态注入数据，遍历动态数据。</p><blockquote><p>实现效果如下：</p></blockquote><p><img src="https://www.arryblog.com/assets/img/image-20221009183446502.b6625b73.png" alt="image-20221009183446502"></p><blockquote><p>代码如下</p></blockquote><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>学生信息表 - 模板字符串的应用<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
      <span class="token selector">table</span> <span class="token punctuation">{</span>
        <span class="token property">border-collapse</span><span class="token punctuation">:</span> collapse<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> 860px<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> 50px auto<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">table tr th,
      td</span> <span class="token punctuation">{</span>
        <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #dfe2e5<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0.6em 1em<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token selector">caption</span> <span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 22px<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>thead</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>caption</span><span class="token punctuation">&gt;</span></span>
          大一班学生信息表
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>caption</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>姓名<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>性别<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>年龄<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>户籍所在地<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>thead</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tbody</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>stu-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- &lt;tr&gt;
          &lt;td&gt;arry&lt;/td&gt;
          &lt;td&gt;男&lt;/td&gt;
          &lt;td&gt;18&lt;/td&gt;
          &lt;td&gt;北京&lt;/td&gt;
        &lt;/tr&gt; --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>4<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>信息正在加载中 ...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tbody</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tfoot</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>tr</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>th</span><span class="token punctuation">&gt;</span></span>备注<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>th</span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>td</span> <span class="token attr-name">colspan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>新学期开学，学生信息表<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>td</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tr</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>tfoot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>table</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
      <span class="token comment">// 数据，目前作为演示，在实际开发中这些数据都会用过 Ajax 动态的加载</span>
      <span class="token keyword">const</span> students <span class="token operator">=</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;arry&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
          <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>
          <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;female&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;湖南&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;allen&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span>
          <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;male&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;深圳&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;jack&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">22</span><span class="token punctuation">,</span>
          <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;female&quot;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">city</span><span class="token operator">:</span> <span class="token string">&quot;上海&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">;</span>

      <span class="token comment">// 获取将要填充数据的容器</span>
      <span class="token keyword">const</span> dataList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;stu-list&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 声明变量来保存拼接的字符串</span>
      <span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      <span class="token comment">// 循环遍历拼接数据</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> students<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用模板字符串拼接</span>
        html <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;tr&gt;
                &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
                &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
                &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>sex <span class="token operator">===</span> <span class="token string">&quot;male&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;男&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;女&quot;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
                &lt;td&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>students<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>city<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/td&gt;
                &lt;/tr&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// 查看模板字符串注入后的数据</span>
      <span class="token comment">//   console.log(html);</span>

      <span class="token comment">// 将拼接注入的数据填充到容器中</span>
      dataList<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html<span class="token punctuation">;</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="四、标签模板" tabindex="-1"><a class="header-anchor" href="#四、标签模板" aria-hidden="true">#</a> 四、标签模板</h2><ul><li>模板字符串还可以紧跟在一个函数后面，该函数将被调用，用来处理这个模板字符串，这被称为 <strong>“标签模板”</strong> 功能。</li><li>标签模板其实是函数的一种特殊形式。“标签”指的就是函数，紧跟在后面的模板字符串就是它的参数。</li></ul><blockquote><p>但是，如果模板字符串中有变量，就不再是简单的调用了，而是将模板字符串先处理成多个参数，再调用函数。</p></blockquote><h3 id="_1、模板字符串中没有变量" tabindex="-1"><a class="header-anchor" href="#_1、模板字符串中没有变量" aria-hidden="true">#</a> 1、模板字符串中没有变量</h3><p>函数后面紧跟的模板字符串中没有变量，则模板字符串为函数的参数</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">tagFn</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
tagFn<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">模板字符串内容</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20230108212619203.4cc9ff1b.png" alt="image-20230108212619203"></p><h3 id="_2、模板字符串中有变量" tabindex="-1"><a class="header-anchor" href="#_2、模板字符串中有变量" aria-hidden="true">#</a> 2、模板字符串中有变量</h3><p>函数后面紧跟的模板字符串中包含变量，则模板字符串将会被处理成多个参数，再调用函数</p><table><thead><tr><th style="text-align:left;">参数</th><th style="text-align:left;">说明</th></tr></thead><tbody><tr><td style="text-align:left;">第一个参数</td><td style="text-align:left;">第一个参数是一个类数组对象，其内部包含一个数组，数组成员为模板字符串中那些没有变量替换的部分，你可以理解为 a 被 <code>\${...}</code> 这种表达式分隔的字符串组成的数组</td></tr><tr><td style="text-align:left;">其余参数</td><td style="text-align:left;">其它参数都是模板字符串中<code>\${...}</code>被替换后对应的值</td></tr></tbody></table><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token parameter">string<span class="token punctuation">,</span> value1<span class="token punctuation">,</span> value2<span class="token punctuation">,</span> value3</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 类数组对象，其内包含一个数组，数组成员是由\${...}分隔后的字符串组成的</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// string.raw为一个数组，数组成员是由\${...}分隔后的字符串组成的</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>raw<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 对应模板字符串中\${username}解析后的值</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 对应模板字符串中\${city}解析后的值</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value3<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 没有对应的变量被解析，则值为undefined</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> city <span class="token operator">=</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">;</span>
sayHello<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">Hello</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,欢迎你来到</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>city<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="https://www.arryblog.com/assets/img/image-20230108222459698.845e2f23.png" alt="image-20230108222459698"></p><p>温馨提示</p><p>第一个参数是一个类数组对象，对象中包含一个数组，数组中对应的是模板字符串中那些没有变量替换的部分，那数组中的每一项内容在模板字符串中后面紧跟随的变量值为第二个，第三个等参数。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 第一个参数对应的值为模板字符串中没有变量替换的部分</span>
<span class="token punctuation">[</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;,欢迎你来到&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token literal-property property">raw</span><span class="token operator">:</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
<span class="token string">&quot;清心&quot;</span> <span class="token comment">// 第二个参数</span>
<span class="token string">&quot;北京&quot;</span> <span class="token comment">// 第三个参数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>根据上面的对应关系，我们来写一个函数，通过函数的参数来还原原模板字符串。</p></blockquote><h3 id="_3、函数内还原原模板字符串" tabindex="-1"><a class="header-anchor" href="#_3、函数内还原原模板字符串" aria-hidden="true">#</a> 3、函数内还原原模板字符串</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token string">&quot;女&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getString</span><span class="token punctuation">(</span><span class="token parameter">strArr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> strArr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">+=</span> strArr<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// i是先赋值，再自增</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result <span class="token operator">+=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> result <span class="token operator">=</span> getString<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">大家好，我是</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>obj<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,性别</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>obj<span class="token punctuation">.</span>sex<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,今年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>obj<span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">岁了</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 大家好，我是清心,性别女,今年18岁了</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、标签模板应用场景" tabindex="-1"><a class="header-anchor" href="#_4、标签模板应用场景" aria-hidden="true">#</a> 4、标签模板应用场景</h3><p>当我们需要对模板字符串<code>\${...}</code>中的内容需要进一步的验证和加工时，就可以利用到标签模板功能来处理。</p><h3 id="_4-1、案例-根据数据渲染荣誉展示模块" tabindex="-1"><a class="header-anchor" href="#_4-1、案例-根据数据渲染荣誉展示模块" aria-hidden="true">#</a> 4.1、案例：根据数据渲染荣誉展示模块</h3><p><img src="https://www.arryblog.com/assets/img/image-20230109160342276.974157bb.png" alt="image-20230109160342276"></p><h3 id="_4-2、实现思路" tabindex="-1"><a class="header-anchor" href="#_4-2、实现思路" aria-hidden="true">#</a> 4.2、实现思路</h3><p>确认每一条信息的相同点和不同点，得出对应的模板字符串结构如下：</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>恭喜xxx同学，在xxxx年xxx月参于的xxxx项目中担任xxx一职，表现优异，认真负责，荣获xxxx奖
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>其中，动态内容有：人名，时间，项目名、角色，奖项。 需要我们用<code>\${...}</code>向模板字符串中注入对应内容</p><p><strong>后台返回的数据</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;刘梦宇&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 用户名</span>
    <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 项目名</span>
    <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 用户角色，角色有 技术总监 、项目经理、 项目组长 、工程师</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span> <span class="token comment">// 时间戳</span>
    <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;王妍&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;许尹阳&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;侯天帅&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;王薇&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span>
    <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>其中角色和荣誉后对应的内容如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 角色处理</span>
<span class="token keyword">const</span> role <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;技术总监&quot;</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;项目经理&quot;</span><span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;项目组长&quot;</span><span class="token punctuation">,</span>
  <span class="token number">4</span><span class="token operator">:</span> <span class="token string">&quot;工程师&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 荣誉</span>
<span class="token keyword">const</span> honour <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;年度卓越贡献奖&quot;</span><span class="token punctuation">,</span>
  <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;最佳效率奖&quot;</span><span class="token punctuation">,</span>
  <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;最佳创意奖&quot;</span><span class="token punctuation">,</span>
  <span class="token number">4</span><span class="token operator">:</span> <span class="token string">&quot;最佳贡献奖&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-3、html-布局和-css-样式" tabindex="-1"><a class="header-anchor" href="#_4-3、html-布局和-css-样式" aria-hidden="true">#</a> 4.3、HTML 布局和 CSS 样式</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">html,
  body,
  ul,
  li,
  h3</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.honour</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 100px auto<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">h3</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>237<span class="token punctuation">,</span> 251<span class="token punctuation">,</span> 252<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.honour li</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">span.text</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>honour<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>荣誉展示<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>J_honour<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-4、标签模板功能实现" tabindex="-1"><a class="header-anchor" href="#_4-4、标签模板功能实现" aria-hidden="true">#</a> 4.4、标签模板功能实现</h3><ul><li>根据后台返回数据，确定模板字符串结构</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">恭喜</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">同学，在</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">参于的&lt;&lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>projectName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&gt;项目中担任</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>role<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">一职，表现优异，认真负责，荣获</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>honour<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">。</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>书写标签模板，在函数中对 用户名、时间、项目名、角色、荣誉做相关处理</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">honour</span><span class="token punctuation">(</span><span class="token parameter">arrs<span class="token punctuation">,</span> usernameExp<span class="token punctuation">,</span> timeExp<span class="token punctuation">,</span> projectExp<span class="token punctuation">,</span> roleExp<span class="token punctuation">,</span> honourExp</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 名字处理</span>
  <span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;span class=&#39;text&#39;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>usernameExp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
  <span class="token comment">// 角色处理</span>
  <span class="token keyword">const</span> role <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;技术总监&quot;</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;项目经理&quot;</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;项目组长&quot;</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token operator">:</span> <span class="token string">&quot;工程师&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> strRole <span class="token operator">=</span> role<span class="token punctuation">[</span>roleExp<span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// 时间处理</span>
  <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timeExp<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> strTime <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>time<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>time<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">月</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>

  <span class="token comment">// 荣誉</span>
  <span class="token keyword">const</span> honour <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;年度卓越贡献奖&quot;</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;最佳效率奖&quot;</span><span class="token punctuation">,</span>
    <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;最佳创意奖&quot;</span><span class="token punctuation">,</span>
    <span class="token number">4</span><span class="token operator">:</span> <span class="token string">&quot;最佳贡献奖&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> strHonour <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;span class=&#39;text&#39;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>honour<span class="token punctuation">[</span>honourExp<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>

  <span class="token comment">// 输出内容.......</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>处理标签模板的返回值</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 输出内容......</span>
<span class="token keyword">let</span> output <span class="token operator">=</span> arrs<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 添加被\${...}分隔出来的第一个内容</span>
<span class="token punctuation">[</span>username<span class="token punctuation">,</span> strTime<span class="token punctuation">,</span> projectExp<span class="token punctuation">,</span> strRole<span class="token punctuation">,</span> strHonour<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>
  <span class="token parameter">item<span class="token punctuation">,</span>
  index</span>
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  output <span class="token operator">+=</span> item<span class="token punctuation">;</span> <span class="token comment">// 添加\${...}解析出来的内容</span>
  output <span class="token operator">+=</span> strArr<span class="token punctuation">[</span><span class="token operator">++</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 添加以\${...}分隔出来的内容</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">return</span> output<span class="token punctuation">;</span> <span class="token comment">// 返回拼接后的字符串</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-5、数据渲染成真实-dom" tabindex="-1"><a class="header-anchor" href="#_4-5、数据渲染成真实-dom" aria-hidden="true">#</a> 4.5、数据渲染成真实 DOM</h3><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// DOM渲染</span>
<span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 拼接li结构字符串</span>
  <span class="token comment">// 遍历数据，对数据做处理</span>
  data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> result <span class="token operator">=</span> honour<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">恭喜</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">同学，在</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">参于的&lt;&lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>projectName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&gt;项目中担任</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>role<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">一职，表现优异，认真负责，荣获</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>honour<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">。</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
    html <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span> <span class="token comment">// 拼接每一个li</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  obj<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html<span class="token punctuation">;</span> <span class="token comment">//添加到页面中</span>
<span class="token punctuation">}</span>

<span class="token comment">// 获取DOM元素</span>
<span class="token keyword">const</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;J_honour&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">render</span><span class="token punctuation">(</span>ul<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 开始渲染</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4-5、完整版代码" tabindex="-1"><a class="header-anchor" href="#_4-5、完整版代码" aria-hidden="true">#</a> 4.5、完整版代码</h3><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token selector">html,
  body,
  ul,
  li,
  h3</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.honour</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 800px<span class="token punctuation">;</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 100px auto<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid #ddd<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">h3</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 24px<span class="token punctuation">;</span>
    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgb</span><span class="token punctuation">(</span>237<span class="token punctuation">,</span> 251<span class="token punctuation">,</span> 252<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">.honour li</span> <span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 18px<span class="token punctuation">;</span>
    <span class="token property">border-bottom</span><span class="token punctuation">:</span> 1px dashed #ddd<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 30px<span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 10px<span class="token punctuation">;</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #666<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">span.text</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> red<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>honour<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>荣誉展示<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>J_honour<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">function</span> <span class="token function">honour</span><span class="token punctuation">(</span>
    <span class="token parameter">strArr<span class="token punctuation">,</span>
    usernameExp<span class="token punctuation">,</span>
    timeExp<span class="token punctuation">,</span>
    projectExp<span class="token punctuation">,</span>
    roleExp<span class="token punctuation">,</span>
    honourExp</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 名字处理</span>
    <span class="token keyword">let</span> username <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;span class=&#39;text&#39;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>usernameExp<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
    <span class="token comment">// 角色处理</span>
    <span class="token keyword">const</span> role <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;技术总监&quot;</span><span class="token punctuation">,</span>
      <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;项目经理&quot;</span><span class="token punctuation">,</span>
      <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;项目组长&quot;</span><span class="token punctuation">,</span>
      <span class="token number">4</span><span class="token operator">:</span> <span class="token string">&quot;工程师&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> strRole <span class="token operator">=</span> role<span class="token punctuation">[</span>roleExp<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// 时间处理</span>
    <span class="token keyword">const</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>timeExp<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> strTime <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>time<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">年</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>time<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">月</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>

    <span class="token comment">// 荣誉</span>
    <span class="token keyword">const</span> honour <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;年度卓越贡献奖&quot;</span><span class="token punctuation">,</span>
      <span class="token number">2</span><span class="token operator">:</span> <span class="token string">&quot;最佳效率奖&quot;</span><span class="token punctuation">,</span>
      <span class="token number">3</span><span class="token operator">:</span> <span class="token string">&quot;最佳创意奖&quot;</span><span class="token punctuation">,</span>
      <span class="token number">4</span><span class="token operator">:</span> <span class="token string">&quot;最佳贡献奖&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> strHonour <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;span class=&#39;text&#39;&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>honour<span class="token punctuation">[</span>honourExp<span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/span&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
    <span class="token comment">// 输出内容......</span>
    <span class="token keyword">let</span> output <span class="token operator">=</span> strArr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 添加被\${...}分隔出来的第一个内容</span>
    <span class="token punctuation">[</span>username<span class="token punctuation">,</span> strTime<span class="token punctuation">,</span> projectExp<span class="token punctuation">,</span> strRole<span class="token punctuation">,</span> strHonour<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>
      <span class="token parameter">item<span class="token punctuation">,</span>
      index</span>
    <span class="token punctuation">)</span> <span class="token punctuation">{</span>
      output <span class="token operator">+=</span> item<span class="token punctuation">;</span> <span class="token comment">// 添加\${...}解析出来的内容</span>
      output <span class="token operator">+=</span> strArr<span class="token punctuation">[</span><span class="token operator">++</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// 添加以\${...}分隔出来的内容</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> output<span class="token punctuation">;</span> <span class="token comment">// 返回拼接后的字符串</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// DOM渲染</span>
  <span class="token keyword">function</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> html <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span> <span class="token comment">// 拼接li结构字符串</span>
    <span class="token comment">// 遍历数据，对数据做处理</span>
    data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> result <span class="token operator">=</span> honour<span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">恭喜</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>username<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">同学，在</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>time<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">参于的&lt;&lt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>projectName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&gt;&gt;项目中担任</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>role<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">一职，表现优异，认真负责，荣获</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item<span class="token punctuation">.</span>honour<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">。</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
      html <span class="token operator">+=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">&lt;li&gt;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>result<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&lt;/li&gt;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span> <span class="token comment">// 拼接每一个li</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html<span class="token punctuation">;</span> <span class="token comment">//添加到页面中</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 获取DOM元素</span>
  <span class="token keyword">const</span> ul <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;J_honour&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;刘梦宇&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 用户名</span>
      <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 项目名</span>
      <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// 用户角色，角色有 技术总监 、项目经理、 项目组长 、工程师</span>
      <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span> <span class="token comment">// 时间戳</span>
      <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;王妍&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;许尹阳&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;侯天帅&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">username</span><span class="token operator">:</span> <span class="token string">&quot;王薇&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">projectName</span><span class="token operator">:</span> <span class="token string">&quot;槐里集团&quot;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">role</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
      <span class="token literal-property property">time</span><span class="token operator">:</span> <span class="token number">1669824000000</span><span class="token punctuation">,</span>
      <span class="token literal-property property">honour</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token function">render</span><span class="token punctuation">(</span>ul<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 开始渲染</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="五、模板字符串面试真题解析-和-扩展知识" tabindex="-1"><a class="header-anchor" href="#五、模板字符串面试真题解析-和-扩展知识" aria-hidden="true">#</a> 五、模板字符串面试真题解析 和 扩展知识</h2><p>深入浅出互联网大厂 ES6 高频面试真题解析 和 相关扩展知识 面试真题是检验自己学习成果和查缺补漏的最好方式之一，同时也是了解企业对求职者技能要求的风向标 。</p><h3 id="_1、手写-es6-的模板字符串-百度" tabindex="-1"><a class="header-anchor" href="#_1、手写-es6-的模板字符串-百度" aria-hidden="true">#</a> 1、手写 ES6 的模板字符串（百度）</h3><p>手写一个方法，能成功解析字符串中的<code>\${}</code>方式注入的内容</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 以下字符串中的\${obj.name}和\${obj.age} 能成功被解析成 清心和 23</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;大家好，我是\${obj.name},今年\${obj.age}岁了&quot;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>实现思路：</p><p>首先我们要用正则表达式，提取字符串中<code>\${}</code>包裹的内容，正则如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\\${(.+?)}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 正则表达式</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>把正则表达式中子表达式<code>(.+?)</code>的内容提取出来，然后解析成对应的内容，如<code>obj.name</code>解析成清心,obj.age 解析成<code>23</code></li><li>最后用子表达式解析成功的内容替换正则匹配到的<code>\${}</code>内容</li></ul><h3 id="_1-1、实现方法一-正则与-eval-函数结合" tabindex="-1"><a class="header-anchor" href="#_1-1、实现方法一-正则与-eval-函数结合" aria-hidden="true">#</a> 1.1、实现方法一：正则与 eval() 函数结合</h3><p>如果对 <code>eval()</code> 函数不了解，可以参考后面的扩展知识，给大家提供了相关的文档</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 自定义字符串解析方法，可以解析string中\${}方式，读取变量中值</span>
<span class="token keyword">function</span> <span class="token function">strParse</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\\${(.+?)}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 正则表达式</span>
  <span class="token keyword">let</span> newStr <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> p1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// eval(obj.name) 返回解析后的字符串内容 如： obj.name解析成清心</span>
    <span class="token keyword">return</span> <span class="token function">eval</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newStr<span class="token punctuation">;</span> <span class="token comment">// 返回替换成功的字符串</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;大家好，我是\${obj.name},今年\${obj.age}岁了&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">strParse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 大家好，我是清心,今年23岁了</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">a+b=</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>a <span class="token operator">+</span> b<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">strParse</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a+b=5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>如果想成功解析字符串中的\`\` 结构，只需将正则替换为如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\{{(.+?)}}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 正则表达式,解析字符串中的{{ }}模式</span>
<span class="token comment">// let str = &quot;大家好，我是{{obj.name}},今年{{obj.age}}岁了&quot;;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-2、实现方法二-正则与-function-构造函数" tabindex="-1"><a class="header-anchor" href="#_1-2、实现方法二-正则与-function-构造函数" aria-hidden="true">#</a> 1.2、实现方法二：正则与 Function 构造函数</h3><p>如果对 Function 构造函数不了解，可以参考后面的扩展知识，给大家提供了相关的文档</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;大家好，我是\${obj.name},今年\${obj.age}岁了&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">strParse</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//</span>

<span class="token comment">// strParse函数能成功解析字符串中的\${}</span>
<span class="token keyword">function</span> <span class="token function">strParse</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\\${(.+?)}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 正则表达式</span>
  <span class="token keyword">let</span> newStr <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> p1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 生成函数 function anonymous(){return obj.name} 然后自调用</span>
    <span class="token keyword">return</span> <span class="token function">Function</span><span class="token punctuation">(</span><span class="token string">&quot;return &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newStr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注：</p><p>上面的 obj 为全局作用域中的变量，如果 obj 不在全局作用域中，那最后就得不到想要的结果，因为 Function 创建的函数只能访问当前作用域中局部变量和全局作用域中变量。</p><p>所以我们需要将对应的数据当成函数的参数，传入到函数的内部，具体代码如下</p><blockquote><p>不过这种方式，所有变量需要成为对象的属性，否则也是读取不到的</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;大家好，我是\${obj.name},今年\${obj.age}岁了&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\\${(.+?)}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 正则表达式</span>
  <span class="token keyword">let</span> newStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> p1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建函数 function anonymous(obj){ retunr obj.name} 然后自调用，传入数据</span>
    <span class="token keyword">return</span> <span class="token function">Function</span><span class="token punctuation">(</span><span class="token string">&quot;obj&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;return &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">)</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>封装后共享代码</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// dataname 数据对象名   data数据对象   string需要处理的字符串</span>
<span class="token keyword">function</span> <span class="token function">strParse</span><span class="token punctuation">(</span><span class="token parameter">dataname<span class="token punctuation">,</span> data<span class="token punctuation">,</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\\${(.+?)}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 正则表达式</span>
  <span class="token keyword">let</span> newStr <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> p1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 创建函数 function anonymous(obj){ retunr obj.name} 然后自调用，传入数据</span>
    <span class="token keyword">return</span> <span class="token function">Function</span><span class="token punctuation">(</span>dataname<span class="token punctuation">,</span> <span class="token string">&quot;return &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">)</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newStr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;大家好，我是\${obj.name},今年\${obj.age}岁了&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> newStr <span class="token operator">=</span> <span class="token function">strParse</span><span class="token punctuation">(</span><span class="token string">&quot;obj&quot;</span><span class="token punctuation">,</span> obj<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newStr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1-3、实现方法三-正则与-function-构造函数" tabindex="-1"><a class="header-anchor" href="#_1-3、实现方法三-正则与-function-构造函数" aria-hidden="true">#</a> 1.3、实现方法三：正则与 Function 构造函数</h3><p>这一步我们想要解决的是，能成功解析字符串<code>\${...}</code>的内容，但<code>\${...}</code>中的内容是直接引用对象的属性，而不是<strong>对象.属性</strong>的方式。</p><blockquote><p>如下</p></blockquote><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// let str1 = &quot;大家好，我是\${obj.name},今年\${obj.age}岁了\${obj.arr[0]}&quot;;</span>
<span class="token keyword">let</span> str2 <span class="token operator">=</span> <span class="token string">&quot;大家好，我是\${name},今年\${age}岁了\${arr[0]}&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// str2字符串中的\${name} \${age} \${arr[0]} 要能被成功解析为 清心 23  1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>我们来回顾下，之前讲的 strParse 方法</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">strParse</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\\${(.+?)}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 正则表达式</span>
  <span class="token keyword">let</span> newStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> p1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 难点就在于，如何让p1字符串解析成对应值</span>
    <span class="token keyword">return</span> <span class="token function">Function</span><span class="token punctuation">(</span><span class="token string">&quot;obj&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;return &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// p1代表 name,age,arr[0]</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newStr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注：</p><p>上面代码中的 p1 代表<code>name,age,arr[0]</code></p><p>但 Function 创建的函数只能访问当前作用域中的变量或全局作用域，当前作用域中没有 name,age,arr 变量，所以肯定访问不到，最终报错。</p><p>所以我们需要将这些变量作为函数的参数传进来，而这些变量名正好对应 obj 对象的属性名，所以我们可以把对象的属性名当做函数的形参，对象属性名对应的属性值，当成实参传入。</p><p>写一个方法，将对象的属性名和属性值当成新创建函数的形参和对应的实参</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 解析字符串中的\${...} 格式的内容</span>
<span class="token keyword">function</span> <span class="token function">interpolate</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取得所有对象的属性名，返回结果为数线</span>
  <span class="token keyword">const</span> values <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取得所有对象的属性值，返回结果为数组</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token operator">...</span>keys<span class="token punctuation">,</span> <span class="token string">&quot;return name +&#39;&#39;+ age+&#39;&#39;+ arr[0]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">...</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// 上面 new Function代码相当于创建如下函数,并执行</span>
  <span class="token comment">// (function anonymous(name,age,arr){</span>
  <span class="token comment">//     return name+&quot;-&quot;+age+&quot;-&quot;+arr[0];</span>
  <span class="token comment">//  })(&quot;清心&quot;,23,[1,2,3]);</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
  <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">interpolate</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 清心-23-1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>两者一整合，完美实现</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">strParse</span><span class="token punctuation">(</span><span class="token parameter">str<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> reg <span class="token operator">=</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\\${(.+?)}</span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">;</span> <span class="token comment">// 正则表达式</span>
  <span class="token keyword">let</span> newStr <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">v<span class="token punctuation">,</span> p1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token function">interpolate</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取得所有对象的属性名，返回结果为数线</span>
      <span class="token keyword">const</span> values <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 取得所有对象的属性值，返回结果为数组</span>
      <span class="token keyword">return</span> <span class="token function">Function</span><span class="token punctuation">(</span><span class="token operator">...</span>keys<span class="token punctuation">,</span> <span class="token string">&quot;return &quot;</span> <span class="token operator">+</span> p1<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token operator">...</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> newStr<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">23</span><span class="token punctuation">,</span>
    <span class="token literal-property property">arr</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">&quot;大家好，我是\${name},今年\${age}岁了\${arr[0]}&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">strParse</span><span class="token punctuation">(</span>str<span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 大家好，我是清心,今年23岁了1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>总结：通过这个面试题，我们重点掌握以下三个思想</p><ul><li>如何利用正则匹配符合模式的内容</li><li>如何把一个字符串，像正常的 JS 代码一样去执行</li><li>Function 函数创建的函数相当于是在全局作用域中被创建的，所以他只能访问当前函数内的局部变量和全局变量，所以我们要把创建出来的函数体中用到变量，全都都当成参数给他传进去，同时还要把对应参数的实参也要传进去。</li></ul><h3 id="_2、扩展知识-eval、function-构造函数" tabindex="-1"><a class="header-anchor" href="#_2、扩展知识-eval、function-构造函数" aria-hidden="true">#</a> 2、扩展知识：eval、Function 构造函数</h3><p>深入浅出 eval、Function 构造函数</p><h3 id="_2-1、eval-函数" tabindex="-1"><a class="header-anchor" href="#_2-1、eval-函数" aria-hidden="true">#</a> 2.1、eval() 函数</h3><ul><li><code>eval()</code> 函数 将传入的字符串当成 JS 脚本代码来执行</li><li>如果参数是一个表达式，<code>eval()</code> 函数将执行表达式。如果参数是 JavaScript 语句，<code>eval()</code> 将执行 JavaScript 语句（代码）。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token function">eval</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 语法</span>
<span class="token comment">// eval中的字符串会被当成正常的JS脚本来执行</span>
<span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;let a=1;let b=2; console.log(a+b);&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span><span class="token string">&quot;a+b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 7 对表达式求值，并将结果返回</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">eval</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1 对表达式求值，并将结果返回</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-2、function-构造函数" tabindex="-1"><a class="header-anchor" href="#_2-2、function-构造函数" aria-hidden="true">#</a> 2.2、Function 构造函数</h3><p>Function 构造函数用来创建一个新的函数对象，可以直接调用 Function 构造函数，也可以用 new 关键字来调用</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> fn1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span>arg2<span class="token punctuation">,</span>arg3<span class="token operator">...</span><span class="token punctuation">,</span>functionBody<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> fn2<span class="token operator">=</span><span class="token function">Function</span><span class="token punctuation">(</span>arg1<span class="token punctuation">,</span>arg2<span class="token punctuation">,</span>arg3<span class="token operator">...</span><span class="token punctuation">,</span>functionBody<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>fn1 和 fn2 为新创建出来的函数</li><li>arg1，arg2，arg3... 都是一个字符串，为新创建出来的函数的形参</li><li>functionBody 是 <code>Function()</code> 构造函数的最后一个参数，表示新创建出来的函数的函数体代码</li><li>如果<code>Function()</code>或 <code>new Function()</code>中只一个参数，那这个参数就是函数体代码，这个新创建出来的函数没有参数。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// 以下代码相当于创建了匿名函数  sum= function anonymous(a,b){return a+b}</span>
<span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;return a+b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>

<span class="token comment">// 相当于创建了匿名函数</span>
<span class="token comment">// sayHell=function anonymous(){console.log(&quot;大家好，我是...&quot;)}</span>
<span class="token keyword">var</span> sayHello <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">&#39;console.log(&quot;大家好，我是...&quot;)&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 大家好，我是...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-3、function-构造函数注意事项" tabindex="-1"><a class="header-anchor" href="#_2-3、function-构造函数注意事项" aria-hidden="true">#</a> 2.3、Function 构造函数注意事项</h3><p>Function 构造函数创建的函数，总是被创建于全局环境（全局作用域），因此运行此函数时只能访问到当前函数作用域中的局部变量和全局变量。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">&quot;console.log(a)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里的a指向最外层全局作用域中的a</span>
  <span class="token comment">// 上面代码相当于创建函数</span>
  <span class="token comment">// function anonymous(){</span>
  <span class="token comment">//    console.log(a); // 这里的a指向最外层全局作用域中的a</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">createFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">createFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token string">&quot;清心&quot;</span><span class="token punctuation">;</span>
  <span class="token comment">// b最终接受传过的的实参b=2，a指向全局作用域中的a=5 ，c指向函数体内的c=1</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;let c=1;console.log(a+b+c)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// 上面代码相当于创建函数</span>
  <span class="token comment">// function anonymous(b) {</span>
  <span class="token comment">//   let c = 1;</span>
  <span class="token comment">//   console.log(a + b + c);</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> fn <span class="token operator">=</span> <span class="token function">createFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 5</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>推荐阅读：</p><p>里面会讲到 <code>eval()</code> 和 <code>Function()</code> 之间的对比，还有更多替代 eval 实现复杂效果的方法</p><blockquote><p>https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/eval</p></blockquote>`,251),o=[e];function c(l,i){return s(),a("div",null,o)}const r=n(p,[["render",c],["__file","Symbol、BigInt、mobanzifuchuandeyingyongchangjinghedicengyuanli.html.vue"]]);export{r as default};
